(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{5531:function(e,a,t){"use strict";t.d(a,{Z:function(){return createLucideIcon}});var r=t(2265);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),toPascalCase=e=>{let a=toCamelCase(e);return a.charAt(0).toUpperCase()+a.slice(1)},mergeClasses=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim(),hasA11yProp=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:i,...c},d)=>(0,r.createElement)("svg",{ref:d,...s,width:a,height:a,stroke:e,strokeWidth:n?24*Number(t)/Number(a):t,className:mergeClasses("lucide",l),...!o&&!hasA11yProp(c)&&{"aria-hidden":"true"},...c},[...i.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(o)?o:[o]])),createLucideIcon=(e,a)=>{let t=(0,r.forwardRef)(({className:t,...s},l)=>(0,r.createElement)(n,{ref:l,iconNode:a,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,t),...s}));return t.displayName=toPascalCase(e),t}},7216:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(5531);let s=(0,r.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9670:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(5531);let s=(0,r.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5589:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(5531);let s=(0,r.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1295:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(5531);let s=(0,r.Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},2741:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(5531);let s=(0,r.Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},7972:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(5531);let s=(0,r.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},253:function(e,a,t){Promise.resolve().then(t.bind(t,7778))},7778:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return RegisterPage}});var r=t(7437),s=t(2265),n=t(1396),l=t.n(n),o=t(4033),i=t(7972),c=t(1295),d=t(2741),u=t(5589),m=t(7216),h=t(9670),f=t(6820),p=t.n(f);function RegisterPage(){let[e,a]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:"",phone:""}),[t,n]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),[y,k]=(0,s.useState)(!0),[w,v]=(0,s.useState)(0),j=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("user");if(e&&a)try{let e=JSON.parse(a);"ADMIN"===e.role?j.replace("/admin"):j.replace("/");return}catch(e){localStorage.removeItem("token"),localStorage.removeItem("user"),k(!1)}else k(!1)},[j]);let N=["/images/badminton.jpg","/images/futsal.jpg","/images/basket.jpg"];(0,s.useEffect)(()=>{let e=setInterval(()=>{v(e=>(e+1)%N.length)},5e3);return()=>clearInterval(e)},[N.length]);let handleSubmit=async a=>{if(a.preventDefault(),e.password!==e.confirmPassword){p().fire({icon:"error",title:"Password Tidak Cocok",text:"Password dan konfirmasi password tidak cocok",confirmButtonColor:"#2563eb"});return}let t=await p().fire({title:"Apakah data Anda sudah benar?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, lanjutkan!",cancelButtonText:"Periksa lagi",confirmButtonColor:"#2563eb"});if(t.isConfirmed){b(!0);try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password,phone:e.phone})}),t=await a.json();if(!a.ok){p().fire({icon:"error",title:"Pendaftaran Gagal",text:t.error||"Terjadi kesalahan saat mendaftar",confirmButtonColor:"#2563eb"});return}t.token?(localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),window.dispatchEvent(new Event("userLogin")),p().fire({icon:"success",title:"Berhasil!",text:"Akun Anda telah dibuat dan login otomatis.",showConfirmButton:!1,timer:1500}),setTimeout(()=>{j.push("/dashboard"),j.refresh()},1500)):(p().fire({icon:"error",title:"Pendaftaran Gagal",text:"Akun berhasil dibuat, tapi terjadi kesalahan. Silakan login manual.",confirmButtonColor:"#2563eb"}),setTimeout(()=>{j.push("/login")},2e3))}catch(e){p().fire({icon:"error",title:"Error Jaringan",text:"Terjadi kesalahan jaringan. Silakan coba lagi.",confirmButtonColor:"#2563eb"})}finally{b(!1)}}},handleChange=t=>{a({...e,[t.target.name]:t.target.value})};return y?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Memuat..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row bg-gray-50 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center px-6 py-10 z-10 relative",children:(0,r.jsxs)("div",{className:"bg-white shadow-2xl rounded-2xl p-8 w-full max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Lapangan Olahraga Puri Beta"}),(0,r.jsx)("p",{className:"text-center text-gray-600 mb-6",children:"Daftar Sekarang!"}),(0,r.jsxs)("form",{className:"space-y-5",onSubmit:handleSubmit,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:handleChange,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan nama lengkap Anda"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:handleChange,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan email Anda"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nomor Telepon"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:handleChange,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan nomor telepon Anda"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:e.password,onChange:handleChange,className:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan password Anda"}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!t),children:t?(0,r.jsx)(m.Z,{className:"h-5 w-5 text-gray-400"}):(0,r.jsx)(h.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Konfirmasi Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",required:!0,value:e.confirmPassword,onChange:handleChange,className:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Konfirmasi password Anda"}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!f),children:f?(0,r.jsx)(m.Z,{className:"h-5 w-5 text-gray-400"}):(0,r.jsx)(h.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"w-full py-2.5 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-all",children:x?"Memproses...":"Daftar"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 text-center mt-4",children:["Sudah punya akun?"," ",(0,r.jsx)(l(),{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 underline",children:"Masuk disini"})]})]})]})}),(0,r.jsxs)("div",{className:"hidden lg:block lg:flex-1 relative overflow-hidden",children:[N.map((e,a)=>(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center transition-opacity duration-1000 ease-in-out ".concat(a===w?"opacity-100":"opacity-0"),style:{backgroundImage:"url(".concat(e,")")}},a)),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"})]})]})}},4033:function(e,a,t){e.exports=t(94)}},function(e){e.O(0,[461,176,971,472,744],function(){return e(e.s=253)}),_N_E=e.O()}]);