(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{4056:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(5531);let l=(0,s.Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},8882:function(e,t,a){Promise.resolve().then(a.bind(a,7511))},7511:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AdminMembersPage}});var s=a(7437),l=a(2265),n=a(4033),r=a(9250),i=a(636),d=a(4056),c=a(5531);let o=(0,c.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m=(0,c.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var u=a(3589),x=a(5367),h=a(8203),g=a(6141),p=a(6820),b=a.n(p);let y={MONDAY:"Senin",TUESDAY:"Selasa",WEDNESDAY:"Rabu",THURSDAY:"Kamis",FRIDAY:"Jumat",SATURDAY:"Sabtu",SUNDAY:"Minggu"};function AdminMembersPage(){var e;let[t,a]=(0,l.useState)([]),[c,p]=(0,l.useState)([]),[f,j]=(0,l.useState)(!0),[w,v]=(0,l.useState)(!1),[N,k]=(0,l.useState)(!1),[M,T]=(0,l.useState)(!1),[B,E]=(0,l.useState)(!1),[S,D]=(0,l.useState)(!1),[I,L]=(0,l.useState)(null),[C,R]=(0,l.useState)(null),[A,_]=(0,l.useState)(null);(0,n.useRouter)();let[O,P]=(0,l.useState)({name:"",contactName:"",fieldId:"",packageType:"MEMBER_1",startDate:new Date().toISOString().split("T")[0]}),[W,U]=(0,l.useState)([{dayOfWeek:"",startTime:"",endTime:""}]),[Y,J]=(0,l.useState)({dayOfWeek:"",startTime:"",endTime:""}),[z,H]=(0,l.useState)({packageType:"MEMBER_1"});(0,l.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t){window.location.replace("/login");return}try{let e=JSON.parse(t);if("ADMIN"!==e.role){window.location.replace("/dashboard");return}fetchMembers(),fetchFields()}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.replace("/login")}},[]);let fetchMembers=async()=>{try{let e=localStorage.getItem("token"),t={"Content-Type":"application/json"};e&&(t.Authorization="Bearer ".concat(e));let s=await fetch("/api/admin/members",{headers:t});if(401===s.status){console.log("âŒ Unauthorized - redirecting to login"),window.location.replace("/login");return}if(s.ok){let e=await s.json();a(e.members||[])}}catch(e){console.error("Error fetching members:",e)}finally{j(!1)}},fetchFields=async()=>{try{let e=await fetch("/api/v1/fields");if(e.ok){let t=await e.json();p(t.fields||[])}}catch(e){console.error("Error fetching fields:",e)}},handleSubmit=async e=>{e.preventDefault(),console.log("FormData:",O),console.log("Selected Schedules:",W);let t=[];if(O.name||t.push("Member Name"),O.contactName||t.push("Contact Person"),O.fieldId||t.push("Field"),!I){let e=W.some(e=>!e.dayOfWeek||!e.startTime||!e.endTime);e&&t.push("Complete all schedule fields (Day, Start Time, End Time)")}if(t.length>0){b().fire({icon:"warning",title:"Data Tidak Lengkap",html:"Field yang belum diisi:<br/><strong>".concat(t.join("<br/>"),"</strong>"),confirmButtonColor:"#2563eb"});return}let a=I?"/api/admin/members/".concat(I.id):"/api/admin/members",s=I?{name:O.name,contactName:O.contactName,fieldId:parseInt(O.fieldId),packageType:O.packageType,startDate:O.startDate}:{name:O.name,contactName:O.contactName,fieldId:parseInt(O.fieldId),schedules:W,packageType:O.packageType,startDate:O.startDate};console.log("Sending payload:",s);try{let e=localStorage.getItem("token"),t={"Content-Type":"application/json"};e&&(t.Authorization="Bearer ".concat(e));let l=await fetch(a,{method:I?"PUT":"POST",headers:t,body:JSON.stringify(s)}),n=await l.json();l.ok?(b().fire({icon:"success",title:I?"Member Diperbarui!":"Member Ditambahkan!",showConfirmButton:!1,timer:1500}),k(!1),resetForm(),fetchMembers()):409===l.status?b().fire({icon:"error",title:"Jadwal Bentrok!",html:n.message||n.error||"Jadwal bentrok dengan member lain",confirmButtonColor:"#dc2626"}):b().fire({icon:"error",title:"Gagal",text:n.error||"Terjadi kesalahan"})}catch(e){b().fire({icon:"error",title:"Gagal",text:"Gagal menyimpan member"})}},handleEdit=e=>{L(e),P({name:e.name,contactName:e.contactName,fieldId:e.fieldId.toString(),packageType:e.packageType||"MEMBER_1",startDate:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}),U([{dayOfWeek:"",startTime:"",endTime:""}]),k(!0)},resetForm=()=>{P({name:"",contactName:"",fieldId:"",packageType:"MEMBER_1",startDate:new Date().toISOString().split("T")[0]}),U([{dayOfWeek:"",startTime:"",endTime:""}]),L(null)},resetScheduleForm=()=>{J({dayOfWeek:"",startTime:"",endTime:""}),R(null)},handleExtendMember=e=>{_(e),H({packageType:"MEMBER_1"}),D(!0)},handleSubmitExtend=async e=>{if(e.preventDefault(),A)try{let e=new Date(A.endDate),t="MEMBER_PLUS"===z.packageType?12:parseInt(z.packageType.split("_")[1]),a=new Date(e);a.setMonth(a.getMonth()+t);let s=localStorage.getItem("token"),l={"Content-Type":"application/json"};s&&(l.Authorization="Bearer ".concat(s));let n=A.schedules.map(e=>fetch("/api/admin/members/".concat(e.id),{method:"PUT",headers:l,body:JSON.stringify({name:A.name,contactName:A.contactName,fieldId:A.fieldId,packageType:z.packageType,endDate:a.toISOString().split("T")[0]})})),r=await Promise.all(n),i=r.every(e=>e.ok);if(i)b().fire({icon:"success",title:"Member Diperpanjang!",html:"Member <strong>".concat(A.name,"</strong> berhasil diperpanjang<br/>\n                 <small>Berakhir pada: ").concat(a.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),"</small>"),showConfirmButton:!1,timer:2e3}),D(!1),_(null),fetchMembers();else throw Error("Some updates failed")}catch(e){b().fire({icon:"error",title:"Gagal",text:"Gagal memperpanjang member"})}},handleAddSchedule=e=>{R(e),J({dayOfWeek:"",startTime:"",endTime:""}),T(!0)},handleSubmitSchedule=async e=>{if(e.preventDefault(),!C)return;let t=[];if(Y.dayOfWeek||t.push("Day"),Y.startTime||t.push("Start Time"),Y.endTime||t.push("End Time"),t.length>0){b().fire({icon:"warning",title:"Data Tidak Lengkap",html:"Field yang hilang:<br/><strong>".concat(t.join("<br/>"),"</strong>"),confirmButtonColor:"#2563eb"});return}let a={name:C.name,contactName:C.contactName,fieldId:C.fieldId,dayOfWeek:Y.dayOfWeek,startTime:Y.startTime,endTime:Y.endTime,packageType:C.packageType||"MONTHLY_1",startDate:C.startDate?new Date(C.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]};try{let e=localStorage.getItem("token"),t={"Content-Type":"application/json"};e&&(t.Authorization="Bearer ".concat(e));let s=await fetch("/api/admin/members",{method:"POST",headers:t,body:JSON.stringify(a)}),l=await s.json();s.ok?(b().fire({icon:"success",title:"Jadwal Ditambahkan!",text:"Jadwal baru untuk ".concat(C.name," telah dibuat"),showConfirmButton:!1,timer:1500}),T(!1),resetScheduleForm(),fetchMembers()):409===s.status?b().fire({icon:"error",title:"Jadwal Bentrok!",html:l.message||l.error||"Jadwal bentrok dengan member lain di lapangan yang sama",confirmButtonColor:"#dc2626"}):b().fire({icon:"error",title:"Gagal",text:l.error||"Terjadi kesalahan"})}catch(e){b().fire({icon:"error",title:"Gagal",text:"Gagal menambahkan jadwal"})}},F=t.reduce((e,t)=>{let a="".concat(t.name,"-").concat(t.contactName,"-").concat(t.fieldId);return e[a]||(e[a]={name:t.name,contactName:t.contactName,fieldId:t.fieldId,field:t.field,isActive:t.isActive,packageType:t.packageType,startDate:t.startDate,endDate:t.endDate,schedules:[]}),e[a].schedules.push({id:t.id,dayOfWeek:t.dayOfWeek,startTime:t.startTime,endTime:t.endTime,createdAt:t.createdAt}),e},{}),Z=Object.values(F);return f?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(r.Z,{isOpen:w,setIsOpen:v}),(0,s.jsxs)("div",{className:"lg:ml-64",children:[(0,s.jsx)(i.Z,{title:"Member Reguler",onMenuClick:()=>v(!0)}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"List Member"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Lihat Info Jadwal"})]}),(0,s.jsxs)("button",{onClick:()=>{resetForm(),k(!0)},className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[(0,s.jsx)(o,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Tambah Member"})]})]})]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"20%"},children:"Nama Member"}),(0,s.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Lapangan"}),(0,s.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Paket"}),(0,s.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"20%"},children:"Periode"}),(0,s.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Kontak"}),(0,s.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Aksi"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.schedules.length>1&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.schedules.length," jadwal"]})]})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.field.name})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,s.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("MEMBER_PLUS"===e.packageType?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"MEMBER_PLUS"===e.packageType?"Member+":"Member Reguler"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,s.jsxs)("div",{className:"text-xs text-gray-900",children:[e.startDate&&(0,s.jsx)("div",{children:new Date(e.startDate).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),e.endDate&&(0,s.jsx)("div",{className:"text-red-600",children:new Date(e.endDate).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.contactName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>handleExtendMember(e),className:"text-green-600 hover:text-green-900",title:"Perpanjang member",children:(0,s.jsx)(m,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>handleAddSchedule({id:e.schedules[0].id,name:e.name,contactName:e.contactName,fieldId:e.fieldId,dayOfWeek:e.schedules[0].dayOfWeek,startTime:e.schedules[0].startTime,endTime:e.schedules[0].endTime,isActive:e.isActive,createdAt:e.schedules[0].createdAt,field:e.field,packageType:e.packageType||"MONTHLY_1",startDate:e.startDate||new Date().toISOString(),endDate:e.endDate||new Date().toISOString()}),className:"text-purple-600 hover:text-purple-900",title:"Tambah jadwal",children:(0,s.jsx)(o,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>handleEdit({id:e.schedules[0].id,name:e.name,contactName:e.contactName,fieldId:e.fieldId,dayOfWeek:e.schedules[0].dayOfWeek,startTime:e.schedules[0].startTime,endTime:e.schedules[0].endTime,isActive:e.isActive,createdAt:e.schedules[0].createdAt,field:e.field,packageType:e.packageType||"MONTHLY_1",startDate:e.startDate||new Date().toISOString(),endDate:e.endDate||new Date().toISOString()}),className:"text-blue-600 hover:text-blue-900",title:"Edit member",children:(0,s.jsx)(u.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>{let confirmDelete=async()=>{let t=await b().fire({title:"Hapus Member?",html:"Apakah Anda yakin ingin menghapus <strong>".concat(e.name,"</strong>?<br/>Ini akan menghapus semua ").concat(e.schedules.length," jadwal."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Hapus",cancelButtonText:"Batal"});if(t.isConfirmed)try{let t=localStorage.getItem("token"),a={};for(let s of(t&&(a.Authorization="Bearer ".concat(t)),e.schedules))await fetch("/api/admin/members/".concat(s.id),{method:"DELETE",headers:a});b().fire({icon:"success",title:"Terhapus!",text:"Member dan semua jadwal telah dihapus",showConfirmButton:!1,timer:1500}),fetchMembers()}catch(e){b().fire({icon:"error",title:"Gagal",text:"Gagal menghapus member"})}};confirmDelete()},className:"text-red-600 hover:text-red-900",title:"Hapus member",children:(0,s.jsx)(x.Z,{className:"w-5 h-5"})})]})})]},t))})]})})]}),0===Z.length&&(0,s.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[(0,s.jsx)(h.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:'Belum ada member. Klik "Add Member" untuk menambah member baru'})]})]})]}),N&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:I?"Edit Member":"Tambah Member Baru"}),(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Member *"}),(0,s.jsx)("input",{type:"text",required:!0,value:O.name,onChange:e=>P({...O,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Contoh: Badminton Club XYZ"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Kontak *"}),(0,s.jsx)("input",{type:"text",required:!0,value:O.contactName,onChange:e=>P({...O,contactName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"John Doe"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lapangan *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("field-dropdown");null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:O.fieldId?null===(e=c.find(e=>e.id.toString()===O.fieldId))||void 0===e?void 0:e.name:"Pilih lapangan"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{id:"field-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:c.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{var t;P({...O,fieldId:e.id.toString()}),null===(t=document.getElementById("field-dropdown"))||void 0===t||t.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Tipe Paket *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("package-type-dropdown");null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"MEMBER_1"===O.packageType?"Member - 1 Bulan":"MEMBER_2"===O.packageType?"Member - 2 Bulan":"MEMBER_3"===O.packageType?"Member - 3 Bulan":"MEMBER_4"===O.packageType?"Member - 4 Bulan":"MEMBER_5"===O.packageType?"Member - 5 Bulan":"MEMBER_6"===O.packageType?"Member - 6 Bulan":"MEMBER_PLUS"===O.packageType?"Member+ - 12 Bulan":"Pilih tipe paket"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsxs)("div",{id:"package-type-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[(0,s.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member"})}),[{value:"MEMBER_1",label:"1 Bulan"},{value:"MEMBER_2",label:"2 Bulan"},{value:"MEMBER_3",label:"3 Bulan"},{value:"MEMBER_4",label:"4 Bulan"},{value:"MEMBER_5",label:"5 Bulan"},{value:"MEMBER_6",label:"6 Bulan"}].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{var t;P({...O,packageType:e.value}),null===(t=document.getElementById("package-type-dropdown"))||void 0===t||t.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value)),(0,s.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member+"})}),(0,s.jsx)("button",{type:"button",onClick:()=>{var e;P({...O,packageType:"MEMBER_PLUS"}),null===(e=document.getElementById("package-type-dropdown"))||void 0===e||e.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 font-medium text-blue-700",children:"12 Bulan"},"MEMBER_PLUS")]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai Member *"}),(0,s.jsx)("input",{type:"date",required:!0,value:O.startDate,onChange:e=>P({...O,startDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Pilih tanggal kapan member mulai aktif"})]}),!I&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Jadwal Bermain *"}),(0,s.jsxs)("button",{type:"button",onClick:()=>{U([...W,{dayOfWeek:"",startTime:"",endTime:""}])},className:"text-sm text-green-600 hover:text-green-700 font-medium flex items-center",children:[(0,s.jsx)(o,{className:"w-4 h-4 mr-1"}),"Tambah Hari"]})]}),W.map((e,t)=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-3 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Jadwal ",t+1]}),W.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>{let e=W.filter((e,a)=>a!==t);U(e)},className:"text-red-600 hover:text-red-700",title:"Hapus jadwal ini",children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Hari *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("day-dropdown-".concat(t));null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.dayOfWeek?y[e.dayOfWeek]:"Pilih hari"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{id:"day-dropdown-".concat(t),className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[{value:"MONDAY",label:"Senin"},{value:"TUESDAY",label:"Selasa"},{value:"WEDNESDAY",label:"Rabu"},{value:"THURSDAY",label:"Kamis"},{value:"FRIDAY",label:"Jumat"},{value:"SATURDAY",label:"Sabtu"},{value:"SUNDAY",label:"Minggu"}].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{var a;let s=[...W];s[t].dayOfWeek=e.value,U(s),null===(a=document.getElementById("day-dropdown-".concat(t)))||void 0===a||a.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Jam Mulai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("start-time-dropdown-".concat(t));null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.startTime||"Pilih jam"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{id:"start-time-dropdown-".concat(t),className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,a)=>{let l="".concat((a+8).toString().padStart(2,"0"),":00");return(0,s.jsx)("button",{type:"button",onClick:()=>{var e;let a=[...W];a[t].startTime=l,U(a),null===(e=document.getElementById("start-time-dropdown-".concat(t)))||void 0===e||e.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:l},l)})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Jam Selesai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("end-time-dropdown-".concat(t));null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.endTime||"Pilih jam"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{id:"end-time-dropdown-".concat(t),className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,a)=>{let l="".concat((a+9).toString().padStart(2,"0"),":00");return(0,s.jsx)("button",{type:"button",onClick:()=>{var e;let a=[...W];a[t].endTime=l,U(a),null===(e=document.getElementById("end-time-dropdown-".concat(t)))||void 0===e||e.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:l},l)})})]})]})]}),e.dayOfWeek&&e.startTime&&e.endTime&&(0,s.jsx)("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:(0,s.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,s.jsx)("strong",{children:y[e.dayOfWeek]})," ",e.startTime," - ",e.endTime," (".concat(parseInt(e.endTime.split(":")[0])-parseInt(e.startTime.split(":")[0])," jam)")]})})]})]},t))]})}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsxs)("button",{type:"submit",className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[I?"Perbarui":"Buat"," Member"]}),(0,s.jsx)("button",{type:"button",onClick:()=>{k(!1),resetForm()},className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Batal"})]})]})]})})}),M&&C&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Tambah Jadwal"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Menambah jadwal baru untuk ",(0,s.jsx)("strong",{className:"text-gray-900",children:C.name})]}),(0,s.jsxs)("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Jadwal Saat Ini:"}),(0,s.jsx)("div",{className:"space-y-2",children:(()=>{let e=Z.find(e=>e.name===C.name);return null==e?void 0:e.schedules.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white rounded p-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:y[e.dayOfWeek]}),(0,s.jsxs)("span",{className:"text-gray-600 text-xs ml-2",children:[e.startTime," - ",e.endTime]})]}),(0,s.jsx)("button",{type:"button",onClick:async()=>{let t=await b().fire({title:"Hapus Jadwal?",html:"Apakah Anda yakin ingin menghapus jadwal <strong>".concat(y[e.dayOfWeek]," ").concat(e.startTime,"-").concat(e.endTime,"</strong>?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Hapus",cancelButtonText:"Batal"});if(t.isConfirmed)try{let t=localStorage.getItem("token"),a={};t&&(a.Authorization="Bearer ".concat(t));let s=await fetch("/api/admin/members/".concat(e.id),{method:"DELETE",headers:a});if(s.ok){b().fire({icon:"success",title:"Terhapus!",showConfirmButton:!1,timer:1500}),fetchMembers();let e=Z.find(e=>e.name===C.name);e&&e.schedules.length<=1&&(T(!1),resetScheduleForm())}}catch(e){b().fire({icon:"error",title:"Gagal",text:"Gagal menghapus jadwal"})}},className:"text-red-400 hover:text-red-600 hover:bg-red-50 rounded p-1 transition-colors",title:"Hapus jadwal ini",children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})})]},e.id))})()})]}),(0,s.jsxs)("form",{onSubmit:handleSubmitSchedule,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Hari Tambahan *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("schedule-day-dropdown");null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:Y.dayOfWeek?y[Y.dayOfWeek]:"Pilih hari"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{id:"schedule-day-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[{value:"MONDAY",label:"Senin"},{value:"TUESDAY",label:"Selasa"},{value:"WEDNESDAY",label:"Rabu"},{value:"THURSDAY",label:"Kamis"},{value:"FRIDAY",label:"Jumat"},{value:"SATURDAY",label:"Sabtu"},{value:"SUNDAY",label:"Minggu"}].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{var t;J({...Y,dayOfWeek:e.value}),null===(t=document.getElementById("schedule-day-dropdown"))||void 0===t||t.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jam Mulai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("schedule-start-time-dropdown");null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:Y.startTime||"Pilih jam"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{id:"schedule-start-time-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,t)=>{let a="".concat((t+8).toString().padStart(2,"0"),":00");return(0,s.jsx)("button",{type:"button",onClick:()=>{var e;J({...Y,startTime:a}),null===(e=document.getElementById("schedule-start-time-dropdown"))||void 0===e||e.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:a},a)})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jam Selesai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("schedule-end-time-dropdown");null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:Y.endTime||"Pilih jam"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{id:"schedule-end-time-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,t)=>{let a="".concat((t+9).toString().padStart(2,"0"),":00");return(0,s.jsx)("button",{type:"button",onClick:()=>{var e;J({...Y,endTime:a}),null===(e=document.getElementById("schedule-end-time-dropdown"))||void 0===e||e.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:a},a)})})]})]})]}),Y.startTime&&Y.endTime&&(0,s.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 text-blue-600"}),(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"Durasi:"})," ",parseInt(Y.endTime.split(":")[0])-parseInt(Y.startTime.split(":")[0])," jam"]})]})}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"submit",className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 font-medium",children:"Tambah Jadwal"}),(0,s.jsx)("button",{type:"button",onClick:()=>{T(!1),resetScheduleForm()},className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 font-medium",children:"Batal"})]})]})]})})}),B&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Ringkasan Jadwal Member"}),(0,s.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.map(e=>{let t=Z.filter(t=>t.fieldId===e.id);return 0===t.length?null:(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3 pb-2 border-b-2 border-gray-200",children:e.name}),["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"].map(e=>{let a=t.flatMap(t=>t.schedules.filter(t=>t.dayOfWeek===e));return 0===a.length?null:(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:y[e]}),(0,s.jsx)("div",{className:"space-y-2",children:a.map(e=>{let a=t.find(t=>t.schedules.some(t=>t.id===e.id));return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:null==a?void 0:a.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Kontak: ",null==a?void 0:a.contactName]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-blue-600",children:[e.startTime," - ",e.endTime]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[parseInt(e.endTime.split(":")[0])-parseInt(e.startTime.split(":")[0])," jam"]})]})]},e.id)})})]})},e)})]},e.id)}),0===Z.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(h.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Belum ada member terdaftar"})]}),(0,s.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,s.jsx)("button",{onClick:()=>E(!1),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Tutup"})})]})})}),S&&A&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m,{className:"w-6 h-6 text-green-600"}),(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Perpanjang Member"})]}),(0,s.jsx)("button",{onClick:()=>{D(!1),_(null)},className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 border border-blue-200",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Informasi Member:"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Nama:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:A.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Kontak:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:A.contactName})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Lapangan:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:A.field.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Paket Saat Ini:"}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("MEMBER_PLUS"===A.packageType?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"MEMBER_1"===A.packageType?"Member 1 Bln":"MEMBER_2"===A.packageType?"Member 2 Bln":"MEMBER_3"===A.packageType?"Member 3 Bln":"MEMBER_4"===A.packageType?"Member 4 Bln":"MEMBER_5"===A.packageType?"Member 5 Bln":"MEMBER_6"===A.packageType?"Member 6 Bln":"MEMBER_PLUS"===A.packageType?"Member+ 12 Bln":"-"})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-2 border-t border-blue-300",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Mulai:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:new Date(A.startDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Berakhir:"}),(0,s.jsx)("span",{className:"font-medium text-red-600",children:new Date(A.endDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),(0,s.jsxs)("form",{onSubmit:handleSubmitExtend,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Paket Perpanjangan *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("extend-package-dropdown");null==e||e.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"MEMBER_1"===z.packageType?"Member - 1 Bulan":"MEMBER_2"===z.packageType?"Member - 2 Bulan":"MEMBER_3"===z.packageType?"Member - 3 Bulan":"MEMBER_4"===z.packageType?"Member - 4 Bulan":"MEMBER_5"===z.packageType?"Member - 5 Bulan":"MEMBER_6"===z.packageType?"Member - 6 Bulan":"MEMBER_PLUS"===z.packageType?"Member+ - 12 Bulan":"Pilih paket"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsxs)("div",{id:"extend-package-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:[(0,s.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member"})}),[{value:"MEMBER_1",label:"1 Bulan"},{value:"MEMBER_2",label:"2 Bulan"},{value:"MEMBER_3",label:"3 Bulan"},{value:"MEMBER_4",label:"4 Bulan"},{value:"MEMBER_5",label:"5 Bulan"},{value:"MEMBER_6",label:"6 Bulan"}].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{var t;H({...z,packageType:e.value}),null===(t=document.getElementById("extend-package-dropdown"))||void 0===t||t.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value)),(0,s.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member+"})}),(0,s.jsx)("button",{type:"button",onClick:()=>{var e;H({...z,packageType:"MEMBER_PLUS"}),null===(e=document.getElementById("extend-package-dropdown"))||void 0===e||e.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 font-medium text-blue-700",children:"12 Bulan"},"MEMBER_PLUS")]})]})]}),z.packageType&&A&&(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"\uD83D\uDCC5 Preview Perpanjangan:"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Durasi Tambahan:"}),(0,s.jsxs)("span",{className:"font-semibold text-green-800 bg-green-100 px-2 py-1 rounded",children:["+",(()=>{let e="MEMBER_PLUS"===z.packageType?12:parseInt(z.packageType.split("_")[1]);return"".concat(e," bulan")})()]})]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-green-300",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Perpanjangan dari:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:new Date(A.endDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Berakhir pada:"}),(0,s.jsx)("span",{className:"font-bold text-green-700",children:(()=>{let e=new Date(A.endDate),t="MEMBER_PLUS"===z.packageType?12:parseInt(z.packageType.split("_")[1]),a=new Date(e);return a.setMonth(a.getMonth()+t),a.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})()})]})]}),(0,s.jsx)("div",{className:"pt-2 border-t border-green-300 bg-blue-50 -mx-4 -mb-4 px-4 py-3 rounded-b-lg",children:(0,s.jsxs)("div",{className:"flex items-center text-xs text-blue-700",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,s.jsxs)("span",{children:["Tanggal mulai member tetap: ",new Date(A.startDate).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]})]})})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"submit",className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-medium",children:"Perpanjang Member"}),(0,s.jsx)("button",{type:"button",onClick:()=>{D(!1),_(null)},className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 font-medium",children:"Batal"})]})]})]})})})]})}}},function(e){e.O(0,[461,176,901,971,472,744],function(){return e(e.s=8882)}),_N_E=e.O()}]);