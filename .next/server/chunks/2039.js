"use strict";exports.id=2039,exports.ids=[2039],exports.modules={12039:(e,t,a)=>{a.d(t,{Z:()=>BookingDetailModal});var s=a(30784),n=a(56206),r=a(26303),l=a(9885),i=a(28626),d=a(19300);function PaymentValidation({reservation:e,onStatusUpdate:t}){let a=e.payment_notes?.toLowerCase()||"",r="CANCELLED"===e.status||"REJECTED"===e.status,c="FULL"===e.payment_type&&(e.payment_proof||e.dp_proof)||void 0,o="DP"===e.payment_type&&(e.dp_proof||e.payment_proof)||void 0,m="DP"===e.payment_type&&e.pelunasan_proof||void 0,u=!!o,x=!!m,p=!!c;console.log("Proof URLs:",{payment_type:e.payment_type,raw_payment_proof:e.payment_proof,raw_dp_proof:e.dp_proof,raw_pelunasan_proof:e.pelunasan_proof,computed_dpProofUrl:o,computed_pelunasanProofUrl:m,computed_fullProofUrl:c,dpProofAvailable:u,pelunasanProofAvailable:x,fullProofAvailable:p});let[y,g]=(0,l.useState)(!1),[h,b]=(0,l.useState)(!1),[f,N]=(0,l.useState)(!1),[j,D]=(0,l.useState)(!1),[_,P]=(0,l.useState)("DP"===e.payment_type?"dp":"full"),[k,v]=(0,l.useState)(!u),[w,E]=(0,l.useState)(!x),[L,T]=(0,l.useState)(!p),A="pelunasan"===_?m:"dp"===_?o:c;(0,l.useEffect)(()=>{v(!o),E(!m),T(!c)},[e.id,o,m,c]);let S="flex items-center justify-center px-4 h-10 rounded-lg text-sm font-medium transition-colors",B=`${S} bg-blue-600 text-white hover:bg-blue-700 w-full`,C=`${S} bg-red-600 text-white hover:bg-red-700 w-full`,I=`${S} bg-green-600 text-white hover:bg-green-700 w-full`,U=`${S} bg-gray-600 text-white hover:bg-gray-700 w-1/2`,R="flex items-center justify-center space-x-2 px-3 h-10 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 w-full",V="flex items-center justify-center space-x-2 px-3 h-10 rounded-md text-sm font-medium bg-gray-200 text-gray-500 cursor-not-allowed w-full",handleViewProof=e=>{("dp"!==e||o)&&("pelunasan"!==e||m)&&("full"!==e||c)&&(P(e),D(!0),"dp"===e?v(!0):"pelunasan"===e?E(!0):T(!0))},Z="DP"===e.payment_type,$=!!(m&&"PAID"!==e.payment_status),F=!u||k,G=!x||w,J=!p||L,K=!!(!F&&Z||!G&&Z&&x||!Z&&!J),handleRejectPelunasan=async()=>{if(h)return;let t="DP"===e.payment_type?x:p,a="DP"===e.payment_type?w:L;if(!t)return;if(!a){await d.Z.fire({icon:"info",title:"Lihat bukti terlebih dahulu",text:`Silakan lihat bukti ${"DP"===e.payment_type?"pelunasan":"pembayaran"} sebelum menolak.`,confirmButtonText:"OK"});return}let s="FULL"===e.payment_type?"Booking akan DITOLAK dan user harus melakukan reservasi ulang dari awal.":"User harus mengunggah ulang bukti pelunasan setelah penolakan.",n=await d.Z.fire({title:`Tolak bukti ${"DP"===e.payment_type?"pelunasan":"pembayaran"}?`,text:s,icon:"warning",showCancelButton:!0,confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280",confirmButtonText:"Ya, tolak",cancelButtonText:"Batal"});n.isConfirmed&&await d.Z.fire({icon:"error",title:"Sesi berakhir",text:"Silakan login ulang sebagai admin untuk melanjutkan.",confirmButtonText:"OK"})},handleRejectDp=async()=>{if(f||!u)return;if(!k){await d.Z.fire({icon:"info",title:"Lihat bukti terlebih dahulu",text:"Silakan lihat bukti DP sebelum menolak.",confirmButtonText:"OK"});return}let e=await d.Z.fire({title:"Tolak bukti DP?",text:"User harus mengunggah ulang bukti DP setelah penolakan.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280",confirmButtonText:"Ya, tolak",cancelButtonText:"Batal"});e.isConfirmed&&await d.Z.fire({icon:"error",title:"Sesi berakhir",text:"Silakan login ulang sebagai admin untuk melanjutkan.",confirmButtonText:"OK"})},handleStatusUpdate=async a=>{g(!0);try{await t(e.id,a,"Diubah oleh admin")}catch(e){console.error("Error updating payment status:",e)}finally{g(!1)}},M=e.total_price??0,O=e.payment_amount??0,H="DP"===e.payment_type&&"DP_PAID"===e.payment_status?e.payment_validated_admin:null,z="DP"===e.payment_type&&"DP_PAID"===e.payment_status?e.payment_validated_at:null,Y=e.dp_validated_admin??H,W=e.dp_validated_at??z,q="DP"===e.payment_type?"PAID"===e.payment_status?e.payment_validated_admin:null:e.payment_validated_admin,Q="DP"===e.payment_type?"PAID"===e.payment_status?e.payment_validated_at:null:e.payment_validated_at,X=e.pelunasan_validated_admin??q,ee=e.pelunasan_validated_at??Q,renderValidatorRow=(e,t,a)=>{let n=a?`${new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})} • ${new Date(a).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:null;return(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-xs text-gray-600 pt-0.5",children:e}),t?.name?(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("span",{className:"block text-xs font-medium text-gray-900",children:t.name}),n&&s.jsx("span",{className:"block text-[10px] text-gray-500",children:n})]}):s.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Belum divalidasi"})]})};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status Pembayaran:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FULL_SENT":case"DP_PAID":return"bg-blue-100 text-blue-800";case"FULL_REJECTED":case"REFUNDED":return"bg-red-100 text-red-800";case"PELUNASAN_SENT":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(e.payment_status)}`,children:(e=>{switch(e){case"PAID":return"Lunas";case"PENDING":return"Menunggu";case"FULL_SENT":return"Bukti Lunas Terkirim";case"FULL_REJECTED":return"Ditolak Admin";case"DP_PAID":return"DP Terbayar";case"PELUNASAN_SENT":return"Pelunasan Terkirim";case"REFUNDED":return"Cancelled";default:return e}})(e.payment_status)})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tipe Pembayaran:"}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${"DP"===e.payment_type?"bg-blue-100 text-blue-800 border border-blue-300":"bg-green-100 text-green-800 border border-green-300"}`,children:"DP"===e.payment_type?"DP":"Lunas"})]}),"DP"===e.payment_type?(0,s.jsxs)("div",{className:"space-y-2",children:[renderValidatorRow("Validasi DP:",Y,W),renderValidatorRow("Validasi Pelunasan:",X,ee)]}):renderValidatorRow("Validasi Pembayaran:",X,ee),(0,s.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Harga:"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",M.toLocaleString("id-ID")]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Jumlah Pembayaran:"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",O.toLocaleString("id-ID")]})]}),"DP"===e.payment_type&&(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-blue-200",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Sisa Pembayaran:"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",(M-O).toLocaleString("id-ID")]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Bukti Pembayaran:"}),"DP"===e.payment_type?(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>handleViewProof("dp"),disabled:!u,className:u?R:V,title:u?"Klik untuk melihat bukti DP":"Bukti DP belum tersedia",children:[s.jsx(i.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Bukti DP"})]}),(0,s.jsxs)("button",{onClick:()=>handleViewProof("pelunasan"),disabled:!x,className:x?"flex items-center justify-center space-x-2 px-3 h-10 rounded-md text-sm font-medium bg-purple-600 text-white hover:bg-purple-700 w-full":V,title:x?"Klik untuk melihat bukti pelunasan":"Bukti pelunasan belum tersedia",children:[s.jsx(i.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Bukti Pelunasan"})]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>handleViewProof("full"),disabled:!p,className:p?R:V,title:p?"Klik untuk melihat bukti pembayaran":"Bukti pembayaran belum tersedia",children:[s.jsx(i.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Bukti Pembayaran"})]}),s.jsx("div",{})]}),"DP"===e.payment_type&&!u&&!x&&s.jsx("p",{className:"text-xs text-gray-500",children:"Belum ada bukti pembayaran yang diunggah."})]}),K&&s.jsx("div",{className:"text-xs text-yellow-700 bg-yellow-50 border border-yellow-200 rounded-md px-3 py-2",children:"Lihat bukti terkait terlebih dahulu sebelum melakukan verifikasi atau pembatalan."}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 items-stretch",children:[s.jsx("button",{onClick:()=>handleStatusUpdate("DP_PAID"),disabled:y||r||"DP"!==e.payment_type||"PENDING"!==e.payment_status||a.includes("pelunasan")||u&&!k,className:B+(y||r||"DP"!==e.payment_type||"PENDING"!==e.payment_status||a.includes("pelunasan")||u&&!k?" opacity-50 cursor-not-allowed":""),children:s.jsx("span",{children:"Verifikasi DP"})}),s.jsx("button",{onClick:handleRejectDp,disabled:f||r||"DP"!==e.payment_type||"PENDING"!==e.payment_status||u&&!k,className:C+(f||r||"DP"!==e.payment_type||"PENDING"!==e.payment_status||u&&!k?" opacity-50 cursor-not-allowed":""),children:s.jsx("span",{children:f?"Memproses...":"Tolak Bukti DP"})}),s.jsx("button",{onClick:()=>handleStatusUpdate("PAID"),disabled:y||r||"PAID"===e.payment_status||"PELUNASAN_PAID"===e.payment_status||"DP"===e.payment_type&&(!$||!x)||"DP"===e.payment_type&&x&&!w||!Z&&p&&!L,className:I+(!y&&!r&&"PAID"!==e.payment_status&&"PELUNASAN_PAID"!==e.payment_status&&("DP"!==e.payment_type||$&&x)&&("DP"!==e.payment_type||!x||w)&&(Z||!p||L)?"":" opacity-50 cursor-not-allowed"),children:s.jsx("span",{children:"DP"===e.payment_type?"Verifikasi Pelunasan":"Verifikasi Lunas"})}),s.jsx("button",{onClick:handleRejectPelunasan,disabled:h||r||"PAID"===e.payment_status||"PELUNASAN_PAID"===e.payment_status||"DP"===e.payment_type&&(!x||x&&!w)||"FULL"===e.payment_type&&(!p||p&&!L),className:C+(h||r||"PAID"===e.payment_status||"PELUNASAN_PAID"===e.payment_status||"DP"===e.payment_type&&(!x||x&&!w)||"FULL"===e.payment_type&&(!p||p&&!L)?" opacity-50 cursor-not-allowed":""),children:s.jsx("span",{children:h?"Memproses...":"DP"===e.payment_type?"Tolak Bukti Pelunasan":"Tolak Bukti Pembayaran"})}),s.jsx("div",{className:"col-span-2 flex justify-center",children:s.jsx("button",{onClick:()=>handleStatusUpdate("REFUNDED"),disabled:y||r,className:U+(y||r?" opacity-50 cursor-not-allowed":""),children:s.jsx("span",{children:"Cancel Pembayaran"})})})]}),"PAID"===e.payment_status&&(0,s.jsxs)("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 rounded-md px-3 py-2 flex items-center space-x-2",children:[s.jsx("span",{children:"✅"}),s.jsx("span",{className:"font-medium",children:"Pembayaran sudah lunas dan terverifikasi"})]}),r&&(0,s.jsxs)("div",{className:"text-sm text-gray-700 bg-gray-50 border border-gray-200 rounded-md px-3 py-2 flex items-center space-x-2",children:[s.jsx("span",{children:"\uD83D\uDEAB"}),s.jsx("span",{className:"font-medium",children:"CANCELLED"===e.status?"Booking sudah dibatalkan - tidak dapat melakukan validasi":"Booking sudah ditolak - tidak dapat melakukan validasi"})]})]}),j&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] overflow-hidden shadow-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"pelunasan"===_?"Bukti Pelunasan":"dp"===_?"Bukti Pembayaran DP":"Bukti Pembayaran"}),"pelunasan"===_&&e.pelunasan_sender_account_name&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Nama Rekening: ",s.jsx("span",{className:"font-semibold text-gray-900",children:e.pelunasan_sender_account_name})]}),("dp"===_||"full"===_)&&e.dp_sender_account_name&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Nama Rekening: ",s.jsx("span",{className:"font-semibold text-gray-900",children:e.dp_sender_account_name})]})]}),s.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(n.Z,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-4",children:s.jsx("img",{src:A,alt:"pelunasan"===_?"Bukti Pelunasan":"Bukti Pembayaran",className:"max-w-full max-h-[70vh] object-contain mx-auto"})}),s.jsx("div",{className:"flex justify-end space-x-2 p-4 border-t",children:s.jsx("button",{onClick:()=>D(!1),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md text-sm hover:bg-gray-200",children:"Tutup"})})]})})]})}function BookingDetailModal({reservation:e,isOpen:t,onClose:a,onPaymentStatusUpdate:l,onDelete:i}){let handleClose=()=>{a()},handleDelete=async()=>{let t=await d.Z.fire({title:"Hapus Reservasi?",html:`
        <div class="text-left">
          <p class="text-gray-700 mb-2">Apakah Anda yakin ingin menghapus reservasi ini?</p>
          <div class="bg-red-50 border border-red-200 rounded-lg p-3 mt-3">
            <p class="text-sm text-red-800"><strong>Perhatian:</strong> Data reservasi akan dihapus permanen dan tidak dapat dikembalikan.</p>
          </div>
          <div class="mt-3 text-sm text-gray-600">
            <p><strong>Customer:</strong> ${e.user.name}</p>
            <p><strong>Lapangan:</strong> ${e.field_name}</p>
            <p><strong>Tanggal:</strong> ${new Date(e.reservation_date).toLocaleDateString("id-ID")}</p>
          </div>
        </div>
      `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal",reverseButtons:!0});if(t.isConfirmed)try{let t=localStorage.getItem("token");if(!t){d.Z.fire({icon:"error",title:"Gagal",text:"Token tidak ditemukan. Silakan login kembali.",confirmButtonColor:"#2563eb"});return}let s=await fetch(`/api/reservations/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),n=await s.json();if(s.ok)await d.Z.fire({icon:"success",title:"Berhasil!",text:"Reservasi berhasil dihapus",confirmButtonColor:"#2563eb",timer:2e3}),a(),i&&i();else throw Error(n.error||"Gagal menghapus reservasi")}catch(e){console.error("Error deleting reservation:",e),d.Z.fire({icon:"error",title:"Gagal",text:e.message||"Terjadi kesalahan saat menghapus reservasi",confirmButtonColor:"#ef4444"})}};if(!t)return null;let c=(e=>{switch(e){case"PENDING":return{color:"bg-yellow-100 text-yellow-800",text:"Menunggu"};case"DP_SENT":return{color:"bg-blue-100 text-blue-800",text:"DP Terkirim"};case"DP_PAID":return{color:"bg-blue-200 text-blue-900",text:"DP Terbayar"};case"DP_REJECTED":return{color:"bg-red-100 text-red-800",text:"DP Ditolak"};case"PELUNASAN_SENT":return{color:"bg-purple-100 text-purple-800",text:"Pelunasan Terkirim"};case"PELUNASAN_REJECTED":return{color:"bg-red-100 text-red-800",text:"Pelunasan Ditolak"};case"PELUNASAN_PAID":return{color:"bg-purple-200 text-purple-900",text:"Pelunasan Terbayar"};case"REJECTED":return{color:"bg-red-100 text-red-800",text:"Ditolak Admin"};case"CANCELLED":return{color:"bg-orange-100 text-orange-800",text:"Dibatalkan"};case"COMPLETED":return{color:"bg-green-100 text-green-800",text:"Selesai"};default:return{color:"bg-gray-100 text-gray-800",text:e}}})(e.status),o=(e=>{switch(e){case"PENDING":return{color:"bg-yellow-100 text-yellow-800",text:"Menunggu"};case"FULL_SENT":return{color:"bg-blue-100 text-blue-800",text:"Bukti Lunas Terkirim"};case"FULL_REJECTED":return{color:"bg-red-100 text-red-800",text:"Ditolak Admin"};case"DP_SENT":return{color:"bg-blue-100 text-blue-800",text:"DP Terkirim"};case"DP_PAID":return{color:"bg-blue-200 text-blue-900",text:"DP Terbayar"};case"DP_REJECTED":return{color:"bg-red-100 text-red-800",text:"DP Ditolak"};case"PELUNASAN_SENT":return{color:"bg-purple-100 text-purple-800",text:"Pelunasan Terkirim"};case"PELUNASAN_PAID":return{color:"bg-purple-200 text-purple-900",text:"Pelunasan Terbayar"};case"PAID":return{color:"bg-green-100 text-green-800",text:"Lunas"};case"REFUNDED":return{color:"bg-red-100 text-red-800",text:"Dikembalikan"};default:return{color:"bg-gray-100 text-gray-800",text:e}}})(e.payment_status);return e.payment_validated_at&&new Date(e.payment_validated_at).toLocaleString("id-ID"),s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 flex-shrink-0",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Detail Booking"}),s.jsx("button",{onClick:handleClose,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(n.Z,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Informasi Lapangan"}),s.jsx("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Nama Lapangan:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.field_name})]})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Informasi Customer"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Nama:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.user.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.user.email})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Telepon:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.user.phone||"Tidak ada"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Detail Reservasi"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tanggal:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(e.reservation_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Waktu:"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.start_time," - ",e.end_time]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tipe Pembayaran:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"DP"===e.payment_type?"DP":"Lunas"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Harga:"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",e.total_price.toLocaleString("id-ID")]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pembayaran:"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",(e.payment_amount||e.total_price).toLocaleString("id-ID")]})]}),"DP"===e.payment_type&&(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Sisa Pembayaran:"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",(e.total_price-(e.payment_amount||0)).toLocaleString("id-ID")]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.color}`,children:c.text})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Status Pembayaran:"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.color}`,children:o.text})]})]})]}),e.notes&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Catatan"}),s.jsx("p",{className:"text-sm text-gray-700",children:e.notes})]})]}),s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Validasi Pembayaran"}),s.jsx(PaymentValidation,{reservation:e,onStatusUpdate:l})]})})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 flex-shrink-0 bg-gray-50",children:[(0,s.jsxs)("button",{onClick:handleDelete,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-sm",children:[s.jsx(r.Z,{className:"w-4 h-4 mr-2"}),"Hapus Reservasi"]}),s.jsx("button",{onClick:handleClose,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:"Tutup"})]})]})})}}};