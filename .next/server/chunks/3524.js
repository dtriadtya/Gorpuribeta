exports.id=3524,exports.ids=[3524],exports.modules={89872:function(h){(function(){var c,f,g,d;"undefined"!=typeof performance&&null!==performance&&performance.now?h.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(h.exports=function(){return(c()-d)/1e6},f=process.hrtime,d=(c=function(){var h;return 1e9*(h=f())[0]+h[1]})()-1e9*process.uptime()):Date.now?(h.exports=function(){return Date.now()-g},g=Date.now()):(h.exports=function(){return new Date().getTime()-g},g=new Date().getTime())}).call(this)},62783:(h,c,f)=>{for(var g=f(89872),d="undefined"==typeof window?global:window,x=["moz","webkit"],b="AnimationFrame",E=d["request"+b],P=d["cancel"+b]||d["cancelRequest"+b],S=0;!E&&S<x.length;S++)E=d[x[S]+"Request"+b],P=d[x[S]+"Cancel"+b]||d[x[S]+"CancelRequest"+b];if(!E||!P){var w=0,T=0,C=[],A=1e3/60;E=function(h){if(0===C.length){var c=g(),f=Math.max(0,A-(c-w));w=f+c,setTimeout(function(){var h=C.slice(0);C.length=0;for(var c=0;c<h.length;c++)if(!h[c].cancelled)try{h[c].callback(w)}catch(h){setTimeout(function(){throw h},0)}},Math.round(f))}return C.push({handle:++T,callback:h,cancelled:!1}),T},P=function(h){for(var c=0;c<C.length;c++)C[c].handle===h&&(C[c].cancelled=!0)}}h.exports=function(h){return E.call(d,h)},h.exports.cancel=function(){P.apply(d,arguments)},h.exports.polyfill=function(h){h||(h=d),h.requestAnimationFrame=E,h.cancelAnimationFrame=P}},76049:h=>{h.exports=function(h){this.ok=!1,this.alpha=1,"#"==h.charAt(0)&&(h=h.substr(1,6));var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};h=c[h=(h=h.replace(/ /g,"")).toLowerCase()]||h;for(var f=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3]),parseFloat(h[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],g=0;g<f.length;g++){var d=f[g].re,x=f[g].process,b=d.exec(h);if(b){var E=x(b);this.r=E[0],this.g=E[1],this.b=E[2],E.length>3&&(this.alpha=E[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var h=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return 1==h.length&&(h="0"+h),1==c.length&&(c="0"+c),1==f.length&&(f="0"+f),"#"+h+c+f},this.getHelpXML=function(){for(var h=[],g=0;g<f.length;g++)for(var d=f[g].example,x=0;x<d.length;x++)h[h.length]=d[x];for(var b in c)h[h.length]=b;var E=document.createElement("ul");E.setAttribute("id","rgbcolor-examples");for(var g=0;g<h.length;g++)try{var P=document.createElement("li"),S=new RGBColor(h[g]),w=document.createElement("div");w.style.cssText="margin: 3px; border: 1px solid black; background:"+S.toHex()+"; color:"+S.toHex(),w.appendChild(document.createTextNode("test"));var T=document.createTextNode(" "+h[g]+" -> "+S.toRGB()+" -> "+S.toHex());P.appendChild(w),P.appendChild(T),E.appendChild(P)}catch(h){}return E}}},19338:function(h,c){(function(h){"use strict";function _typeof(h){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(h)}function _classCallCheck(h,c){if(!(h instanceof c))throw TypeError("Cannot call a class as a function")}/**
  * StackBlur - a fast almost Gaussian Blur For Canvas
  *
  * In case you find this class useful - especially in commercial projects -
  * I am not totally unhappy for a small donation to my PayPal account
  * mario@quasimondo.de
  *
  * Or support me on flattr:
  * {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.
  *
  * @module StackBlur
  * @author Mario Klingemann
  * Contact: mario@quasimondo.com
  * Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}
  * Twitter: @quasimondo
  *
  * @copyright (c) 2010 Mario Klingemann
  *
  * Permission is hereby granted, free of charge, to any person
  * obtaining a copy of this software and associated documentation
  * files (the "Software"), to deal in the Software without
  * restriction, including without limitation the rights to use,
  * copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the
  * Software is furnished to do so, subject to the following
  * conditions:
  *
  * The above copyright notice and this permission notice shall be
  * included in all copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  * OTHER DEALINGS IN THE SOFTWARE.
  */var c=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],f=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function processImage(h,c,f,g,d,x){if("string"==typeof h&&(h=document.getElementById(h)),h&&("HTMLImageElement"!==Object.prototype.toString.call(h).slice(8,-1)||"naturalWidth"in h)){var b=d?"offset":"natural",E=h[b+"Width"],P=h[b+"Height"];if("ImageBitmap"===Object.prototype.toString.call(h).slice(8,-1)&&(E=h.width,P=h.height),"string"==typeof c&&(c=document.getElementById(c)),c&&"getContext"in c){x||(c.style.width=E+"px",c.style.height=P+"px"),c.width=E,c.height=P;var S=c.getContext("2d");S.clearRect(0,0,E,P),S.drawImage(h,0,0,h.naturalWidth,h.naturalHeight,0,0,E,P),isNaN(f)||f<1||(g?processCanvasRGBA(c,0,0,E,P,f):processCanvasRGB(c,0,0,E,P,f))}}}function getImageDataFromCanvas(h,c,f,g,d){if("string"==typeof h&&(h=document.getElementById(h)),!h||"object"!==_typeof(h)||!("getContext"in h))throw TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var x=h.getContext("2d");try{return x.getImageData(c,f,g,d)}catch(h){throw Error("unable to access image data: "+h)}}function processCanvasRGBA(h,c,f,g,d,x){if(!isNaN(x)&&!(x<1)){x|=0;var b=getImageDataFromCanvas(h,c,f,g,d);b=processImageDataRGBA(b,c,f,g,d,x),h.getContext("2d").putImageData(b,c,f)}}function processImageDataRGBA(h,g,d,x,b,E){for(var P,S=h.data,w=2*E+1,T=x-1,C=b-1,A=E+1,M=A*(A+1)/2,N=new BlurStack,_=N,R=1;R<w;R++)_=_.next=new BlurStack,R===A&&(P=_);_.next=N;for(var V=null,k=null,L=0,D=0,B=c[E],j=f[E],U=0;U<b;U++){_=N;for(var z=S[D],G=S[D+1],X=S[D+2],Y=S[D+3],W=0;W<A;W++)_.r=z,_.g=G,_.b=X,_.a=Y,_=_.next;for(var Q=0,q=0,$=0,Z=0,K=A*z,J=A*G,tt=A*X,te=A*Y,tr=M*z,ti=M*G,tn=M*X,ta=M*Y,ts=1;ts<A;ts++){var to=D+((T<ts?T:ts)<<2),th=S[to],tu=S[to+1],tl=S[to+2],tc=S[to+3],tp=A-ts;tr+=(_.r=th)*tp,ti+=(_.g=tu)*tp,tn+=(_.b=tl)*tp,ta+=(_.a=tc)*tp,Q+=th,q+=tu,$+=tl,Z+=tc,_=_.next}V=N,k=P;for(var tf=0;tf<x;tf++){var tg=ta*B>>>j;if(S[D+3]=tg,0!==tg){var td=255/tg;S[D]=(tr*B>>>j)*td,S[D+1]=(ti*B>>>j)*td,S[D+2]=(tn*B>>>j)*td}else S[D]=S[D+1]=S[D+2]=0;tr-=K,ti-=J,tn-=tt,ta-=te,K-=V.r,J-=V.g,tt-=V.b,te-=V.a;var tm=tf+E+1;tm=L+(tm<T?tm:T)<<2,Q+=V.r=S[tm],q+=V.g=S[tm+1],$+=V.b=S[tm+2],Z+=V.a=S[tm+3],tr+=Q,ti+=q,tn+=$,ta+=Z,V=V.next;var ty=k,tv=ty.r,tx=ty.g,tb=ty.b,tE=ty.a;K+=tv,J+=tx,tt+=tb,te+=tE,Q-=tv,q-=tx,$-=tb,Z-=tE,k=k.next,D+=4}L+=x}for(var tP=0;tP<x;tP++){var tS=S[D=tP<<2],tw=S[D+1],tT=S[D+2],tC=S[D+3],tO=A*tS,tA=A*tw,tM=A*tT,tN=A*tC,t_=M*tS,tR=M*tw,tV=M*tT,tk=M*tC;_=N;for(var tI=0;tI<A;tI++)_.r=tS,_.g=tw,_.b=tT,_.a=tC,_=_.next;for(var tL=x,tD=0,tB=0,tF=0,tj=0,tU=1;tU<=E;tU++){D=tL+tP<<2;var tz=A-tU;t_+=(_.r=tS=S[D])*tz,tR+=(_.g=tw=S[D+1])*tz,tV+=(_.b=tT=S[D+2])*tz,tk+=(_.a=tC=S[D+3])*tz,tj+=tS,tD+=tw,tB+=tT,tF+=tC,_=_.next,tU<C&&(tL+=x)}D=tP,V=N,k=P;for(var tH=0;tH<b;tH++){var tG=D<<2;S[tG+3]=tC=tk*B>>>j,tC>0?(tC=255/tC,S[tG]=(t_*B>>>j)*tC,S[tG+1]=(tR*B>>>j)*tC,S[tG+2]=(tV*B>>>j)*tC):S[tG]=S[tG+1]=S[tG+2]=0,t_-=tO,tR-=tA,tV-=tM,tk-=tN,tO-=V.r,tA-=V.g,tM-=V.b,tN-=V.a,tG=tP+((tG=tH+A)<C?tG:C)*x<<2,t_+=tj+=V.r=S[tG],tR+=tD+=V.g=S[tG+1],tV+=tB+=V.b=S[tG+2],tk+=tF+=V.a=S[tG+3],V=V.next,tO+=tS=k.r,tA+=tw=k.g,tM+=tT=k.b,tN+=tC=k.a,tj-=tS,tD-=tw,tB-=tT,tF-=tC,k=k.next,D+=x}}return h}function processCanvasRGB(h,c,f,g,d,x){if(!isNaN(x)&&!(x<1)){x|=0;var b=getImageDataFromCanvas(h,c,f,g,d);b=processImageDataRGB(b,c,f,g,d,x),h.getContext("2d").putImageData(b,c,f)}}function processImageDataRGB(h,g,d,x,b,E){for(var P,S,w,T=h.data,C=2*E+1,A=x-1,M=b-1,N=E+1,_=N*(N+1)/2,R=new BlurStack,V=R,k=1;k<C;k++)V=V.next=new BlurStack,k===N&&(P=V);V.next=R;for(var L=null,D=null,B=c[E],j=f[E],U=0,z=0,G=0;G<b;G++){var X=T[z],Y=T[z+1],W=T[z+2],Q=N*X,q=N*Y,$=N*W,Z=_*X,K=_*Y,J=_*W;V=R;for(var tt=0;tt<N;tt++)V.r=X,V.g=Y,V.b=W,V=V.next;for(var te=0,tr=0,ti=0,tn=1;tn<N;tn++)S=z+((A<tn?A:tn)<<2),Z+=(V.r=X=T[S])*(w=N-tn),K+=(V.g=Y=T[S+1])*w,J+=(V.b=W=T[S+2])*w,te+=X,tr+=Y,ti+=W,V=V.next;L=R,D=P;for(var ta=0;ta<x;ta++)T[z]=Z*B>>>j,T[z+1]=K*B>>>j,T[z+2]=J*B>>>j,Z-=Q,K-=q,J-=$,Q-=L.r,q-=L.g,$-=L.b,S=U+((S=ta+E+1)<A?S:A)<<2,te+=L.r=T[S],tr+=L.g=T[S+1],ti+=L.b=T[S+2],Z+=te,K+=tr,J+=ti,L=L.next,Q+=X=D.r,q+=Y=D.g,$+=W=D.b,te-=X,tr-=Y,ti-=W,D=D.next,z+=4;U+=x}for(var ts=0;ts<x;ts++){var to=T[z=ts<<2],th=T[z+1],tu=T[z+2],tl=N*to,tc=N*th,tp=N*tu,tf=_*to,tg=_*th,td=_*tu;V=R;for(var tm=0;tm<N;tm++)V.r=to,V.g=th,V.b=tu,V=V.next;for(var ty=0,tv=0,tx=0,tb=1,tE=x;tb<=E;tb++)z=tE+ts<<2,tf+=(V.r=to=T[z])*(w=N-tb),tg+=(V.g=th=T[z+1])*w,td+=(V.b=tu=T[z+2])*w,ty+=to,tv+=th,tx+=tu,V=V.next,tb<M&&(tE+=x);z=ts,L=R,D=P;for(var tP=0;tP<b;tP++)T[S=z<<2]=tf*B>>>j,T[S+1]=tg*B>>>j,T[S+2]=td*B>>>j,tf-=tl,tg-=tc,td-=tp,tl-=L.r,tc-=L.g,tp-=L.b,S=ts+((S=tP+N)<M?S:M)*x<<2,tf+=ty+=L.r=T[S],tg+=tv+=L.g=T[S+1],td+=tx+=L.b=T[S+2],L=L.next,tl+=to=D.r,tc+=th=D.g,tp+=tu=D.b,ty-=to,tv-=th,tx-=tu,D=D.next,z+=x}return h}var BlurStack=function BlurStack(){_classCallCheck(this,BlurStack),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};h.BlurStack=BlurStack,h.canvasRGB=processCanvasRGB,h.canvasRGBA=processCanvasRGBA,h.image=processImage,h.imageDataRGB=processImageDataRGB,h.imageDataRGBA=processImageDataRGBA,Object.defineProperty(h,"__esModule",{value:!0})})(c)},82510:h=>{function asyncGeneratorStep(h,c,f,g,d,x,b){try{var E=h[x](b),P=E.value}catch(h){return void f(h)}E.done?c(P):Promise.resolve(P).then(g,d)}function _asyncToGenerator(h){return function(){var c=this,f=arguments;return new Promise(function(g,d){var x=h.apply(c,f);function _next(h){asyncGeneratorStep(x,g,d,_next,_throw,"next",h)}function _throw(h){asyncGeneratorStep(x,g,d,_next,_throw,"throw",h)}_next(void 0)})}}h.exports=_asyncToGenerator,h.exports.__esModule=!0,h.exports.default=h.exports},513:(h,c,f)=>{var g=f(36651);function _defineProperty(h,c,f){return(c=g(c))in h?Object.defineProperty(h,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[c]=f,h}h.exports=_defineProperty,h.exports.__esModule=!0,h.exports.default=h.exports},92439:h=>{function _interopRequireDefault(h){return h&&h.__esModule?h:{default:h}}h.exports=_interopRequireDefault,h.exports.__esModule=!0,h.exports.default=h.exports},49312:(h,c,f)=>{var g=f(67236).default;function toPrimitive(h,c){if("object"!=g(h)||!h)return h;var f=h[Symbol.toPrimitive];if(void 0!==f){var d=f.call(h,c||"default");if("object"!=g(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(h)}h.exports=toPrimitive,h.exports.__esModule=!0,h.exports.default=h.exports},36651:(h,c,f)=>{var g=f(67236).default,d=f(49312);function toPropertyKey(h){var c=d(h,"string");return"symbol"==g(c)?c:c+""}h.exports=toPropertyKey,h.exports.__esModule=!0,h.exports.default=h.exports},20150:(h,c,f)=>{"use strict";var g=f(75164),d=f(87878),x=TypeError;h.exports=function(h){if(g(h))return h;throw new x(d(h)+" is not a function")}},26277:(h,c,f)=>{"use strict";var g=f(7536),d=f(87878),x=TypeError;h.exports=function(h){if(g(h))return h;throw new x(d(h)+" is not a constructor")}},80112:(h,c,f)=>{"use strict";var g=f(45181),d=String,x=TypeError;h.exports=function(h){if(g(h))return h;throw new x("Can't set "+d(h)+" as a prototype")}},38322:h=>{"use strict";h.exports=function(){}},36287:(h,c,f)=>{"use strict";var g=f(69519),d=TypeError;h.exports=function(h,c){if(g(c,h))return h;throw new d("Incorrect invocation")}},24066:(h,c,f)=>{"use strict";var g=f(71707),d=String,x=TypeError;h.exports=function(h){if(g(h))return h;throw new x(d(h)+" is not an object")}},19249:(h,c,f)=>{"use strict";var g=f(91354),d=f(77118),x=f(81811),createMethod=function(h){return function(c,f,b){var E,P=g(c),S=x(P);if(0===S)return!h&&-1;var w=d(b,S);if(h&&f!=f){for(;S>w;)if((E=P[w++])!=E)return!0}else for(;S>w;w++)if((h||w in P)&&P[w]===f)return h||w||0;return!h&&-1}};h.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},92647:(h,c,f)=>{"use strict";var g=f(57601);h.exports=function(h,c){var f=[][h];return!!f&&g(function(){f.call(null,c||function(){return 1},1)})}},97190:(h,c,f)=>{"use strict";var g=f(20150),d=f(40735),x=f(86145),b=f(81811),E=TypeError,P="Reduce of empty array with no initial value",createMethod=function(h){return function(c,f,S,w){var T=d(c),C=x(T),A=b(T);if(g(f),0===A&&S<2)throw new E(P);var M=h?A-1:0,N=h?-1:1;if(S<2)for(;;){if(M in C){w=C[M],M+=N;break}if(M+=N,h?M<0:A<=M)throw new E(P)}for(;h?M>=0:A>M;M+=N)M in C&&(w=f(w,C[M],M,T));return w}};h.exports={left:createMethod(!1),right:createMethod(!0)}},68491:(h,c,f)=>{"use strict";var g=f(67964);h.exports=g([].slice)},18884:(h,c,f)=>{"use strict";var g=f(23926)("iterator"),d=!1;try{var x=0,b={next:function(){return{done:!!x++}},return:function(){d=!0}};b[g]=function(){return this},Array.from(b,function(){throw 2})}catch(h){}h.exports=function(h,c){try{if(!c&&!d)return!1}catch(h){return!1}var f=!1;try{var x={};x[g]=function(){return{next:function(){return{done:f=!0}}}},h(x)}catch(h){}return f}},84506:(h,c,f)=>{"use strict";var g=f(67964),d=g({}.toString),x=g("".slice);h.exports=function(h){return x(d(h),8,-1)}},33490:(h,c,f)=>{"use strict";var g=f(26740),d=f(75164),x=f(84506),b=f(23926)("toStringTag"),E=Object,P="Arguments"===x(function(){return arguments}()),tryGet=function(h,c){try{return h[c]}catch(h){}};h.exports=g?x:function(h){var c,f,g;return void 0===h?"Undefined":null===h?"Null":"string"==typeof(f=tryGet(c=E(h),b))?f:P?x(c):"Object"===(g=x(c))&&d(c.callee)?"Arguments":g}},56753:(h,c,f)=>{"use strict";var g=f(23926)("match");h.exports=function(h){var c=/./;try{"/./"[h](c)}catch(f){try{return c[g]=!1,"/./"[h](c)}catch(h){}}return!1}},42180:(h,c,f)=>{"use strict";var g=f(57601);h.exports=!g(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},44400:h=>{"use strict";h.exports=function(h,c){return{value:h,done:c}}},60567:(h,c,f)=>{"use strict";var g=f(1938),d=f(63237),x=f(97953);h.exports=g?function(h,c,f){return d.f(h,c,x(1,f))}:function(h,c,f){return h[c]=f,h}},97953:h=>{"use strict";h.exports=function(h,c){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:c}}},35889:(h,c,f)=>{"use strict";var g=f(63237);h.exports=function(h,c,f){return g.f(h,c,f)}},22207:(h,c,f)=>{"use strict";var g=f(60567);h.exports=function(h,c,f,d){return d&&d.enumerable?h[c]=f:g(h,c,f),h}},53835:(h,c,f)=>{"use strict";var g=f(26407),d=Object.defineProperty;h.exports=function(h,c){try{d(g,h,{value:c,configurable:!0,writable:!0})}catch(f){g[h]=c}return c}},1938:(h,c,f)=>{"use strict";var g=f(57601);h.exports=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},76177:(h,c,f)=>{"use strict";var g=f(26407),d=f(71707),x=g.document,b=d(x)&&d(x.createElement);h.exports=function(h){return b?x.createElement(h):{}}},72299:h=>{"use strict";h.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},72313:h=>{"use strict";h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},47743:(h,c,f)=>{"use strict";var g=f(13995);h.exports=/ipad|iphone|ipod/i.test(g)&&"undefined"!=typeof Pebble},92435:(h,c,f)=>{"use strict";var g=f(13995);h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(g)},35629:(h,c,f)=>{"use strict";var g=f(87929);h.exports="NODE"===g},65010:(h,c,f)=>{"use strict";var g=f(13995);h.exports=/web0s(?!.*chrome)/i.test(g)},13995:(h,c,f)=>{"use strict";var g=f(26407).navigator,d=g&&g.userAgent;h.exports=d?String(d):""},76665:(h,c,f)=>{"use strict";var g,d,x=f(26407),b=f(13995),E=x.process,P=x.Deno,S=E&&E.versions||P&&P.version,w=S&&S.v8;w&&(d=(g=w.split("."))[0]>0&&g[0]<4?1:+(g[0]+g[1])),!d&&b&&(!(g=b.match(/Edge\/(\d+)/))||g[1]>=74)&&(g=b.match(/Chrome\/(\d+)/))&&(d=+g[1]),h.exports=d},87929:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=f(26407),x=f(13995),b=f(84506),userAgentStartsWith=function(h){return x.slice(0,h.length)===h};h.exports=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":d.Bun&&"string"==typeof Bun.version?"BUN":d.Deno&&"object"==(0,g.default)(Deno.version)?"DENO":"process"===b(d.process)?"NODE":d.window&&d.document?"BROWSER":"REST"},59560:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=f(26407),x=f(15548),b=f(69973),E=f(75164),P=f(14333).f,S=f(60708),w=f(2472),T=f(19910),C=f(60567),A=f(66527);f(56253);var wrapConstructor=function(h){var _Wrapper=function(c,f,g){if(this instanceof _Wrapper){switch(arguments.length){case 0:return new h;case 1:return new h(c);case 2:return new h(c,f)}return new h(c,f,g)}return x(h,this,arguments)};return _Wrapper.prototype=h.prototype,_Wrapper};h.exports=function(h,c){var f,x,M,N,_,R,V,k,L,D=h.target,B=h.global,j=h.stat,U=h.proto,z=B?d:j?d[D]:d[D]&&d[D].prototype,G=B?w:w[D]||C(w,D,{})[D],X=G.prototype;for(N in c)x=!(f=S(B?N:D+(j?".":"#")+N,h.forced))&&z&&A(z,N),R=G[N],x&&(V=h.dontCallGetSet?(L=P(z,N))&&L.value:z[N]),_=x&&V?V:c[N],(f||U||(0,g.default)(R)!=(0,g.default)(_))&&(k=h.bind&&x?T(_,d):h.wrap&&x?wrapConstructor(_):U&&E(_)?b(_):_,(h.sham||_&&_.sham||R&&R.sham)&&C(k,"sham",!0),C(G,N,k),U&&(A(w,M=D+"Prototype")||C(w,M,{}),C(w[M],N,_),h.real&&X&&(f||!X[N])&&C(X,N,_)))}},57601:h=>{"use strict";h.exports=function(h){try{return!!h()}catch(h){return!0}}},15548:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=f(52313),x=Function.prototype,b=x.apply,E=x.call;h.exports=("undefined"==typeof Reflect?"undefined":(0,g.default)(Reflect))=="object"&&Reflect.apply||(d?E.bind(b):function(){return E.apply(b,arguments)})},19910:(h,c,f)=>{"use strict";var g=f(69973),d=f(20150),x=f(52313),b=g(g.bind);h.exports=function(h,c){return d(h),void 0===c?h:x?b(h,c):function(){return h.apply(c,arguments)}}},52313:(h,c,f)=>{"use strict";var g=f(57601);h.exports=!g(function(){var h=(function(){}).bind();return"function"!=typeof h||h.hasOwnProperty("prototype")})},50984:(h,c,f)=>{"use strict";var g=f(52313),d=Function.prototype.call;h.exports=g?d.bind(d):function(){return d.apply(d,arguments)}},99557:(h,c,f)=>{"use strict";var g=f(1938),d=f(66527),x=Function.prototype,b=g&&Object.getOwnPropertyDescriptor,E=d(x,"name"),P=E&&(!g||g&&b(x,"name").configurable);h.exports={EXISTS:E,PROPER:E&&"something"===(function(){}).name,CONFIGURABLE:P}},10938:(h,c,f)=>{"use strict";var g=f(67964),d=f(20150);h.exports=function(h,c,f){try{return g(d(Object.getOwnPropertyDescriptor(h,c)[f]))}catch(h){}}},69973:(h,c,f)=>{"use strict";var g=f(84506),d=f(67964);h.exports=function(h){if("Function"===g(h))return d(h)}},67964:(h,c,f)=>{"use strict";var g=f(52313),d=Function.prototype,x=d.call,b=g&&d.bind.bind(x,x);h.exports=g?b:function(h){return function(){return x.apply(h,arguments)}}},62167:(h,c,f)=>{"use strict";var g=f(2472),d=f(26407),x=f(75164),aFunction=function(h){return x(h)?h:void 0};h.exports=function(h,c){return arguments.length<2?aFunction(g[h])||aFunction(d[h]):g[h]&&g[h][c]||d[h]&&d[h][c]}},97584:(h,c,f)=>{"use strict";var g=f(33490),d=f(528),x=f(46735),b=f(40702),E=f(23926)("iterator");h.exports=function(h){if(!x(h))return d(h,E)||d(h,"@@iterator")||b[g(h)]}},52858:(h,c,f)=>{"use strict";var g=f(50984),d=f(20150),x=f(24066),b=f(87878),E=f(97584),P=TypeError;h.exports=function(h,c){var f=arguments.length<2?E(h):c;if(d(f))return x(g(f,h));throw new P(b(h)+" is not iterable")}},528:(h,c,f)=>{"use strict";var g=f(20150),d=f(46735);h.exports=function(h,c){var f=h[c];return d(f)?void 0:g(f)}},26407:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),check=function(h){return h&&h.Math===Math&&h};h.exports=check(("undefined"==typeof globalThis?"undefined":(0,g.default)(globalThis))=="object"&&globalThis)||check(("undefined"==typeof window?"undefined":(0,g.default)(window))=="object"&&window)||check(("undefined"==typeof self?"undefined":(0,g.default)(self))=="object"&&self)||check(("undefined"==typeof global?"undefined":(0,g.default)(global))=="object"&&global)||check("object"==(0,g.default)(void 0)&&void 0)||function(){return this}()||Function("return this")()},66527:(h,c,f)=>{"use strict";var g=f(67964),d=f(40735),x=g({}.hasOwnProperty);h.exports=Object.hasOwn||function(h,c){return x(d(h),c)}},5047:h=>{"use strict";h.exports={}},69539:h=>{"use strict";h.exports=function(h,c){try{1==arguments.length?console.error(h):console.error(h,c)}catch(h){}}},15099:(h,c,f)=>{"use strict";var g=f(62167);h.exports=g("document","documentElement")},84613:(h,c,f)=>{"use strict";var g=f(1938),d=f(57601),x=f(76177);h.exports=!g&&!d(function(){return 7!==Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})},86145:(h,c,f)=>{"use strict";var g=f(67964),d=f(57601),x=f(84506),b=Object,E=g("".split);h.exports=d(function(){return!b("z").propertyIsEnumerable(0)})?function(h){return"String"===x(h)?E(h,""):b(h)}:b},58181:(h,c,f)=>{"use strict";var g=f(67964),d=f(75164),x=f(56253),b=g(Function.toString);d(x.inspectSource)||(x.inspectSource=function(h){return b(h)}),h.exports=x.inspectSource},77916:(h,c,f)=>{"use strict";var g,d,x,b=f(42814),E=f(26407),P=f(71707),S=f(60567),w=f(66527),T=f(56253),C=f(53694),A=f(5047),M="Object already initialized",N=E.TypeError,_=E.WeakMap;if(b||T.state){var R=T.state||(T.state=new _);R.get=R.get,R.has=R.has,R.set=R.set,g=function(h,c){if(R.has(h))throw new N(M);return c.facade=h,R.set(h,c),c},d=function(h){return R.get(h)||{}},x=function(h){return R.has(h)}}else{var V=C("state");A[V]=!0,g=function(h,c){if(w(h,V))throw new N(M);return c.facade=h,S(h,V,c),c},d=function(h){return w(h,V)?h[V]:{}},x=function(h){return w(h,V)}}h.exports={set:g,get:d,has:x,enforce:function(h){return x(h)?d(h):g(h,{})},getterFor:function(h){return function(c){var f;if(!P(c)||(f=d(c)).type!==h)throw new N("Incompatible receiver, "+h+" required");return f}}}},67480:(h,c,f)=>{"use strict";var g=f(23926),d=f(40702),x=g("iterator"),b=Array.prototype;h.exports=function(h){return void 0!==h&&(d.Array===h||b[x]===h)}},28449:(h,c,f)=>{"use strict";var g=f(84506);h.exports=Array.isArray||function(h){return"Array"===g(h)}},75164:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=("undefined"==typeof document?"undefined":(0,g.default)(document))=="object"&&document.all;h.exports=void 0===d&&void 0!==d?function(h){return"function"==typeof h||h===d}:function(h){return"function"==typeof h}},7536:(h,c,f)=>{"use strict";var g=f(67964),d=f(57601),x=f(75164),b=f(33490),E=f(62167),P=f(58181),noop=function(){},S=E("Reflect","construct"),w=/^\s*(?:class|function)\b/,T=g(w.exec),C=!w.test(noop),isConstructorModern=function(h){if(!x(h))return!1;try{return S(noop,[],h),!0}catch(h){return!1}},isConstructorLegacy=function(h){if(!x(h))return!1;switch(b(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!T(w,P(h))}catch(h){return!0}};isConstructorLegacy.sham=!0,h.exports=!S||d(function(){var h;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){h=!0})||h})?isConstructorLegacy:isConstructorModern},60708:(h,c,f)=>{"use strict";var g=f(57601),d=f(75164),x=/#|\.prototype\./,isForced=function(h,c){var f=E[b(h)];return f===S||f!==P&&(d(c)?g(c):!!c)},b=isForced.normalize=function(h){return String(h).replace(x,".").toLowerCase()},E=isForced.data={},P=isForced.NATIVE="N",S=isForced.POLYFILL="P";h.exports=isForced},46735:h=>{"use strict";h.exports=function(h){return null==h}},71707:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=f(75164);h.exports=function(h){return"object"==(0,g.default)(h)?null!==h:d(h)}},45181:(h,c,f)=>{"use strict";var g=f(71707);h.exports=function(h){return g(h)||null===h}},58210:h=>{"use strict";h.exports=!0},16736:(h,c,f)=>{"use strict";var g=f(71707),d=f(84506),x=f(23926)("match");h.exports=function(h){var c;return g(h)&&(void 0!==(c=h[x])?!!c:"RegExp"===d(h))}},63563:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=f(62167),x=f(75164),b=f(69519),E=f(61483),P=Object;h.exports=E?function(h){return"symbol"==(0,g.default)(h)}:function(h){var c=d("Symbol");return x(c)&&b(c.prototype,P(h))}},97675:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=f(19910),x=f(50984),b=f(24066),E=f(87878),P=f(67480),S=f(81811),w=f(69519),T=f(52858),C=f(97584),A=f(16916),M=TypeError,Result=function(h,c){this.stopped=h,this.result=c},N=Result.prototype;h.exports=function(h,c,f){var _,R,V,k,L,D,B,j=f&&f.that,U=!!(f&&f.AS_ENTRIES),z=!!(f&&f.IS_RECORD),G=!!(f&&f.IS_ITERATOR),X=!!(f&&f.INTERRUPTED),Y=d(c,j),stop=function(h){return _&&A(_,"normal"),new Result(!0,h)},callFn=function(h){return U?(b(h),X?Y(h[0],h[1],stop):Y(h[0],h[1])):X?Y(h,stop):Y(h)};if(z)_=h.iterator;else if(G)_=h;else{if(!(R=C(h)))throw new M(E(h)+" is not iterable");if(P(R)){for(V=0,k=S(h);k>V;V++)if((L=callFn(h[V]))&&w(N,L))return L;return new Result(!1)}_=T(h,R)}for(D=z?h.next:_.next;!(B=x(D,_)).done;){try{L=callFn(B.value)}catch(h){A(_,"throw",h)}if("object"==(0,g.default)(L)&&L&&w(N,L))return L}return new Result(!1)}},16916:(h,c,f)=>{"use strict";var g=f(50984),d=f(24066),x=f(528);h.exports=function(h,c,f){var b,E;d(h);try{if(!(b=x(h,"return"))){if("throw"===c)throw f;return f}b=g(b,h)}catch(h){E=!0,b=h}if("throw"===c)throw f;if(E)throw b;return d(b),f}},30672:(h,c,f)=>{"use strict";var g=f(34509).IteratorPrototype,d=f(74636),x=f(97953),b=f(95452),E=f(40702),returnThis=function(){return this};h.exports=function(h,c,f,P){var S=c+" Iterator";return h.prototype=d(g,{next:x(+!P,f)}),b(h,S,!1,!0),E[S]=returnThis,h}},47925:(h,c,f)=>{"use strict";var g=f(59560),d=f(50984),x=f(58210),b=f(99557),E=f(75164),P=f(30672),S=f(12382),w=f(87888),T=f(95452),C=f(60567),A=f(22207),M=f(23926),N=f(40702),_=f(34509),R=b.PROPER,V=b.CONFIGURABLE,k=_.IteratorPrototype,L=_.BUGGY_SAFARI_ITERATORS,D=M("iterator"),B="keys",j="values",U="entries",returnThis=function(){return this};h.exports=function(h,c,f,b,M,_,z){P(f,c,b);var G,X,Y,getIterationMethod=function(h){if(h===M&&Z)return Z;if(!L&&h&&h in q)return q[h];switch(h){case B:case j:case U:return function(){return new f(this,h)}}return function(){return new f(this)}},W=c+" Iterator",Q=!1,q=h.prototype,$=q[D]||q["@@iterator"]||M&&q[M],Z=!L&&$||getIterationMethod(M),K="Array"===c&&q.entries||$;if(K&&(G=S(K.call(new h)))!==Object.prototype&&G.next&&(x||S(G)===k||(w?w(G,k):E(G[D])||A(G,D,returnThis)),T(G,W,!0,!0),x&&(N[W]=returnThis)),R&&M===j&&$&&$.name!==j&&(!x&&V?C(q,"name",j):(Q=!0,Z=function(){return d($,this)})),M){if(X={values:getIterationMethod(j),keys:_?Z:getIterationMethod(B),entries:getIterationMethod(U)},z)for(Y in X)!L&&!Q&&Y in q||A(q,Y,X[Y]);else g({target:c,proto:!0,forced:L||Q},X)}return(!x||z)&&q[D]!==Z&&A(q,D,Z,{name:M}),N[c]=Z,X}},34509:(h,c,f)=>{"use strict";var g,d,x,b=f(57601),E=f(75164),P=f(71707),S=f(74636),w=f(12382),T=f(22207),C=f(23926),A=f(58210),M=C("iterator"),N=!1;[].keys&&("next"in(x=[].keys())?(d=w(w(x)))!==Object.prototype&&(g=d):N=!0),!P(g)||b(function(){var h={};return g[M].call(h)!==h})?g={}:A&&(g=S(g)),E(g[M])||T(g,M,function(){return this}),h.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:N}},40702:h=>{"use strict";h.exports={}},81811:(h,c,f)=>{"use strict";var g=f(40251);h.exports=function(h){return g(h.length)}},20162:h=>{"use strict";var c=Math.ceil,f=Math.floor;h.exports=Math.trunc||function(h){var g=+h;return(g>0?f:c)(g)}},21531:(h,c,f)=>{"use strict";var g,d,x,b,E,P=f(26407),S=f(17919),w=f(19910),T=f(64781).set,C=f(40071),A=f(92435),M=f(47743),N=f(65010),_=f(35629),R=P.MutationObserver||P.WebKitMutationObserver,V=P.document,k=P.process,L=P.Promise,D=S("queueMicrotask");if(!D){var B=new C,flush=function(){var h,c;for(_&&(h=k.domain)&&h.exit();c=B.get();)try{c()}catch(h){throw B.head&&g(),h}h&&h.enter()};A||_||N||!R||!V?!M&&L&&L.resolve?((b=L.resolve(void 0)).constructor=L,E=w(b.then,b),g=function(){E(flush)}):_?g=function(){k.nextTick(flush)}:(T=w(T,P),g=function(){T(flush)}):(d=!0,x=V.createTextNode(""),new R(flush).observe(x,{characterData:!0}),g=function(){x.data=d=!d}),D=function(h){B.head||g(),B.add(h)}}h.exports=D},39214:(h,c,f)=>{"use strict";var g=f(20150),d=TypeError,PromiseCapability=function(h){var c,f;this.promise=new h(function(h,g){if(void 0!==c||void 0!==f)throw new d("Bad Promise constructor");c=h,f=g}),this.resolve=g(c),this.reject=g(f)};h.exports.f=function(h){return new PromiseCapability(h)}},47576:(h,c,f)=>{"use strict";var g=f(16736),d=TypeError;h.exports=function(h){if(g(h))throw new d("The method doesn't accept regular expressions");return h}},74636:(h,c,f)=>{"use strict";var g,d=f(24066),x=f(94404),b=f(72313),E=f(5047),P=f(15099),S=f(76177),w=f(53694),T="prototype",C="script",A=w("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(h){return"<"+C+">"+h+"</"+C+">"},NullProtoObjectViaActiveX=function(h){h.write(scriptTag("")),h.close();var c=h.parentWindow.Object;return h=null,c},NullProtoObjectViaIFrame=function(){var h,c=S("iframe");return c.style.display="none",P.appendChild(c),c.src=String("java"+C+":"),(h=c.contentWindow.document).open(),h.write(scriptTag("document.F=Object")),h.close(),h.F},_NullProtoObject=function(){try{g=new ActiveXObject("htmlfile")}catch(h){}_NullProtoObject="undefined"!=typeof document?document.domain&&g?NullProtoObjectViaActiveX(g):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(g);for(var h=b.length;h--;)delete _NullProtoObject[T][b[h]];return _NullProtoObject()};E[A]=!0,h.exports=Object.create||function(h,c){var f;return null!==h?(EmptyConstructor[T]=d(h),f=new EmptyConstructor,EmptyConstructor[T]=null,f[A]=h):f=_NullProtoObject(),void 0===c?f:x.f(f,c)}},94404:(h,c,f)=>{"use strict";var g=f(1938),d=f(50490),x=f(63237),b=f(24066),E=f(91354),P=f(36077);c.f=g&&!d?Object.defineProperties:function(h,c){b(h);for(var f,g=E(c),d=P(c),S=d.length,w=0;S>w;)x.f(h,f=d[w++],g[f]);return h}},63237:(h,c,f)=>{"use strict";var g=f(1938),d=f(84613),x=f(50490),b=f(24066),E=f(63698),P=TypeError,S=Object.defineProperty,w=Object.getOwnPropertyDescriptor,T="enumerable",C="configurable",A="writable";c.f=g?x?function(h,c,f){if(b(h),c=E(c),b(f),"function"==typeof h&&"prototype"===c&&"value"in f&&A in f&&!f[A]){var g=w(h,c);g&&g[A]&&(h[c]=f.value,f={configurable:C in f?f[C]:g[C],enumerable:T in f?f[T]:g[T],writable:!1})}return S(h,c,f)}:S:function(h,c,f){if(b(h),c=E(c),b(f),d)try{return S(h,c,f)}catch(h){}if("get"in f||"set"in f)throw new P("Accessors not supported");return"value"in f&&(h[c]=f.value),h}},14333:(h,c,f)=>{"use strict";var g=f(1938),d=f(50984),x=f(11529),b=f(97953),E=f(91354),P=f(63698),S=f(66527),w=f(84613),T=Object.getOwnPropertyDescriptor;c.f=g?T:function(h,c){if(h=E(h),c=P(c),w)try{return T(h,c)}catch(h){}if(S(h,c))return b(!d(x.f,h,c),h[c])}},12382:(h,c,f)=>{"use strict";var g=f(66527),d=f(75164),x=f(40735),b=f(53694),E=f(42180),P=b("IE_PROTO"),S=Object,w=S.prototype;h.exports=E?S.getPrototypeOf:function(h){var c=x(h);if(g(c,P))return c[P];var f=c.constructor;return d(f)&&c instanceof f?f.prototype:c instanceof S?w:null}},69519:(h,c,f)=>{"use strict";var g=f(67964);h.exports=g({}.isPrototypeOf)},63354:(h,c,f)=>{"use strict";var g=f(67964),d=f(66527),x=f(91354),b=f(19249).indexOf,E=f(5047),P=g([].push);h.exports=function(h,c){var f,g=x(h),S=0,w=[];for(f in g)!d(E,f)&&d(g,f)&&P(w,f);for(;c.length>S;)d(g,f=c[S++])&&(~b(w,f)||P(w,f));return w}},36077:(h,c,f)=>{"use strict";var g=f(63354),d=f(72313);h.exports=Object.keys||function(h){return g(h,d)}},11529:(h,c)=>{"use strict";var f={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,d=g&&!f.call({1:2},1);c.f=d?function(h){var c=g(this,h);return!!c&&c.enumerable}:f},87888:(h,c,f)=>{"use strict";var g=f(10938),d=f(71707),x=f(34321),b=f(80112);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,c=!1,f={};try{(h=g(Object.prototype,"__proto__","set"))(f,[]),c=f instanceof Array}catch(h){}return function(f,g){return x(f),b(g),d(f)&&(c?h(f,g):f.__proto__=g),f}}():void 0)},54827:(h,c,f)=>{"use strict";var g=f(26740),d=f(33490);h.exports=g?({}).toString:function(){return"[object "+d(this)+"]"}},81664:(h,c,f)=>{"use strict";var g=f(50984),d=f(75164),x=f(71707),b=TypeError;h.exports=function(h,c){var f,E;if("string"===c&&d(f=h.toString)&&!x(E=g(f,h))||d(f=h.valueOf)&&!x(E=g(f,h))||"string"!==c&&d(f=h.toString)&&!x(E=g(f,h)))return E;throw new b("Can't convert object to primitive value")}},2472:h=>{"use strict";h.exports={}},75168:h=>{"use strict";h.exports=function(h){try{return{error:!1,value:h()}}catch(h){return{error:!0,value:h}}}},73405:(h,c,f)=>{"use strict";var g=f(26407),d=f(24601),x=f(75164),b=f(60708),E=f(58181),P=f(23926),S=f(87929),w=f(58210),T=f(76665),C=d&&d.prototype,A=P("species"),M=!1,N=x(g.PromiseRejectionEvent),_=b("Promise",function(){var h=E(d),c=h!==String(d);if(!c&&66===T||w&&!(C.catch&&C.finally))return!0;if(!T||T<51||!/native code/.test(h)){var f=new d(function(h){h(1)}),FakePromise=function(h){h(function(){},function(){})};if((f.constructor={})[A]=FakePromise,!(M=f.then(function(){}) instanceof FakePromise))return!0}return!c&&("BROWSER"===S||"DENO"===S)&&!N});h.exports={CONSTRUCTOR:_,REJECTION_EVENT:N,SUBCLASSING:M}},24601:(h,c,f)=>{"use strict";var g=f(26407);h.exports=g.Promise},5629:(h,c,f)=>{"use strict";var g=f(24066),d=f(71707),x=f(39214);h.exports=function(h,c){if(g(h),d(c)&&c.constructor===h)return c;var f=x.f(h);return(0,f.resolve)(c),f.promise}},4527:(h,c,f)=>{"use strict";var g=f(24601),d=f(18884),x=f(73405).CONSTRUCTOR;h.exports=x||!d(function(h){g.all(h).then(void 0,function(){})})},40071:h=>{"use strict";var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(h){var c={item:h,next:null},f=this.tail;f?f.next=c:this.head=c,this.tail=c},get:function(){var h=this.head;if(h)return null===(this.head=h.next)&&(this.tail=null),h.item}},h.exports=Queue},34321:(h,c,f)=>{"use strict";var g=f(46735),d=TypeError;h.exports=function(h){if(g(h))throw new d("Can't call method on "+h);return h}},17919:(h,c,f)=>{"use strict";var g=f(26407),d=f(1938),x=Object.getOwnPropertyDescriptor;h.exports=function(h){if(!d)return g[h];var c=x(g,h);return c&&c.value}},30314:(h,c,f)=>{"use strict";var g=f(62167),d=f(35889),x=f(23926),b=f(1938),E=x("species");h.exports=function(h){var c=g(h);b&&c&&!c[E]&&d(c,E,{configurable:!0,get:function(){return this}})}},95452:(h,c,f)=>{"use strict";var g=f(26740),d=f(63237).f,x=f(60567),b=f(66527),E=f(54827),P=f(23926)("toStringTag");h.exports=function(h,c,f,S){var w=f?h:h&&h.prototype;w&&(b(w,P)||d(w,P,{configurable:!0,value:c}),S&&!g&&x(w,"toString",E))}},53694:(h,c,f)=>{"use strict";var g=f(21232),d=f(72955),x=g("keys");h.exports=function(h){return x[h]||(x[h]=d(h))}},56253:(h,c,f)=>{"use strict";var g=f(58210),d=f(26407),x=f(53835),b="__core-js_shared__",E=h.exports=d[b]||x(b,{});(E.versions||(E.versions=[])).push({version:"3.46.0",mode:g?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"})},21232:(h,c,f)=>{"use strict";var g=f(56253);h.exports=function(h,c){return g[h]||(g[h]=c||{})}},35611:(h,c,f)=>{"use strict";var g=f(24066),d=f(26277),x=f(46735),b=f(23926)("species");h.exports=function(h,c){var f,E=g(h).constructor;return void 0===E||x(f=g(E)[b])?c:d(f)}},44181:(h,c,f)=>{"use strict";var g=f(99557).PROPER,d=f(57601),x=f(54061),b="​\x85᠎";h.exports=function(h){return d(function(){return!!x[h]()||b[h]()!==b||g&&x[h].name!==h})}},42871:(h,c,f)=>{"use strict";var g=f(67964),d=f(34321),x=f(13359),b=f(54061),E=g("".replace),P=RegExp("^["+b+"]+"),S=RegExp("(^|[^"+b+"])["+b+"]+$"),createMethod=function(h){return function(c){var f=x(d(c));return 1&h&&(f=E(f,P,"")),2&h&&(f=E(f,S,"$1")),f}};h.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},98731:(h,c,f)=>{"use strict";var g=f(76665),d=f(57601),x=f(26407).String;h.exports=!!Object.getOwnPropertySymbols&&!d(function(){var h=Symbol("symbol detection");return!x(h)||!(Object(h) instanceof Symbol)||!Symbol.sham&&g&&g<41})},64781:(h,c,f)=>{"use strict";var g,d,x,b,E=f(26407),P=f(15548),S=f(19910),w=f(75164),T=f(66527),C=f(57601),A=f(15099),M=f(68491),N=f(76177),_=f(991),R=f(92435),V=f(35629),k=E.setImmediate,L=E.clearImmediate,D=E.process,B=E.Dispatch,j=E.Function,U=E.MessageChannel,z=E.String,G=0,X={},Y="onreadystatechange";C(function(){g=E.location});var run=function(h){if(T(X,h)){var c=X[h];delete X[h],c()}},runner=function(h){return function(){run(h)}},eventListener=function(h){run(h.data)},globalPostMessageDefer=function(h){E.postMessage(z(h),g.protocol+"//"+g.host)};k&&L||(k=function(h){_(arguments.length,1);var c=w(h)?h:j(h),f=M(arguments,1);return X[++G]=function(){P(c,void 0,f)},d(G),G},L=function(h){delete X[h]},V?d=function(h){D.nextTick(runner(h))}:B&&B.now?d=function(h){B.now(runner(h))}:U&&!R?(b=(x=new U).port2,x.port1.onmessage=eventListener,d=S(b.postMessage,b)):E.addEventListener&&w(E.postMessage)&&!E.importScripts&&g&&"file:"!==g.protocol&&!C(globalPostMessageDefer)?(d=globalPostMessageDefer,E.addEventListener("message",eventListener,!1)):d=Y in N("script")?function(h){A.appendChild(N("script"))[Y]=function(){A.removeChild(this),run(h)}}:function(h){setTimeout(runner(h),0)}),h.exports={set:k,clear:L}},77118:(h,c,f)=>{"use strict";var g=f(3197),d=Math.max,x=Math.min;h.exports=function(h,c){var f=g(h);return f<0?d(f+c,0):x(f,c)}},91354:(h,c,f)=>{"use strict";var g=f(86145),d=f(34321);h.exports=function(h){return g(d(h))}},3197:(h,c,f)=>{"use strict";var g=f(20162);h.exports=function(h){var c=+h;return c!=c||0===c?0:g(c)}},40251:(h,c,f)=>{"use strict";var g=f(3197),d=Math.min;h.exports=function(h){var c=g(h);return c>0?d(c,9007199254740991):0}},40735:(h,c,f)=>{"use strict";var g=f(34321),d=Object;h.exports=function(h){return d(g(h))}},73123:(h,c,f)=>{"use strict";var g=f(50984),d=f(71707),x=f(63563),b=f(528),E=f(81664),P=f(23926),S=TypeError,w=P("toPrimitive");h.exports=function(h,c){if(!d(h)||x(h))return h;var f,P=b(h,w);if(P){if(void 0===c&&(c="default"),!d(f=g(P,h,c))||x(f))return f;throw new S("Can't convert object to primitive value")}return void 0===c&&(c="number"),E(h,c)}},63698:(h,c,f)=>{"use strict";var g=f(73123),d=f(63563);h.exports=function(h){var c=g(h,"string");return d(c)?c:c+""}},26740:(h,c,f)=>{"use strict";var g=f(23926)("toStringTag"),d={};d[g]="z",h.exports="[object z]"===String(d)},13359:(h,c,f)=>{"use strict";var g=f(33490),d=String;h.exports=function(h){if("Symbol"===g(h))throw TypeError("Cannot convert a Symbol value to a string");return d(h)}},87878:h=>{"use strict";var c=String;h.exports=function(h){try{return c(h)}catch(h){return"Object"}}},72955:(h,c,f)=>{"use strict";var g=f(67964),d=0,x=Math.random(),b=g(1.1.toString);h.exports=function(h){return"Symbol("+(void 0===h?"":h)+")_"+b(++d+x,36)}},61483:(h,c,f)=>{"use strict";var g=f(92439)(f(67236)),d=f(98731);h.exports=d&&!Symbol.sham&&"symbol"==(0,g.default)(Symbol.iterator)},50490:(h,c,f)=>{"use strict";var g=f(1938),d=f(57601);h.exports=g&&d(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},991:h=>{"use strict";var c=TypeError;h.exports=function(h,f){if(h<f)throw new c("Not enough arguments");return h}},42814:(h,c,f)=>{"use strict";var g=f(26407),d=f(75164),x=g.WeakMap;h.exports=d(x)&&/native code/.test(String(x))},23926:(h,c,f)=>{"use strict";var g=f(26407),d=f(21232),x=f(66527),b=f(72955),E=f(98731),P=f(61483),S=g.Symbol,w=d("wks"),T=P?S.for||S:S&&S.withoutSetter||b;h.exports=function(h){return x(w,h)||(w[h]=E&&x(S,h)?S[h]:T("Symbol."+h)),w[h]}},54061:h=>{"use strict";h.exports="	\n\v\f\r \xa0              　\u2028\u2029\uFEFF"},48803:(h,c,f)=>{"use strict";var g=f(59560),d=f(69973),x=f(19249).indexOf,b=f(92647),E=d([].indexOf),P=!!E&&1/E([1],1,-0)<0;g({target:"Array",proto:!0,forced:P||!b("indexOf")},{indexOf:function(h){var c=arguments.length>1?arguments[1]:void 0;return P?E(this,h,c)||0:x(this,h,c)}})},85884:(h,c,f)=>{"use strict";var g=f(91354),d=f(38322),x=f(40702),b=f(77916),E=f(63237).f,P=f(47925),S=f(44400),w=f(58210),T=f(1938),C="Array Iterator",A=b.set,M=b.getterFor(C);h.exports=P(Array,"Array",function(h,c){A(this,{type:C,target:g(h),index:0,kind:c})},function(){var h=M(this),c=h.target,f=h.index++;if(!c||f>=c.length)return h.target=null,S(void 0,!0);switch(h.kind){case"keys":return S(f,!1);case"values":return S(c[f],!1)}return S([f,c[f]],!1)},"values");var N=x.Arguments=x.Array;if(d("keys"),d("values"),d("entries"),!w&&T&&"values"!==N.name)try{E(N,"name",{value:"values"})}catch(h){}},99805:(h,c,f)=>{"use strict";var g=f(59560),d=f(97190).left,x=f(92647),b=f(76665);g({target:"Array",proto:!0,forced:!f(35629)&&b>79&&b<83||!x("reduce")},{reduce:function(h){var c=arguments.length;return d(this,h,c,c>1?arguments[1]:void 0)}})},42337:(h,c,f)=>{"use strict";var g=f(59560),d=f(67964),x=f(28449),b=d([].reverse),E=[1,2];g({target:"Array",proto:!0,forced:String(E)===String(E.reverse())},{reverse:function(){return x(this)&&(this.length=this.length),b(this)}})},13039:(h,c,f)=>{"use strict";var g=f(59560),d=f(50984),x=f(20150),b=f(39214),E=f(75168),P=f(97675);g({target:"Promise",stat:!0,forced:f(4527)},{all:function(h){var c=this,f=b.f(c),g=f.resolve,S=f.reject,w=E(function(){var f=x(c.resolve),b=[],E=0,w=1;P(h,function(h){var x=E++,P=!1;w++,d(f,c,h).then(function(h){!P&&(P=!0,b[x]=h,--w||g(b))},S)}),--w||g(b)});return w.error&&S(w.value),f.promise}})},93989:(h,c,f)=>{"use strict";var g=f(59560),d=f(58210),x=f(73405).CONSTRUCTOR,b=f(24601),E=f(62167),P=f(75164),S=f(22207),w=b&&b.prototype;if(g({target:"Promise",proto:!0,forced:x,real:!0},{catch:function(h){return this.then(void 0,h)}}),!d&&P(b)){var T=E("Promise").prototype.catch;w.catch!==T&&S(w,"catch",T,{unsafe:!0})}},26584:(h,c,f)=>{"use strict";var g,d,x,b,E=f(59560),P=f(58210),S=f(35629),w=f(26407),T=f(2472),C=f(50984),A=f(22207),M=f(87888),N=f(95452),_=f(30314),R=f(20150),V=f(75164),k=f(71707),L=f(36287),D=f(35611),B=f(64781).set,j=f(21531),U=f(69539),z=f(75168),G=f(40071),X=f(77916),Y=f(24601),W=f(73405),Q=f(39214),q="Promise",$=W.CONSTRUCTOR,Z=W.REJECTION_EVENT,K=W.SUBCLASSING,J=X.getterFor(q),tt=X.set,te=Y&&Y.prototype,tr=Y,ti=te,tn=w.TypeError,ta=w.document,ts=w.process,to=Q.f,th=to,tu=!!(ta&&ta.createEvent&&w.dispatchEvent),tl="unhandledrejection",isThenable=function(h){var c;return!!(k(h)&&V(c=h.then))&&c},callReaction=function(h,c){var f,g,d,x=c.value,b=1===c.state,E=b?h.ok:h.fail,P=h.resolve,S=h.reject,w=h.domain;try{E?(b||(2===c.rejection&&onHandleUnhandled(c),c.rejection=1),!0===E?f=x:(w&&w.enter(),f=E(x),w&&(w.exit(),d=!0)),f===h.promise?S(new tn("Promise-chain cycle")):(g=isThenable(f))?C(g,f,P,S):P(f)):S(x)}catch(h){w&&!d&&w.exit(),S(h)}},notify=function(h,c){h.notified||(h.notified=!0,j(function(){for(var f,g=h.reactions;f=g.get();)callReaction(f,h);h.notified=!1,c&&!h.rejection&&onUnhandled(h)}))},dispatchEvent=function(h,c,f){var g,d;tu?((g=ta.createEvent("Event")).promise=c,g.reason=f,g.initEvent(h,!1,!0),w.dispatchEvent(g)):g={promise:c,reason:f},!Z&&(d=w["on"+h])?d(g):h===tl&&U("Unhandled promise rejection",f)},onUnhandled=function(h){C(B,w,function(){var c,f=h.facade,g=h.value;if(isUnhandled(h)&&(c=z(function(){S?ts.emit("unhandledRejection",g,f):dispatchEvent(tl,f,g)}),h.rejection=S||isUnhandled(h)?2:1,c.error))throw c.value})},isUnhandled=function(h){return 1!==h.rejection&&!h.parent},onHandleUnhandled=function(h){C(B,w,function(){var c=h.facade;S?ts.emit("rejectionHandled",c):dispatchEvent("rejectionhandled",c,h.value)})},bind=function(h,c,f){return function(g){h(c,g,f)}},internalReject=function(h,c,f){h.done||(h.done=!0,f&&(h=f),h.value=c,h.state=2,notify(h,!0))},_internalResolve=function(h,c,f){if(!h.done){h.done=!0,f&&(h=f);try{if(h.facade===c)throw new tn("Promise can't be resolved itself");var g=isThenable(c);g?j(function(){var f={done:!1};try{C(g,c,bind(_internalResolve,f,h),bind(internalReject,f,h))}catch(c){internalReject(f,c,h)}}):(h.value=c,h.state=1,notify(h,!1))}catch(c){internalReject({done:!1},c,h)}}};if($&&(ti=(tr=function(h){L(this,ti),R(h),C(g,this);var c=J(this);try{h(bind(_internalResolve,c),bind(internalReject,c))}catch(h){internalReject(c,h)}}).prototype,(g=function(h){tt(this,{type:q,done:!1,notified:!1,parent:!1,reactions:new G,rejection:!1,state:0,value:null})}).prototype=A(ti,"then",function(h,c){var f=J(this),g=to(D(this,tr));return f.parent=!0,g.ok=!V(h)||h,g.fail=V(c)&&c,g.domain=S?ts.domain:void 0,0===f.state?f.reactions.add(g):j(function(){callReaction(g,f)}),g.promise}),d=function(){var h=new g,c=J(h);this.promise=h,this.resolve=bind(_internalResolve,c),this.reject=bind(internalReject,c)},Q.f=to=function(h){return h===tr||h===x?new d(h):th(h)},!P&&V(Y)&&te!==Object.prototype)){b=te.then,K||A(te,"then",function(h,c){var f=this;return new tr(function(h,c){C(b,f,h,c)}).then(h,c)},{unsafe:!0});try{delete te.constructor}catch(h){}M&&M(te,ti)}E({global:!0,constructor:!0,wrap:!0,forced:$},{Promise:tr}),x=T.Promise,N(tr,q,!1,!0),_(q)},78818:(h,c,f)=>{"use strict";f(26584),f(13039),f(93989),f(30088),f(53378),f(92332)},30088:(h,c,f)=>{"use strict";var g=f(59560),d=f(50984),x=f(20150),b=f(39214),E=f(75168),P=f(97675);g({target:"Promise",stat:!0,forced:f(4527)},{race:function(h){var c=this,f=b.f(c),g=f.reject,S=E(function(){var b=x(c.resolve);P(h,function(h){d(b,c,h).then(f.resolve,g)})});return S.error&&g(S.value),f.promise}})},53378:(h,c,f)=>{"use strict";var g=f(59560),d=f(39214);g({target:"Promise",stat:!0,forced:f(73405).CONSTRUCTOR},{reject:function(h){var c=d.f(this);return(0,c.reject)(h),c.promise}})},92332:(h,c,f)=>{"use strict";var g=f(59560),d=f(62167),x=f(58210),b=f(24601),E=f(73405).CONSTRUCTOR,P=f(5629),S=d("Promise"),w=x&&!E;g({target:"Promise",stat:!0,forced:x||E},{resolve:function(h){return P(w&&this===S?b:this,h)}})},80004:()=>{},15746:(h,c,f)=>{"use strict";var g=f(59560),d=f(69973),x=f(14333).f,b=f(40251),E=f(13359),P=f(47576),S=f(34321),w=f(56753),T=f(58210),C=d("".slice),A=Math.min,M=w("endsWith");g({target:"String",proto:!0,forced:!(!T&&!M&&function(){var h=x(String.prototype,"endsWith");return h&&!h.writable}())&&!M},{endsWith:function(h){var c=E(S(this));P(h);var f=arguments.length>1?arguments[1]:void 0,g=c.length,d=void 0===f?g:A(b(f),g),x=E(h);return C(c,d-x.length,d)===x}})},10931:(h,c,f)=>{"use strict";var g=f(59560),d=f(67964),x=f(47576),b=f(34321),E=f(13359),P=f(56753),S=d("".indexOf);g({target:"String",proto:!0,forced:!P("includes")},{includes:function(h){return!!~S(E(b(this)),E(x(h)),arguments.length>1?arguments[1]:void 0)}})},10045:()=>{},96891:()=>{},19761:()=>{},98931:(h,c,f)=>{"use strict";var g=f(59560),d=f(69973),x=f(14333).f,b=f(40251),E=f(13359),P=f(47576),S=f(34321),w=f(56753),T=f(58210),C=d("".slice),A=Math.min,M=w("startsWith");g({target:"String",proto:!0,forced:!(!T&&!M&&function(){var h=x(String.prototype,"startsWith");return h&&!h.writable}())&&!M},{startsWith:function(h){var c=E(S(this));P(h);var f=b(A(arguments.length>1?arguments[1]:void 0,c.length)),g=E(h);return C(c,f,f+g.length)===g}})},97527:(h,c,f)=>{"use strict";var g=f(59560),d=f(42871).trim;g({target:"String",proto:!0,forced:f(44181)("trim")},{trim:function(){return d(this)}})},40137:(h,c,f)=>{"use strict";f(85884);var g=f(72299),d=f(26407),x=f(95452),b=f(40702);for(var E in g)x(d[E],E),b[E]=b.Array},3524:(h,c,f)=>{"use strict";f.r(c),f.d(c,{AElement:()=>AElement,AnimateColorElement:()=>AnimateColorElement,AnimateElement:()=>AnimateElement,AnimateTransformElement:()=>AnimateTransformElement,BoundingBox:()=>BoundingBox,CB1:()=>CB1,CB2:()=>CB2,CB3:()=>CB3,CB4:()=>CB4,Canvg:()=>Canvg,CircleElement:()=>CircleElement,ClipPathElement:()=>ClipPathElement,DefsElement:()=>DefsElement,DescElement:()=>DescElement,Document:()=>Document,Element:()=>Element,EllipseElement:()=>EllipseElement,FeColorMatrixElement:()=>FeColorMatrixElement,FeCompositeElement:()=>FeCompositeElement,FeDropShadowElement:()=>FeDropShadowElement,FeGaussianBlurElement:()=>FeGaussianBlurElement,FeMorphologyElement:()=>FeMorphologyElement,FilterElement:()=>FilterElement,Font:()=>Font,FontElement:()=>FontElement,FontFaceElement:()=>FontFaceElement,GElement:()=>GElement,GlyphElement:()=>GlyphElement,GradientElement:()=>GradientElement,ImageElement:()=>ImageElement,LineElement:()=>LineElement,LinearGradientElement:()=>LinearGradientElement,MarkerElement:()=>MarkerElement,MaskElement:()=>MaskElement,Matrix:()=>Matrix,MissingGlyphElement:()=>MissingGlyphElement,Mouse:()=>Mouse,PSEUDO_ZERO:()=>z,Parser:()=>Parser,PathElement:()=>PathElement,PathParser:()=>PathParser,PatternElement:()=>PatternElement,Point:()=>Point,PolygonElement:()=>PolygonElement,PolylineElement:()=>PolylineElement,Property:()=>Property,QB1:()=>QB1,QB2:()=>QB2,QB3:()=>QB3,RadialGradientElement:()=>RadialGradientElement,RectElement:()=>RectElement,RenderedElement:()=>RenderedElement,Rotate:()=>Rotate,SVGElement:()=>SVGElement,SVGFontLoader:()=>SVGFontLoader,Scale:()=>Scale,Screen:()=>Screen,Skew:()=>Skew,SkewX:()=>SkewX,SkewY:()=>SkewY,StopElement:()=>StopElement,StyleElement:()=>StyleElement,SymbolElement:()=>SymbolElement,TRefElement:()=>TRefElement,TSpanElement:()=>TSpanElement,TextElement:()=>TextElement,TextPathElement:()=>TextPathElement,TitleElement:()=>TitleElement,Transform:()=>Transform,Translate:()=>Translate,UnknownElement:()=>UnknownElement,UseElement:()=>UseElement,ViewPort:()=>ViewPort,compressSpaces:()=>compressSpaces,default:()=>Canvg,getSelectorSpecificity:()=>getSelectorSpecificity,normalizeAttributeName:()=>normalizeAttributeName,normalizeColor:()=>normalizeColor,parseExternalUrl:()=>parseExternalUrl,presets:()=>_,toNumbers:()=>toNumbers,trimLeft:()=>trimLeft,trimRight:()=>trimRight,vectorMagnitude:()=>vectorMagnitude,vectorsAngle:()=>vectorsAngle,vectorsRatio:()=>vectorsRatio}),f(78818);var g=f(82510);f(10045),f(96891),f(98931),f(85884),f(40137);var d=f(513);f(99805),f(15746),f(19761);var x=f(62783);f(97527);var b=f(76049);f(48803),f(10931),f(42337);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t=function(h,c){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(h[f]=c[f])})(h,c)};function r(h,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function i(){this.constructor=h}t(h,c),h.prototype=null===c?Object.create(c):(i.prototype=c.prototype,new i)}function e(h){var c="";Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var g=h[f];if(g.type===A.CLOSE_PATH)c+="z";else if(g.type===A.HORIZ_LINE_TO)c+=(g.relative?"h":"H")+g.x;else if(g.type===A.VERT_LINE_TO)c+=(g.relative?"v":"V")+g.y;else if(g.type===A.MOVE_TO)c+=(g.relative?"m":"M")+g.x+" "+g.y;else if(g.type===A.LINE_TO)c+=(g.relative?"l":"L")+g.x+" "+g.y;else if(g.type===A.CURVE_TO)c+=(g.relative?"c":"C")+g.x1+" "+g.y1+" "+g.x2+" "+g.y2+" "+g.x+" "+g.y;else if(g.type===A.SMOOTH_CURVE_TO)c+=(g.relative?"s":"S")+g.x2+" "+g.y2+" "+g.x+" "+g.y;else if(g.type===A.QUAD_TO)c+=(g.relative?"q":"Q")+g.x1+" "+g.y1+" "+g.x+" "+g.y;else if(g.type===A.SMOOTH_QUAD_TO)c+=(g.relative?"t":"T")+g.x+" "+g.y;else{if(g.type!==A.ARC)throw Error('Unexpected command type "'+g.type+'" at index '+f+".");c+=(g.relative?"a":"A")+g.rX+" "+g.rY+" "+g.xRot+" "+ +g.lArcFlag+" "+ +g.sweepFlag+" "+g.x+" "+g.y}}return c}function i(h,c){var f=h[0],g=h[1];return[f*Math.cos(c)-g*Math.sin(c),f*Math.sin(c)+g*Math.cos(c)]}function a(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];for(var f=0;f<h.length;f++)if("number"!=typeof h[f])throw Error("assertNumbers arguments["+f+"] is not a number. "+typeof h[f]+" == typeof "+h[f]);return!0}var E=Math.PI;function o(h,c,f){h.lArcFlag=0===h.lArcFlag?0:1,h.sweepFlag=0===h.sweepFlag?0:1;var g=h.rX,d=h.rY,x=h.x,b=h.y;g=Math.abs(h.rX),d=Math.abs(h.rY);var P=i([(c-x)/2,(f-b)/2],-h.xRot/180*E),S=P[0],w=P[1],T=Math.pow(S,2)/Math.pow(g,2)+Math.pow(w,2)/Math.pow(d,2);1<T&&(g*=Math.sqrt(T),d*=Math.sqrt(T)),h.rX=g,h.rY=d;var C=Math.pow(g,2)*Math.pow(w,2)+Math.pow(d,2)*Math.pow(S,2),A=(h.lArcFlag!==h.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(g,2)*Math.pow(d,2)-C)/C)),M=g*w/d*A,N=-d*S/g*A,_=i([M,N],h.xRot/180*E);h.cX=_[0]+(c+x)/2,h.cY=_[1]+(f+b)/2,h.phi1=Math.atan2((w-N)/d,(S-M)/g),h.phi2=Math.atan2((-w-N)/d,(-S-M)/g),0===h.sweepFlag&&h.phi2>h.phi1&&(h.phi2-=2*E),1===h.sweepFlag&&h.phi2<h.phi1&&(h.phi2+=2*E),h.phi1*=180/E,h.phi2*=180/E}function s(h,c,f){a(h,c,f);var g=h*h+c*c-f*f;if(0>g)return[];if(0===g)return[[h*f/(h*h+c*c),c*f/(h*h+c*c)]];var d=Math.sqrt(g);return[[(h*f+c*d)/(h*h+c*c),(c*f-h*d)/(h*h+c*c)],[(h*f-c*d)/(h*h+c*c),(c*f+h*d)/(h*h+c*c)]]}var P,S=Math.PI/180;function y(h,c,f,g){return h+Math.cos(g/180*E)*c+Math.sin(g/180*E)*f}function p(h,c,f,g){var d=c-h,x=f-c,b=3*d+3*(g-f)-6*x,E=6*(x-d),P=3*d;return 1e-6>Math.abs(b)?[-P/E]:function(h,c,f){void 0===f&&(f=1e-6);var g=h*h/4-c;if(g<-f)return[];if(g<=f)return[-h/2];var d=Math.sqrt(g);return[-h/2-d,-h/2+d]}(E/b,P/b,1e-6)}function m(h,c,f,g,d){var x=1-d;return h*(x*x*x)+c*(3*x*x*d)+f*(3*x*d*d)+g*(d*d*d)}!function(h){function r(){return u(function(h,c,f){return h.relative&&(void 0!==h.x1&&(h.x1+=c),void 0!==h.y1&&(h.y1+=f),void 0!==h.x2&&(h.x2+=c),void 0!==h.y2&&(h.y2+=f),void 0!==h.x&&(h.x+=c),void 0!==h.y&&(h.y+=f),h.relative=!1),h})}function e(){var h=NaN,c=NaN,f=NaN,g=NaN;return u(function(d,x,b){return d.type&A.SMOOTH_CURVE_TO&&(d.type=A.CURVE_TO,h=isNaN(h)?x:h,c=isNaN(c)?b:c,d.x1=d.relative?x-h:2*x-h,d.y1=d.relative?b-c:2*b-c),d.type&A.CURVE_TO?(h=d.relative?x+d.x2:d.x2,c=d.relative?b+d.y2:d.y2):(h=NaN,c=NaN),d.type&A.SMOOTH_QUAD_TO&&(d.type=A.QUAD_TO,f=isNaN(f)?x:f,g=isNaN(g)?b:g,d.x1=d.relative?x-f:2*x-f,d.y1=d.relative?b-g:2*b-g),d.type&A.QUAD_TO?(f=d.relative?x+d.x1:d.x1,g=d.relative?b+d.y1:d.y1):(f=NaN,g=NaN),d})}function n(){var h=NaN,c=NaN;return u(function(f,g,d){if(f.type&A.SMOOTH_QUAD_TO&&(f.type=A.QUAD_TO,h=isNaN(h)?g:h,c=isNaN(c)?d:c,f.x1=f.relative?g-h:2*g-h,f.y1=f.relative?d-c:2*d-c),f.type&A.QUAD_TO){h=f.relative?g+f.x1:f.x1,c=f.relative?d+f.y1:f.y1;var x=f.x1,b=f.y1;f.type=A.CURVE_TO,f.x1=((f.relative?0:g)+2*x)/3,f.y1=((f.relative?0:d)+2*b)/3,f.x2=(f.x+2*x)/3,f.y2=(f.y+2*b)/3}else h=NaN,c=NaN;return f})}function u(h){var c=0,f=0,g=NaN,d=NaN;return function(x){if(isNaN(g)&&!(x.type&A.MOVE_TO))throw Error("path must start with moveto");var b=h(x,c,f,g,d);return x.type&A.CLOSE_PATH&&(c=g,f=d),void 0!==x.x&&(c=x.relative?c+x.x:x.x),void 0!==x.y&&(f=x.relative?f+x.y:x.y),x.type&A.MOVE_TO&&(g=c,d=f),b}}function O(h,c,f,g,d,x){return a(h,c,f,g,d,x),u(function(b,E,P,S){var w=b.x1,T=b.x2,C=b.relative&&!isNaN(S),M=void 0!==b.x?b.x:C?0:E,N=void 0!==b.y?b.y:C?0:P;b.type&A.HORIZ_LINE_TO&&0!==c&&(b.type=A.LINE_TO,b.y=b.relative?0:P),b.type&A.VERT_LINE_TO&&0!==f&&(b.type=A.LINE_TO,b.x=b.relative?0:E),void 0!==b.x&&(b.x=b.x*h+N*f+(C?0:d)),void 0!==b.y&&(b.y=M*c+b.y*g+(C?0:x)),void 0!==b.x1&&(b.x1=b.x1*h+b.y1*f+(C?0:d)),void 0!==b.y1&&(b.y1=w*c+b.y1*g+(C?0:x)),void 0!==b.x2&&(b.x2=b.x2*h+b.y2*f+(C?0:d)),void 0!==b.y2&&(b.y2=T*c+b.y2*g+(C?0:x));var _=h*g-c*f;if(void 0!==b.xRot&&(1!==h||0!==c||0!==f||1!==g)){if(0===_)delete b.rX,delete b.rY,delete b.xRot,delete b.lArcFlag,delete b.sweepFlag,b.type=A.LINE_TO;else{var R,V,k=b.xRot*Math.PI/180,L=Math.sin(k),D=Math.cos(k),B=1/((R=b.rX)*R),j=1/((V=b.rY)*V),U=D*D*B+L*L*j,z=2*L*D*(B-j),G=L*L*B+D*D*j,X=U*g*g-z*c*g+G*c*c,Y=z*(h*g+c*f)-2*(U*f*g+G*h*c),W=U*f*f-z*h*f+G*h*h,Q=(Math.atan2(Y,X-W)+Math.PI)%Math.PI/2,q=Math.sin(Q),$=Math.cos(Q);b.rX=Math.abs(_)/Math.sqrt(X*($*$)+Y*q*$+W*(q*q)),b.rY=Math.abs(_)/Math.sqrt(X*(q*q)-Y*q*$+W*($*$)),b.xRot=180*Q/Math.PI}}return void 0!==b.sweepFlag&&0>_&&(b.sweepFlag=+!b.sweepFlag),b})}function l(){return function(h){var c={};for(var f in h)c[f]=h[f];return c}}h.ROUND=function(h){function r(c){return Math.round(c*h)/h}return void 0===h&&(h=1e13),a(h),function(h){return void 0!==h.x1&&(h.x1=r(h.x1)),void 0!==h.y1&&(h.y1=r(h.y1)),void 0!==h.x2&&(h.x2=r(h.x2)),void 0!==h.y2&&(h.y2=r(h.y2)),void 0!==h.x&&(h.x=r(h.x)),void 0!==h.y&&(h.y=r(h.y)),void 0!==h.rX&&(h.rX=r(h.rX)),void 0!==h.rY&&(h.rY=r(h.rY)),h}},h.TO_ABS=r,h.TO_REL=function(){return u(function(h,c,f){return h.relative||(void 0!==h.x1&&(h.x1-=c),void 0!==h.y1&&(h.y1-=f),void 0!==h.x2&&(h.x2-=c),void 0!==h.y2&&(h.y2-=f),void 0!==h.x&&(h.x-=c),void 0!==h.y&&(h.y-=f),h.relative=!0),h})},h.NORMALIZE_HVZ=function(h,c,f){return void 0===h&&(h=!0),void 0===c&&(c=!0),void 0===f&&(f=!0),u(function(g,d,x,b,E){if(isNaN(b)&&!(g.type&A.MOVE_TO))throw Error("path must start with moveto");return c&&g.type&A.HORIZ_LINE_TO&&(g.type=A.LINE_TO,g.y=g.relative?0:x),f&&g.type&A.VERT_LINE_TO&&(g.type=A.LINE_TO,g.x=g.relative?0:d),h&&g.type&A.CLOSE_PATH&&(g.type=A.LINE_TO,g.x=g.relative?b-d:b,g.y=g.relative?E-x:E),g.type&A.ARC&&(0===g.rX||0===g.rY)&&(g.type=A.LINE_TO,delete g.rX,delete g.rY,delete g.xRot,delete g.lArcFlag,delete g.sweepFlag),g})},h.NORMALIZE_ST=e,h.QT_TO_C=n,h.INFO=u,h.SANITIZE=function(h){void 0===h&&(h=0),a(h);var c=NaN,f=NaN,g=NaN,d=NaN;return u(function(x,b,E,P,S){var w=Math.abs,T=!1,C=0,M=0;if(x.type&A.SMOOTH_CURVE_TO&&(C=isNaN(c)?0:b-c,M=isNaN(f)?0:E-f),x.type&(A.CURVE_TO|A.SMOOTH_CURVE_TO)?(c=x.relative?b+x.x2:x.x2,f=x.relative?E+x.y2:x.y2):(c=NaN,f=NaN),x.type&A.SMOOTH_QUAD_TO?(g=isNaN(g)?b:2*b-g,d=isNaN(d)?E:2*E-d):x.type&A.QUAD_TO?(g=x.relative?b+x.x1:x.x1,d=x.relative?E+x.y1:x.y2):(g=NaN,d=NaN),x.type&A.LINE_COMMANDS||x.type&A.ARC&&(0===x.rX||0===x.rY||!x.lArcFlag)||x.type&A.CURVE_TO||x.type&A.SMOOTH_CURVE_TO||x.type&A.QUAD_TO||x.type&A.SMOOTH_QUAD_TO){var N=void 0===x.x?0:x.relative?x.x:x.x-b,_=void 0===x.y?0:x.relative?x.y:x.y-E;C=isNaN(g)?void 0===x.x1?C:x.relative?x.x:x.x1-b:g-b,M=isNaN(d)?void 0===x.y1?M:x.relative?x.y:x.y1-E:d-E;var R=void 0===x.x2?0:x.relative?x.x:x.x2-b,V=void 0===x.y2?0:x.relative?x.y:x.y2-E;w(N)<=h&&w(_)<=h&&w(C)<=h&&w(M)<=h&&w(R)<=h&&w(V)<=h&&(T=!0)}return x.type&A.CLOSE_PATH&&w(b-P)<=h&&w(E-S)<=h&&(T=!0),T?[]:x})},h.MATRIX=O,h.ROTATE=function(h,c,f){void 0===c&&(c=0),void 0===f&&(f=0),a(h,c,f);var g=Math.sin(h),d=Math.cos(h);return O(d,g,-g,d,c-c*d+f*g,f-c*g-f*d)},h.TRANSLATE=function(h,c){return void 0===c&&(c=0),a(h,c),O(1,0,0,1,h,c)},h.SCALE=function(h,c){return void 0===c&&(c=h),a(h,c),O(h,0,0,c,0,0)},h.SKEW_X=function(h){return a(h),O(1,0,Math.atan(h),1,0,0)},h.SKEW_Y=function(h){return a(h),O(1,Math.atan(h),0,1,0,0)},h.X_AXIS_SYMMETRY=function(h){return void 0===h&&(h=0),a(h),O(-1,0,0,1,h,0)},h.Y_AXIS_SYMMETRY=function(h){return void 0===h&&(h=0),a(h),O(1,0,0,-1,0,h)},h.A_TO_C=function(){return u(function(h,c,f){return A.ARC===h.type?function(h,c,f){var g,d,x,b;h.cX||o(h,c,f);for(var E=Math.min(h.phi1,h.phi2),P=Math.max(h.phi1,h.phi2)-E,w=Math.ceil(P/90),T=Array(w),C=c,M=f,N=0;N<w;N++){var _,R,V,k,L,D,B=(_=h.phi1,R=h.phi2,(1-(V=N/w))*_+V*R),j=(k=h.phi1,L=h.phi2,(1-(D=(N+1)/w))*k+D*L),U=4/3*Math.tan((j-B)*S/4),z=[Math.cos(B*S)-U*Math.sin(B*S),Math.sin(B*S)+U*Math.cos(B*S)],G=z[0],X=z[1],Y=[Math.cos(j*S),Math.sin(j*S)],W=Y[0],Q=Y[1],q=[W+U*Math.sin(j*S),Q-U*Math.cos(j*S)],$=q[0],Z=q[1];T[N]={relative:h.relative,type:A.CURVE_TO};var H=function(c,f){var g=i([c*h.rX,f*h.rY],h.xRot),d=g[0],x=g[1];return[h.cX+d,h.cY+x]};g=H(G,X),T[N].x1=g[0],T[N].y1=g[1],d=H($,Z),T[N].x2=d[0],T[N].y2=d[1],x=H(W,Q),T[N].x=x[0],T[N].y=x[1],h.relative&&(T[N].x1-=C,T[N].y1-=M,T[N].x2-=C,T[N].y2-=M,T[N].x-=C,T[N].y-=M),C=(b=[T[N].x,T[N].y])[0],M=b[1]}return T}(h,h.relative?0:c,h.relative?0:f):h})},h.ANNOTATE_ARCS=function(){return u(function(h,c,f){return h.relative&&(c=0,f=0),A.ARC===h.type&&o(h,c,f),h})},h.CLONE=l,h.CALCULATE_BOUNDS=function(){var t=function(h){var c={};for(var f in h)c[f]=h[f];return c},h=r(),c=n(),f=e(),g=u(function(d,x,b){var E=f(c(h(t(d))));function O(h){h>g.maxX&&(g.maxX=h),h<g.minX&&(g.minX=h)}function l(h){h>g.maxY&&(g.maxY=h),h<g.minY&&(g.minY=h)}if(E.type&A.DRAWING_COMMANDS&&(O(x),l(b)),E.type&A.HORIZ_LINE_TO&&O(E.x),E.type&A.VERT_LINE_TO&&l(E.y),E.type&A.LINE_TO&&(O(E.x),l(E.y)),E.type&A.CURVE_TO){O(E.x),l(E.y);for(var P=0,S=p(x,E.x1,E.x2,E.x);P<S.length;P++)0<(C=S[P])&&1>C&&O(m(x,E.x1,E.x2,E.x,C));for(var w=0,T=p(b,E.y1,E.y2,E.y);w<T.length;w++)0<(C=T[w])&&1>C&&l(m(b,E.y1,E.y2,E.y,C))}if(E.type&A.ARC){O(E.x),l(E.y),o(E,x,b);for(var C,M=E.xRot/180*Math.PI,N=Math.cos(M)*E.rX,_=Math.sin(M)*E.rX,R=-Math.sin(M)*E.rY,V=Math.cos(M)*E.rY,k=E.phi1<E.phi2?[E.phi1,E.phi2]:-180>E.phi2?[E.phi2+360,E.phi1+360]:[E.phi2,E.phi1],L=k[0],D=k[1],I=function(h){var c=h[0],f=180*Math.atan2(h[1],c)/Math.PI;return f<L?f+360:f},B=0,j=s(R,-N,0).map(I);B<j.length;B++)(C=j[B])>L&&C<D&&O(y(E.cX,N,R,C));for(var U=0,z=s(V,-_,0).map(I);U<z.length;U++)(C=z[U])>L&&C<D&&l(y(E.cY,_,V,C))}return d});return g.minX=1/0,g.maxX=-1/0,g.minY=1/0,g.maxY=-1/0,g}}(P||(P={}));var w,T=function(){function t(){}return t.prototype.round=function(h){return this.transform(P.ROUND(h))},t.prototype.toAbs=function(){return this.transform(P.TO_ABS())},t.prototype.toRel=function(){return this.transform(P.TO_REL())},t.prototype.normalizeHVZ=function(h,c,f){return this.transform(P.NORMALIZE_HVZ(h,c,f))},t.prototype.normalizeST=function(){return this.transform(P.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(P.QT_TO_C())},t.prototype.aToC=function(){return this.transform(P.A_TO_C())},t.prototype.sanitize=function(h){return this.transform(P.SANITIZE(h))},t.prototype.translate=function(h,c){return this.transform(P.TRANSLATE(h,c))},t.prototype.scale=function(h,c){return this.transform(P.SCALE(h,c))},t.prototype.rotate=function(h,c,f){return this.transform(P.ROTATE(h,c,f))},t.prototype.matrix=function(h,c,f,g,d,x){return this.transform(P.MATRIX(h,c,f,g,d,x))},t.prototype.skewX=function(h){return this.transform(P.SKEW_X(h))},t.prototype.skewY=function(h){return this.transform(P.SKEW_Y(h))},t.prototype.xSymmetry=function(h){return this.transform(P.X_AXIS_SYMMETRY(h))},t.prototype.ySymmetry=function(h){return this.transform(P.Y_AXIS_SYMMETRY(h))},t.prototype.annotateArcs=function(){return this.transform(P.ANNOTATE_ARCS())},t}(),v=function(h){return 48<=h.charCodeAt(0)&&57>=h.charCodeAt(0)},C=function(h){function e(){var c=h.call(this)||this;return c.curNumber="",c.curCommandType=-1,c.curCommandRelative=!1,c.canParseCommandOrComma=!0,c.curNumberHasExp=!1,c.curNumberHasExpDigits=!1,c.curNumberHasDecimal=!1,c.curArgs=[],c}return r(e,h),e.prototype.finish=function(h){if(void 0===h&&(h=[]),this.parse(" ",h),0!==this.curArgs.length||!this.canParseCommandOrComma)throw SyntaxError("Unterminated command at the path end.");return h},e.prototype.parse=function(h,c){var f=this;void 0===c&&(c=[]);for(var i=function(h){c.push(h),f.curArgs.length=0,f.canParseCommandOrComma=!0},g=0;g<h.length;g++){var d=h[g],x=!(this.curCommandType!==A.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),b=v(d)&&("0"===this.curNumber&&"0"===d||x);if(!v(d)||b){if("e"!==d&&"E"!==d){if("-"!==d&&"+"!==d||!this.curNumberHasExp||this.curNumberHasExpDigits){if("."!==d||this.curNumberHasExp||this.curNumberHasDecimal||x){if(this.curNumber&&-1!==this.curCommandType){var E=Number(this.curNumber);if(isNaN(E))throw SyntaxError("Invalid number ending at "+g);if(this.curCommandType===A.ARC){if(0===this.curArgs.length||1===this.curArgs.length){if(0>E)throw SyntaxError('Expected positive number, got "'+E+'" at index "'+g+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+g+'"')}this.curArgs.push(E),this.curArgs.length===M[this.curCommandType]&&(A.HORIZ_LINE_TO===this.curCommandType?i({type:A.HORIZ_LINE_TO,relative:this.curCommandRelative,x:E}):A.VERT_LINE_TO===this.curCommandType?i({type:A.VERT_LINE_TO,relative:this.curCommandRelative,y:E}):this.curCommandType===A.MOVE_TO||this.curCommandType===A.LINE_TO||this.curCommandType===A.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),A.MOVE_TO===this.curCommandType&&(this.curCommandType=A.LINE_TO)):this.curCommandType===A.CURVE_TO?i({type:A.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===A.SMOOTH_CURVE_TO?i({type:A.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===A.QUAD_TO?i({type:A.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===A.ARC&&i({type:A.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!(" "===d||"	"===d||"\r"===d||"\n"===d)){if(","===d&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==d&&"-"!==d&&"."!==d){if(b)this.curNumber=d,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw SyntaxError("Unterminated command at index "+g+".");if(!this.canParseCommandOrComma)throw SyntaxError('Unexpected character "'+d+'" at index '+g+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==d&&"Z"!==d){if("h"===d||"H"===d)this.curCommandType=A.HORIZ_LINE_TO,this.curCommandRelative="h"===d;else if("v"===d||"V"===d)this.curCommandType=A.VERT_LINE_TO,this.curCommandRelative="v"===d;else if("m"===d||"M"===d)this.curCommandType=A.MOVE_TO,this.curCommandRelative="m"===d;else if("l"===d||"L"===d)this.curCommandType=A.LINE_TO,this.curCommandRelative="l"===d;else if("c"===d||"C"===d)this.curCommandType=A.CURVE_TO,this.curCommandRelative="c"===d;else if("s"===d||"S"===d)this.curCommandType=A.SMOOTH_CURVE_TO,this.curCommandRelative="s"===d;else if("q"===d||"Q"===d)this.curCommandType=A.QUAD_TO,this.curCommandRelative="q"===d;else if("t"===d||"T"===d)this.curCommandType=A.SMOOTH_QUAD_TO,this.curCommandRelative="t"===d;else{if("a"!==d&&"A"!==d)throw SyntaxError('Unexpected character "'+d+'" at index '+g+".");this.curCommandType=A.ARC,this.curCommandRelative="a"===d}}else c.push({type:A.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}}else this.curNumber=d,this.curNumberHasDecimal="."===d}}else this.curNumber+=d,this.curNumberHasDecimal=!0}else this.curNumber+=d}else this.curNumber+=d,this.curNumberHasExp=!0}else this.curNumber+=d,this.curNumberHasExpDigits=this.curNumberHasExp}return c},e.prototype.transform=function(h){return Object.create(this,{parse:{value:function(c,f){void 0===f&&(f=[]);for(var g=0,d=Object.getPrototypeOf(this).parse.call(this,c);g<d.length;g++){var x=h(d[g]);Array.isArray(x)?f.push.apply(f,x):f.push(x)}return f}}})},e}(T),A=function(h){function i(c){var f=h.call(this)||this;return f.commands="string"==typeof c?i.parse(c):c,f}return r(i,h),i.prototype.encode=function(){return i.encode(this.commands)},i.prototype.getBounds=function(){var h=P.CALCULATE_BOUNDS();return this.transform(h),h},i.prototype.transform=function(h){for(var c=[],f=0,g=this.commands;f<g.length;f++){var d=h(g[f]);Array.isArray(d)?c.push.apply(c,d):c.push(d)}return this.commands=c,this},i.encode=function(h){return e(h)},i.parse=function(h){var c=new C,f=[];return c.parse(h,f),c.finish(f),f},i.CLOSE_PATH=1,i.MOVE_TO=2,i.HORIZ_LINE_TO=4,i.VERT_LINE_TO=8,i.LINE_TO=16,i.CURVE_TO=32,i.SMOOTH_CURVE_TO=64,i.QUAD_TO=128,i.SMOOTH_QUAD_TO=256,i.ARC=512,i.LINE_COMMANDS=i.LINE_TO|i.HORIZ_LINE_TO|i.VERT_LINE_TO,i.DRAWING_COMMANDS=i.HORIZ_LINE_TO|i.VERT_LINE_TO|i.LINE_TO|i.CURVE_TO|i.SMOOTH_CURVE_TO|i.QUAD_TO|i.SMOOTH_QUAD_TO|i.ARC,i}(T),M=((w={})[A.MOVE_TO]=2,w[A.LINE_TO]=2,w[A.HORIZ_LINE_TO]=1,w[A.VERT_LINE_TO]=1,w[A.CLOSE_PATH]=0,w[A.QUAD_TO]=4,w[A.SMOOTH_QUAD_TO]=2,w[A.CURVE_TO]=6,w[A.SMOOTH_CURVE_TO]=4,w[A.ARC]=7,w);f(80004);var N=f(19338),_=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:h,createCanvas:(h,c)=>new OffscreenCanvas(h,c),createImage:h=>g(function*(){var c=yield fetch(h),f=yield c.blob();return yield createImageBitmap(f)})()};return("undefined"!=typeof DOMParser||void 0===h)&&Reflect.deleteProperty(c,"DOMParser"),c},node:function(h){var{DOMParser:c,canvas:f,fetch:g}=h;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:c,fetch:g,createCanvas:f.createCanvas,createImage:f.loadImage}}});function compressSpaces(h){return h.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(h){return h.replace(/^[\n \t]+/,"")}function trimRight(h){return h.replace(/[\n \t]+$/,"")}function toNumbers(h){return((h||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var R=/^[A-Z-]+$/;function normalizeAttributeName(h){return R.test(h)?h.toLowerCase():h}function parseExternalUrl(h){var c=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(h)||[];return c[2]||c[3]||c[4]}function normalizeColor(h){if(!h.startsWith("rgb"))return h;var c=3;return h.replace(/\d+(\.\d+)?/g,(h,f)=>c--&&f?String(Math.round(parseFloat(h))):h)}var V=/(\[[^\]]+\])/g,k=/(#[^\s+>~.[:]+)/g,L=/(\.[^\s+>~.[:]+)/g,D=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,B=/(:[\w-]+\([^)]*\))/gi,j=/(:[^\s+>~.[:]+)/g,U=/([^\s+>~.[:]+)/g;function findSelectorMatch(h,c){var f=c.exec(h);return f?[h.replace(c," "),f.length]:[h,0]}function getSelectorSpecificity(h){var c=[0,0,0],f=h.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),g=0;return[f,g]=findSelectorMatch(f,V),c[1]+=g,[f,g]=findSelectorMatch(f,k),c[0]+=g,[f,g]=findSelectorMatch(f,L),c[1]+=g,[f,g]=findSelectorMatch(f,D),c[2]+=g,[f,g]=findSelectorMatch(f,B),c[1]+=g,[f,g]=findSelectorMatch(f,j),c[1]+=g,f=f.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[f,g]=findSelectorMatch(f,U),c[2]+=g,c.join("")}var z=1e-8;function vectorMagnitude(h){return Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2))}function vectorsRatio(h,c){return(h[0]*c[0]+h[1]*c[1])/(vectorMagnitude(h)*vectorMagnitude(c))}function vectorsAngle(h,c){return(h[0]*c[1]<h[1]*c[0]?-1:1)*Math.acos(vectorsRatio(h,c))}function CB1(h){return h*h*h}function CB2(h){return 3*h*h*(1-h)}function CB3(h){return 3*h*(1-h)*(1-h)}function CB4(h){return(1-h)*(1-h)*(1-h)}function QB1(h){return h*h}function QB2(h){return 2*h*(1-h)}function QB3(h){return(1-h)*(1-h)}let Property=class Property{constructor(h,c,f){this.document=h,this.name=c,this.value=f,this.isNormalizedColor=!1}static empty(h){return new Property(h,"EMPTY","")}split(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:c,name:f}=this;return compressSpaces(this.getString()).trim().split(h).map(h=>new Property(c,f,h))}hasValue(h){var{value:c}=this;return null!==c&&""!==c&&(h||0!==c)&&void 0!==c}isString(h){var{value:c}=this,f="string"==typeof c;return f&&h?h.test(c):f}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var h=this.getString();switch(!0){case h.endsWith("px"):case/^[0-9]+$/.test(h):return!0;default:return!1}}setValue(h){return this.value=h,this}getValue(h){return void 0===h||this.hasValue()?this.value:h}getNumber(h){if(!this.hasValue())return void 0===h?0:parseFloat(h);var{value:c}=this,f=parseFloat(c);return this.isString(/%$/)&&(f/=100),f}getString(h){return void 0===h||this.hasValue()?void 0===this.value?"":String(this.value):String(h)}getColor(h){var c=this.getString(h);return this.isNormalizedColor||(this.isNormalizedColor=!0,c=normalizeColor(c),this.value=c),c}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[f,g]="boolean"==typeof h?[void 0,h]:[h],{viewPort:d}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(d.computeSize("x"),d.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(d.computeSize("x"),d.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*d.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*d.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&g:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*d.computeSize(f);default:var x=this.getNumber();if(c&&x<1)return x*d.computeSize(f);return x}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var h=this.getString(),c=/#([^)'"]+)/.exec(h);return c&&(c=c[1]),c||(c=h),this.document.definitions[c]}getFillStyleDefinition(h,c){var f=this.getDefinition();if(!f)return null;if("function"==typeof f.createGradient)return f.createGradient(this.document.ctx,h,c);if("function"==typeof f.createPattern){if(f.getHrefAttribute().hasValue()){var g=f.getAttribute("patternTransform");f=f.getHrefAttribute().getDefinition(),g.hasValue()&&f.getAttribute("patternTransform",!0).setValue(g.value)}return f.createPattern(this.document.ctx,h,c)}return null}getTextBaseline(){return this.hasValue()?Property.textBaselineMapping[this.getString()]:null}addOpacity(h){for(var c=this.getColor(),f=c.length,g=0,d=0;d<f&&(","===c[d]&&g++,3!==g);d++);if(h.hasValue()&&this.isString()&&3!==g){var x=new b(c);x.ok&&(x.alpha=h.getNumber(),c=x.toRGBA())}return new Property(this.document,this.name,c)}};Property.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};let ViewPort=class ViewPort{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(h,c){this.viewPorts.push({width:h,height:c})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:h}=this;return h[h.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(h){return"number"==typeof h?h:"x"===h?this.width:"y"===h?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}};let Point=class Point{constructor(h,c){this.x=h,this.y=c}static parse(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[f=c,g=c]=toNumbers(h);return new Point(f,g)}static parseScale(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[f=c,g=f]=toNumbers(h);return new Point(f,g)}static parsePath(h){for(var c=toNumbers(h),f=c.length,g=[],d=0;d<f;d+=2)g.push(new Point(c[d],c[d+1]));return g}angleTo(h){return Math.atan2(h.y-this.y,h.x-this.x)}applyTransform(h){var{x:c,y:f}=this,g=c*h[0]+f*h[2]+h[4],d=c*h[1]+f*h[3]+h[5];this.x=g,this.y=d}};let Mouse=class Mouse{constructor(h){this.screen=h,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:h,onClick:c,onMouseMove:f}=this,g=h.ctx.canvas;g.onclick=c,g.onmousemove=f,this.working=!0}}stop(){if(this.working){var h=this.screen.ctx.canvas;this.working=!1,h.onclick=null,h.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:h,events:c,eventElements:f}=this,{style:g}=h.ctx.canvas;g&&(g.cursor=""),c.forEach((h,c)=>{for(var{run:g}=h,d=f[c];d;)g(d),d=d.parent}),this.events=[],this.eventElements=[]}}checkPath(h,c){if(this.working&&c){var{events:f,eventElements:g}=this;f.forEach((f,d)=>{var{x,y:b}=f;!g[d]&&c.isPointInPath&&c.isPointInPath(x,b)&&(g[d]=h)})}}checkBoundingBox(h,c){if(this.working&&c){var{events:f,eventElements:g}=this;f.forEach((f,d)=>{var{x,y:b}=f;!g[d]&&c.isPointInBox(x,b)&&(g[d]=h)})}}mapXY(h,c){for(var{window:f,ctx:g}=this.screen,d=new Point(h,c),x=g.canvas;x;)d.x-=x.offsetLeft,d.y-=x.offsetTop,x=x.offsetParent;return f.scrollX&&(d.x+=f.scrollX),f.scrollY&&(d.y+=f.scrollY),d}onClick(h){var{x:c,y:f}=this.mapXY(h.clientX,h.clientY);this.events.push({type:"onclick",x:c,y:f,run(h){h.onClick&&h.onClick()}})}onMouseMove(h){var{x:c,y:f}=this.mapXY(h.clientX,h.clientY);this.events.push({type:"onmousemove",x:c,y:f,run(h){h.onMouseMove&&h.onMouseMove()}})}};var G="undefined"!=typeof window?window:null,X="undefined"!=typeof fetch?fetch.bind(void 0):null;let Screen=class Screen{constructor(h){var{fetch:c=X,window:f=G}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=h,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new ViewPort,this.mouse=new Mouse(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=f,this.fetch=c}wait(h){this.waits.push(h)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var h=this.waits.every(h=>h());return h&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=h,h}setDefaults(h){h.strokeStyle="rgba(0,0,0,0)",h.lineCap="butt",h.lineJoin="miter",h.miterLimit=4}setViewBox(h){var{document:c,ctx:f,aspectRatio:g,width:d,desiredWidth:x,height:b,desiredHeight:E,minX:P=0,minY:S=0,refX:w,refY:T,clip:C=!1,clipX:A=0,clipY:M=0}=h,[N,_]=compressSpaces(g).replace(/^defer\s/,"").split(" "),R=N||"xMidYMid",V=_||"meet",k=d/x,L=b/E,D=Math.min(k,L),B=Math.max(k,L),j=x,U=E;"meet"===V&&(j*=D,U*=D),"slice"===V&&(j*=B,U*=B);var z=new Property(c,"refX",w),G=new Property(c,"refY",T),X=z.hasValue()&&G.hasValue();if(X&&f.translate(-D*z.getPixels("x"),-D*G.getPixels("y")),C){var Y=D*A,W=D*M;f.beginPath(),f.moveTo(Y,W),f.lineTo(d,W),f.lineTo(d,b),f.lineTo(Y,b),f.closePath(),f.clip()}if(!X){var Q="meet"===V&&D===L,q="slice"===V&&B===L,$="meet"===V&&D===k,Z="slice"===V&&B===k;R.startsWith("xMid")&&(Q||q)&&f.translate(d/2-j/2,0),R.endsWith("YMid")&&($||Z)&&f.translate(0,b/2-U/2),R.startsWith("xMax")&&(Q||q)&&f.translate(d-j,0),R.endsWith("YMax")&&($||Z)&&f.translate(0,b-U)}switch(!0){case"none"===R:f.scale(k,L);break;case"meet"===V:f.scale(D,D);break;case"slice"===V:f.scale(B,B)}f.translate(-P,-S)}start(h){var{enableRedraw:c=!1,ignoreMouse:f=!1,ignoreAnimation:g=!1,ignoreDimensions:d=!1,ignoreClear:b=!1,forceRedraw:E,scaleWidth:P,scaleHeight:S,offsetX:w,offsetY:T}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:C,mouse:A}=this,M=1e3/C;if(this.frameDuration=M,this.readyPromise=new Promise(h=>{this.resolveReady=h}),this.isReady()&&this.render(h,d,b,P,S,w,T),c){var N=Date.now(),_=N,R=0,tick=()=>{(R=(N=Date.now())-_)>=M&&(_=N-R%M,this.shouldUpdate(g,E)&&(this.render(h,d,b,P,S,w,T),A.runEvents())),this.intervalId=x(tick)};f||A.start(),this.intervalId=x(tick)}}stop(){this.intervalId&&(x.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(h,c){if(!h){var{frameDuration:f}=this;if(this.animations.reduce((h,c)=>c.update(f)||h,!1))return!0}return!!("function"==typeof c&&c()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(h,c,f,g,d,x,b){var{CLIENT_WIDTH:E,CLIENT_HEIGHT:P,viewPort:S,ctx:w,isFirstRender:T}=this,C=w.canvas;S.clear(),C.width&&C.height?S.setCurrent(C.width,C.height):S.setCurrent(E,P);var A=h.getStyle("width"),M=h.getStyle("height");!c&&(T||"number"!=typeof g&&"number"!=typeof d)&&(A.hasValue()&&(C.width=A.getPixels("x"),C.style&&(C.style.width="".concat(C.width,"px"))),M.hasValue()&&(C.height=M.getPixels("y"),C.style&&(C.style.height="".concat(C.height,"px"))));var N=C.clientWidth||C.width,_=C.clientHeight||C.height;if(c&&A.hasValue()&&M.hasValue()&&(N=A.getPixels("x"),_=M.getPixels("y")),S.setCurrent(N,_),"number"==typeof x&&h.getAttribute("x",!0).setValue(x),"number"==typeof b&&h.getAttribute("y",!0).setValue(b),"number"==typeof g||"number"==typeof d){var R=toNumbers(h.getAttribute("viewBox").getString()),V=0,k=0;if("number"==typeof g){var L=h.getStyle("width");L.hasValue()?V=L.getPixels("x")/g:isNaN(R[2])||(V=R[2]/g)}if("number"==typeof d){var D=h.getStyle("height");D.hasValue()?k=D.getPixels("y")/d:isNaN(R[3])||(k=R[3]/d)}V||(V=k),k||(k=V),h.getAttribute("width",!0).setValue(g),h.getAttribute("height",!0).setValue(d);var B=h.getStyle("transform",!0,!0);B.setValue("".concat(B.getString()," scale(").concat(1/V,", ").concat(1/k,")"))}f||w.clearRect(0,0,N,_),h.render(w),T&&(this.isFirstRender=!1)}};Screen.defaultWindow=G,Screen.defaultFetch=X;var{defaultFetch:Y}=Screen,W="undefined"!=typeof DOMParser?DOMParser:null;let Parser=class Parser{constructor(){var{fetch:h=Y,DOMParser:c=W}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=h,this.DOMParser=c}parse(h){var c=this;return g(function*(){return h.startsWith("<")?c.parseFromString(h):c.load(h)})()}parseFromString(h){var c=new this.DOMParser;try{return this.checkDocument(c.parseFromString(h,"image/svg+xml"))}catch(f){return this.checkDocument(c.parseFromString(h,"text/xml"))}}checkDocument(h){var c=h.getElementsByTagName("parsererror")[0];if(c)throw Error(c.textContent);return h}load(h){var c=this;return g(function*(){var f=yield c.fetch(h),g=yield f.text();return c.parseFromString(g)})()}};let Translate=class Translate{constructor(h,c){this.type="translate",this.point=null,this.point=Point.parse(c)}apply(h){var{x:c,y:f}=this.point;h.translate(c||0,f||0)}unapply(h){var{x:c,y:f}=this.point;h.translate(-1*c||0,-1*f||0)}applyToPoint(h){var{x:c,y:f}=this.point;h.applyTransform([1,0,0,1,c||0,f||0])}};let Rotate=class Rotate{constructor(h,c,f){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var g=toNumbers(c);this.angle=new Property(h,"angle",g[0]),this.originX=f[0],this.originY=f[1],this.cx=g[1]||0,this.cy=g[2]||0}apply(h){var{cx:c,cy:f,originX:g,originY:d,angle:x}=this,b=c+g.getPixels("x"),E=f+d.getPixels("y");h.translate(b,E),h.rotate(x.getRadians()),h.translate(-b,-E)}unapply(h){var{cx:c,cy:f,originX:g,originY:d,angle:x}=this,b=c+g.getPixels("x"),E=f+d.getPixels("y");h.translate(b,E),h.rotate(-1*x.getRadians()),h.translate(-b,-E)}applyToPoint(h){var{cx:c,cy:f,angle:g}=this,d=g.getRadians();h.applyTransform([1,0,0,1,c||0,f||0]),h.applyTransform([Math.cos(d),Math.sin(d),-Math.sin(d),Math.cos(d),0,0]),h.applyTransform([1,0,0,1,-c||0,-f||0])}};let Scale=class Scale{constructor(h,c,f){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var g=Point.parseScale(c);(0===g.x||0===g.y)&&(g.x=z,g.y=z),this.scale=g,this.originX=f[0],this.originY=f[1]}apply(h){var{scale:{x:c,y:f},originX:g,originY:d}=this,x=g.getPixels("x"),b=d.getPixels("y");h.translate(x,b),h.scale(c,f||c),h.translate(-x,-b)}unapply(h){var{scale:{x:c,y:f},originX:g,originY:d}=this,x=g.getPixels("x"),b=d.getPixels("y");h.translate(x,b),h.scale(1/c,1/f||c),h.translate(-x,-b)}applyToPoint(h){var{x:c,y:f}=this.scale;h.applyTransform([c||0,0,0,f||0,0,0])}};let Matrix=class Matrix{constructor(h,c,f){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=toNumbers(c),this.originX=f[0],this.originY=f[1]}apply(h){var{originX:c,originY:f,matrix:g}=this,d=c.getPixels("x"),x=f.getPixels("y");h.translate(d,x),h.transform(g[0],g[1],g[2],g[3],g[4],g[5]),h.translate(-d,-x)}unapply(h){var{originX:c,originY:f,matrix:g}=this,d=g[0],x=g[2],b=g[4],E=g[1],P=g[3],S=g[5],w=1/(d*(1*P-0*S)-x*(1*E-0*S)+b*(0*E-0*P)),T=c.getPixels("x"),C=f.getPixels("y");h.translate(T,C),h.transform(w*(1*P-0*S),w*(0*S-1*E),w*(0*b-1*x),w*(1*d-0*b),w*(x*S-b*P),w*(b*E-d*S)),h.translate(-T,-C)}applyToPoint(h){h.applyTransform(this.matrix)}};let Skew=class Skew extends Matrix{constructor(h,c,f){super(h,c,f),this.type="skew",this.angle=null,this.angle=new Property(h,"angle",c)}};let SkewX=class SkewX extends Skew{constructor(h,c,f){super(h,c,f),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}};let SkewY=class SkewY extends Skew{constructor(h,c,f){super(h,c,f),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}};function parseTransforms(h){return compressSpaces(h).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function parseTransform(h){var[c,f]=h.split("(");return[c.trim(),f.trim().replace(")","")]}let Transform=class Transform{constructor(h,c,f){this.document=h,this.transforms=[],parseTransforms(c).forEach(h=>{if("none"!==h){var[c,g]=parseTransform(h),d=Transform.transformTypes[c];void 0!==d&&this.transforms.push(new d(this.document,g,f))}})}static fromElement(h,c){var f=c.getStyle("transform",!1,!0),[g,d=g]=c.getStyle("transform-origin",!1,!0).split();return f.hasValue()?new Transform(h,f.getString(),[g,d]):null}apply(h){for(var{transforms:c}=this,f=c.length,g=0;g<f;g++)c[g].apply(h)}unapply(h){for(var{transforms:c}=this,f=c.length,g=f-1;g>=0;g--)c[g].unapply(h)}applyToPoint(h){for(var{transforms:c}=this,f=c.length,g=0;g<f;g++)c[g].applyToPoint(h)}};Transform.transformTypes={translate:Translate,rotate:Rotate,scale:Scale,matrix:Matrix,skewX:SkewX,skewY:SkewY};let Element=class Element{constructor(h,c){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=h,this.node=c,this.captureTextNodes=f,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!c||1!==c.nodeType)return;Array.from(c.attributes).forEach(c=>{var f=normalizeAttributeName(c.nodeName);this.attributes[f]=new Property(h,f,c.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(h=>h.trim()).forEach(c=>{if(c){var[f,g]=c.split(":").map(h=>h.trim());this.styles[f]=new Property(h,f,g)}});var{definitions:g}=h,d=this.getAttribute("id");d.hasValue()&&!g[d.getString()]&&(g[d.getString()]=this),Array.from(c.childNodes).forEach(c=>{if(1===c.nodeType)this.addChild(c);else if(f&&(3===c.nodeType||4===c.nodeType)){var g=h.createTextNode(c);g.getText().length>0&&this.addChild(g)}})}getAttribute(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=this.attributes[h];if(!f&&c){var g=new Property(this.document,h,"");return this.attributes[h]=g,g}return f||Property.empty(this.document)}getHrefAttribute(){for(var h in this.attributes)if("href"===h||h.endsWith(":href"))return this.attributes[h];return Property.empty(this.document)}getStyle(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=this.styles[h];if(g)return g;var d=this.getAttribute(h);if(null!=d&&d.hasValue())return this.styles[h]=d,d;if(!f){var{parent:x}=this;if(x){var b=x.getStyle(h);if(null!=b&&b.hasValue())return b}}if(c){var E=new Property(this.document,h,"");return this.styles[h]=E,E}return g||Property.empty(this.document)}render(h){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(h.save(),this.getStyle("mask").hasValue()){var c=this.getStyle("mask").getDefinition();c&&(this.applyEffects(h),c.apply(h,this))}else if("none"!==this.getStyle("filter").getValue("none")){var f=this.getStyle("filter").getDefinition();f&&(this.applyEffects(h),f.apply(h,this))}else this.setContext(h),this.renderChildren(h),this.clearContext(h);h.restore()}}setContext(h){}applyEffects(h){var c=Transform.fromElement(this.document,this);c&&c.apply(h);var f=this.getStyle("clip-path",!1,!0);if(f.hasValue()){var g=f.getDefinition();g&&g.apply(h)}}clearContext(h){}renderChildren(h){this.children.forEach(c=>{c.render(h)})}addChild(h){var c=h instanceof Element?h:this.document.createElement(h);c.parent=this,Element.ignoreChildTypes.includes(c.type)||this.children.push(c)}matchesSelector(h){var c,{node:f}=this;if("function"==typeof f.matches)return f.matches(h);var g=null===(c=f.getAttribute)||void 0===c?void 0:c.call(f,"class");return!!g&&""!==g&&g.split(" ").some(c=>".".concat(c)===h)}addStylesFromStyleDefinition(){var{styles:h,stylesSpecificity:c}=this.document;for(var f in h)if(!f.startsWith("@")&&this.matchesSelector(f)){var g=h[f],d=c[f];if(g)for(var x in g){var b=this.stylesSpecificity[x];void 0===b&&(b="000"),d>=b&&(this.styles[x]=g[x],this.stylesSpecificity[x]=d)}}}removeStyles(h,c){return c.reduce((c,f)=>{var g=h.getStyle(f);if(!g.hasValue())return c;var d=g.getString();return g.setValue(""),[...c,[f,d]]},[])}restoreStyles(h,c){c.forEach(c=>{var[f,g]=c;h.getStyle(f,!0).setValue(g)})}isFirstChild(){var h;return(null===(h=this.parent)||void 0===h?void 0:h.children.indexOf(this))===0}};Element.ignoreChildTypes=["title"];let UnknownElement=class UnknownElement extends Element{constructor(h,c,f){super(h,c,f)}};function wrapFontFamily(h){var c=h.trim();return/^('|")/.test(c)?c:'"'.concat(c,'"')}function prepareFontFamily(h){return"undefined"==typeof process?h:h.trim().split(",").map(wrapFontFamily).join(",")}function prepareFontStyle(h){if(!h)return"";var c=h.trim().toLowerCase();switch(c){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return c;default:if(/^oblique\s+(-|)\d+deg$/.test(c))return c;return""}}function prepareFontWeight(h){if(!h)return"";var c=h.trim().toLowerCase();switch(c){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return c;default:if(/^[\d.]+$/.test(c))return c;return""}}let Font=class Font{constructor(h,c,f,g,d,x){var b=x?"string"==typeof x?Font.parse(x):x:{};this.fontFamily=d||b.fontFamily,this.fontSize=g||b.fontSize,this.fontStyle=h||b.fontStyle,this.fontWeight=f||b.fontWeight,this.fontVariant=c||b.fontVariant}static parse(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1?arguments[1]:void 0,f="",g="",d="",x="",b="",E=compressSpaces(h).trim().split(" "),P={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return E.forEach(h=>{switch(!0){case!P.fontStyle&&Font.styles.includes(h):"inherit"!==h&&(f=h),P.fontStyle=!0;break;case!P.fontVariant&&Font.variants.includes(h):"inherit"!==h&&(g=h),P.fontStyle=!0,P.fontVariant=!0;break;case!P.fontWeight&&Font.weights.includes(h):"inherit"!==h&&(d=h),P.fontStyle=!0,P.fontVariant=!0,P.fontWeight=!0;break;case!P.fontSize:"inherit"!==h&&([x]=h.split("/")),P.fontStyle=!0,P.fontVariant=!0,P.fontWeight=!0,P.fontSize=!0;break;default:"inherit"!==h&&(b+=h)}}),new Font(f,g,d,x,b,c)}toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,prepareFontFamily(this.fontFamily)].join(" ").trim()}};Font.styles="normal|italic|oblique|inherit",Font.variants="normal|small-caps|inherit",Font.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";let BoundingBox=class BoundingBox{constructor(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=h,this.y1=c,this.x2=f,this.y2=g,this.addPoint(h,c),this.addPoint(f,g)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(h,c){void 0!==h&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=h,this.x2=h),h<this.x1&&(this.x1=h),h>this.x2&&(this.x2=h)),void 0!==c&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=c,this.y2=c),c<this.y1&&(this.y1=c),c>this.y2&&(this.y2=c))}addX(h){this.addPoint(h,null)}addY(h){this.addPoint(null,h)}addBoundingBox(h){if(h){var{x1:c,y1:f,x2:g,y2:d}=h;this.addPoint(c,f),this.addPoint(g,d)}}sumCubic(h,c,f,g,d){return Math.pow(1-h,3)*c+3*Math.pow(1-h,2)*h*f+3*(1-h)*Math.pow(h,2)*g+Math.pow(h,3)*d}bezierCurveAdd(h,c,f,g,d){var x=6*c-12*f+6*g,b=-3*c+9*f-9*g+3*d,E=3*f-3*c;if(0===b){if(0===x)return;var P=-E/x;0<P&&P<1&&(h?this.addX(this.sumCubic(P,c,f,g,d)):this.addY(this.sumCubic(P,c,f,g,d)));return}var S=Math.pow(x,2)-4*E*b;if(!(S<0)){var w=(-x+Math.sqrt(S))/(2*b);0<w&&w<1&&(h?this.addX(this.sumCubic(w,c,f,g,d)):this.addY(this.sumCubic(w,c,f,g,d)));var T=(-x-Math.sqrt(S))/(2*b);0<T&&T<1&&(h?this.addX(this.sumCubic(T,c,f,g,d)):this.addY(this.sumCubic(T,c,f,g,d)))}}addBezierCurve(h,c,f,g,d,x,b,E){this.addPoint(h,c),this.addPoint(b,E),this.bezierCurveAdd(!0,h,f,d,b),this.bezierCurveAdd(!1,c,g,x,E)}addQuadraticCurve(h,c,f,g,d,x){var b=h+2/3*(f-h),E=c+2/3*(g-c),P=b+1/3*(d-h),S=E+1/3*(x-c);this.addBezierCurve(h,c,b,P,E,S,d,x)}isPointInBox(h,c){var{x1:f,y1:g,x2:d,y2:x}=this;return f<=h&&h<=d&&g<=c&&c<=x}};let PathParser=class PathParser extends A{constructor(h){super(h.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Point(0,0),this.control=new Point(0,0),this.current=new Point(0,0),this.points=[],this.angles=[]}isEnd(){var{i:h,commands:c}=this;return h>=c.length-1}next(){var h=this.commands[++this.i];return this.previousCommand=this.command,this.command=h,h}getPoint(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",f=new Point(this.command[h],this.command[c]);return this.makeAbsolute(f)}getAsControlPoint(h,c){var f=this.getPoint(h,c);return this.control=f,f}getAsCurrentPoint(h,c){var f=this.getPoint(h,c);return this.current=f,f}getReflectedControlPoint(){var h=this.previousCommand.type;if(h!==A.CURVE_TO&&h!==A.SMOOTH_CURVE_TO&&h!==A.QUAD_TO&&h!==A.SMOOTH_QUAD_TO)return this.current;var{current:{x:c,y:f},control:{x:g,y:d}}=this;return new Point(2*c-g,2*f-d)}makeAbsolute(h){if(this.command.relative){var{x:c,y:f}=this.current;h.x+=c,h.y+=f}return h}addMarker(h,c,f){var{points:g,angles:d}=this;f&&d.length>0&&!d[d.length-1]&&(d[d.length-1]=g[g.length-1].angleTo(f)),this.addMarkerAngle(h,c?c.angleTo(h):null)}addMarkerAngle(h,c){this.points.push(h),this.angles.push(c)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:h}=this,c=h.length,f=0;f<c;f++)if(!h[f]){for(var g=f+1;g<c;g++)if(h[g]){h[f]=h[g];break}}return h}};let RenderedElement=class RenderedElement extends Element{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var h=1,c=this;c;){var f=c.getStyle("opacity",!1,!0);f.hasValue(!0)&&(h*=f.getNumber()),c=c.parent}return h}setContext(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!c){var f=this.getStyle("fill"),g=this.getStyle("fill-opacity"),d=this.getStyle("stroke"),x=this.getStyle("stroke-opacity");if(f.isUrlDefinition()){var b=f.getFillStyleDefinition(this,g);b&&(h.fillStyle=b)}else if(f.hasValue()){"currentColor"===f.getString()&&f.setValue(this.getStyle("color").getColor());var E=f.getColor();"inherit"!==E&&(h.fillStyle="none"===E?"rgba(0,0,0,0)":E)}if(g.hasValue()){var P=new Property(this.document,"fill",h.fillStyle).addOpacity(g).getColor();h.fillStyle=P}if(d.isUrlDefinition()){var S=d.getFillStyleDefinition(this,x);S&&(h.strokeStyle=S)}else if(d.hasValue()){"currentColor"===d.getString()&&d.setValue(this.getStyle("color").getColor());var w=d.getString();"inherit"!==w&&(h.strokeStyle="none"===w?"rgba(0,0,0,0)":w)}if(x.hasValue()){var T=new Property(this.document,"stroke",h.strokeStyle).addOpacity(x).getString();h.strokeStyle=T}var C=this.getStyle("stroke-width");if(C.hasValue()){var A=C.getPixels();h.lineWidth=A||z}var M=this.getStyle("stroke-linecap"),N=this.getStyle("stroke-linejoin"),_=this.getStyle("stroke-miterlimit"),R=this.getStyle("stroke-dasharray"),V=this.getStyle("stroke-dashoffset");if(M.hasValue()&&(h.lineCap=M.getString()),N.hasValue()&&(h.lineJoin=N.getString()),_.hasValue()&&(h.miterLimit=_.getNumber()),R.hasValue()&&"none"!==R.getString()){var k=toNumbers(R.getString());void 0!==h.setLineDash?h.setLineDash(k):void 0!==h.webkitLineDash?h.webkitLineDash=k:void 0===h.mozDash||1===k.length&&0===k[0]||(h.mozDash=k);var L=V.getPixels();void 0!==h.lineDashOffset?h.lineDashOffset=L:void 0!==h.webkitLineDashOffset?h.webkitLineDashOffset=L:void 0!==h.mozDashOffset&&(h.mozDashOffset=L)}}if(this.modifiedEmSizeStack=!1,void 0!==h.font){var D=this.getStyle("font"),B=this.getStyle("font-style"),j=this.getStyle("font-variant"),U=this.getStyle("font-weight"),G=this.getStyle("font-size"),X=this.getStyle("font-family"),Y=new Font(B.getString(),j.getString(),U.getString(),G.hasValue()?"".concat(G.getPixels(!0),"px"):"",X.getString(),Font.parse(D.getString(),h.font));B.setValue(Y.fontStyle),j.setValue(Y.fontVariant),U.setValue(Y.fontWeight),G.setValue(Y.fontSize),X.setValue(Y.fontFamily),h.font=Y.toString(),G.isPixels()&&(this.document.emSize=G.getPixels(),this.modifiedEmSizeStack=!0)}c||(this.applyEffects(h),h.globalAlpha=this.calculateOpacity())}clearContext(h){super.clearContext(h),this.modifiedEmSizeStack&&this.document.popEmSize()}};let PathElement=class PathElement extends RenderedElement{constructor(h,c,f){super(h,c,f),this.type="path",this.pathParser=null,this.pathParser=new PathParser(this.getAttribute("d").getString())}path(h){var{pathParser:c}=this,f=new BoundingBox;for(c.reset(),h&&h.beginPath();!c.isEnd();)switch(c.next().type){case PathParser.MOVE_TO:this.pathM(h,f);break;case PathParser.LINE_TO:this.pathL(h,f);break;case PathParser.HORIZ_LINE_TO:this.pathH(h,f);break;case PathParser.VERT_LINE_TO:this.pathV(h,f);break;case PathParser.CURVE_TO:this.pathC(h,f);break;case PathParser.SMOOTH_CURVE_TO:this.pathS(h,f);break;case PathParser.QUAD_TO:this.pathQ(h,f);break;case PathParser.SMOOTH_QUAD_TO:this.pathT(h,f);break;case PathParser.ARC:this.pathA(h,f);break;case PathParser.CLOSE_PATH:this.pathZ(h,f)}return f}getBoundingBox(h){return this.path()}getMarkers(){var{pathParser:h}=this,c=h.getMarkerPoints(),f=h.getMarkerAngles();return c.map((h,c)=>[h,f[c]])}renderChildren(h){this.path(h),this.document.screen.mouse.checkPath(this,h);var c=this.getStyle("fill-rule");""!==h.fillStyle&&("inherit"!==c.getString("inherit")?h.fill(c.getString()):h.fill()),""!==h.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(h.save(),h.setTransform(1,0,0,1,0,0),h.stroke(),h.restore()):h.stroke());var f=this.getMarkers();if(f){var g=f.length-1,d=this.getStyle("marker-start"),x=this.getStyle("marker-mid"),b=this.getStyle("marker-end");if(d.isUrlDefinition()){var E=d.getDefinition(),[P,S]=f[0];E.render(h,P,S)}if(x.isUrlDefinition())for(var w=x.getDefinition(),T=1;T<g;T++){var[C,A]=f[T];w.render(h,C,A)}if(b.isUrlDefinition()){var M=b.getDefinition(),[N,_]=f[g];M.render(h,N,_)}}}static pathM(h){var c=h.getAsCurrentPoint();return h.start=h.current,{point:c}}pathM(h,c){var{pathParser:f}=this,{point:g}=PathElement.pathM(f),{x:d,y:x}=g;f.addMarker(g),c.addPoint(d,x),h&&h.moveTo(d,x)}static pathL(h){var{current:c}=h;return{current:c,point:h.getAsCurrentPoint()}}pathL(h,c){var{pathParser:f}=this,{current:g,point:d}=PathElement.pathL(f),{x,y:b}=d;f.addMarker(d,g),c.addPoint(x,b),h&&h.lineTo(x,b)}static pathH(h){var{current:c,command:f}=h,g=new Point((f.relative?c.x:0)+f.x,c.y);return h.current=g,{current:c,point:g}}pathH(h,c){var{pathParser:f}=this,{current:g,point:d}=PathElement.pathH(f),{x,y:b}=d;f.addMarker(d,g),c.addPoint(x,b),h&&h.lineTo(x,b)}static pathV(h){var{current:c,command:f}=h,g=new Point(c.x,(f.relative?c.y:0)+f.y);return h.current=g,{current:c,point:g}}pathV(h,c){var{pathParser:f}=this,{current:g,point:d}=PathElement.pathV(f),{x,y:b}=d;f.addMarker(d,g),c.addPoint(x,b),h&&h.lineTo(x,b)}static pathC(h){var{current:c}=h;return{current:c,point:h.getPoint("x1","y1"),controlPoint:h.getAsControlPoint("x2","y2"),currentPoint:h.getAsCurrentPoint()}}pathC(h,c){var{pathParser:f}=this,{current:g,point:d,controlPoint:x,currentPoint:b}=PathElement.pathC(f);f.addMarker(b,x,d),c.addBezierCurve(g.x,g.y,d.x,d.y,x.x,x.y,b.x,b.y),h&&h.bezierCurveTo(d.x,d.y,x.x,x.y,b.x,b.y)}static pathS(h){var{current:c}=h;return{current:c,point:h.getReflectedControlPoint(),controlPoint:h.getAsControlPoint("x2","y2"),currentPoint:h.getAsCurrentPoint()}}pathS(h,c){var{pathParser:f}=this,{current:g,point:d,controlPoint:x,currentPoint:b}=PathElement.pathS(f);f.addMarker(b,x,d),c.addBezierCurve(g.x,g.y,d.x,d.y,x.x,x.y,b.x,b.y),h&&h.bezierCurveTo(d.x,d.y,x.x,x.y,b.x,b.y)}static pathQ(h){var{current:c}=h;return{current:c,controlPoint:h.getAsControlPoint("x1","y1"),currentPoint:h.getAsCurrentPoint()}}pathQ(h,c){var{pathParser:f}=this,{current:g,controlPoint:d,currentPoint:x}=PathElement.pathQ(f);f.addMarker(x,d,d),c.addQuadraticCurve(g.x,g.y,d.x,d.y,x.x,x.y),h&&h.quadraticCurveTo(d.x,d.y,x.x,x.y)}static pathT(h){var{current:c}=h,f=h.getReflectedControlPoint();return h.control=f,{current:c,controlPoint:f,currentPoint:h.getAsCurrentPoint()}}pathT(h,c){var{pathParser:f}=this,{current:g,controlPoint:d,currentPoint:x}=PathElement.pathT(f);f.addMarker(x,d,d),c.addQuadraticCurve(g.x,g.y,d.x,d.y,x.x,x.y),h&&h.quadraticCurveTo(d.x,d.y,x.x,x.y)}static pathA(h){var{current:c,command:f}=h,{rX:g,rY:d,xRot:x,lArcFlag:b,sweepFlag:E}=f,P=x*(Math.PI/180),S=h.getAsCurrentPoint(),w=new Point(Math.cos(P)*(c.x-S.x)/2+Math.sin(P)*(c.y-S.y)/2,-Math.sin(P)*(c.x-S.x)/2+Math.cos(P)*(c.y-S.y)/2),T=Math.pow(w.x,2)/Math.pow(g,2)+Math.pow(w.y,2)/Math.pow(d,2);T>1&&(g*=Math.sqrt(T),d*=Math.sqrt(T));var C=(b===E?-1:1)*Math.sqrt((Math.pow(g,2)*Math.pow(d,2)-Math.pow(g,2)*Math.pow(w.y,2)-Math.pow(d,2)*Math.pow(w.x,2))/(Math.pow(g,2)*Math.pow(w.y,2)+Math.pow(d,2)*Math.pow(w.x,2)));isNaN(C)&&(C=0);var A=new Point(C*g*w.y/d,-(C*d)*w.x/g),M=new Point((c.x+S.x)/2+Math.cos(P)*A.x-Math.sin(P)*A.y,(c.y+S.y)/2+Math.sin(P)*A.x+Math.cos(P)*A.y),N=vectorsAngle([1,0],[(w.x-A.x)/g,(w.y-A.y)/d]),_=[(w.x-A.x)/g,(w.y-A.y)/d],R=[(-w.x-A.x)/g,(-w.y-A.y)/d],V=vectorsAngle(_,R);return -1>=vectorsRatio(_,R)&&(V=Math.PI),vectorsRatio(_,R)>=1&&(V=0),{currentPoint:S,rX:g,rY:d,sweepFlag:E,xAxisRotation:P,centp:M,a1:N,ad:V}}pathA(h,c){var{pathParser:f}=this,{currentPoint:g,rX:d,rY:x,sweepFlag:b,xAxisRotation:E,centp:P,a1:S,ad:w}=PathElement.pathA(f),T=1-b?1:-1,C=S+T*(w/2),A=new Point(P.x+d*Math.cos(C),P.y+x*Math.sin(C));if(f.addMarkerAngle(A,C-T*Math.PI/2),f.addMarkerAngle(g,C-T*Math.PI),c.addPoint(g.x,g.y),h&&!isNaN(S)&&!isNaN(w)){var M=d>x?d:x,N=d>x?1:d/x,_=d>x?x/d:1;h.translate(P.x,P.y),h.rotate(E),h.scale(N,_),h.arc(0,0,M,S,S+w,!!(1-b)),h.scale(1/N,1/_),h.rotate(-E),h.translate(-P.x,-P.y)}}static pathZ(h){h.current=h.start}pathZ(h,c){PathElement.pathZ(this.pathParser),h&&c.x1!==c.x2&&c.y1!==c.y2&&h.closePath()}};let GlyphElement=class GlyphElement extends PathElement{constructor(h,c,f){super(h,c,f),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}};let TextElement=class TextElement extends RenderedElement{constructor(h,c,f){super(h,c,new.target===TextElement||f),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(h,c);var f=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();f&&(h.textBaseline=f)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(h){if("text"!==this.type)return this.getTElementBoundingBox(h);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(h);var c=null;return this.children.forEach((f,g)=>{var d=this.getChildBoundingBox(h,this,this,g);c?c.addBoundingBox(d):c=d}),c}getFontSize(){var{document:h,parent:c}=this,f=Font.parse(h.ctx.font).fontSize;return c.getStyle("font-size").getNumber(f)}getTElementBoundingBox(h){var c=this.getFontSize();return new BoundingBox(this.x,this.y-c,this.x+this.measureText(h),this.y)}getGlyph(h,c,f){var g=c[f],d=null;if(h.isArabic){var x=c.length,b=c[f-1],E=c[f+1],P="isolated";if((0===f||" "===b)&&f<x-1&&" "!==E&&(P="terminal"),f>0&&" "!==b&&f<x-1&&" "!==E&&(P="medial"),f>0&&" "!==b&&(f===x-1||" "===E)&&(P="initial"),void 0!==h.glyphs[g]){var S=h.glyphs[g];d=S instanceof GlyphElement?S:S[P]}}else d=h.glyphs[g];return d||(d=h.missingGlyph),d}getText(){return""}getTextFromNode(h){var c=h||this.node,f=Array.from(c.parentNode.childNodes),g=f.indexOf(c),d=f.length-1,x=compressSpaces(c.textContent||"");return 0===g&&(x=trimLeft(x)),g===d&&(x=trimRight(x)),x}renderChildren(h){if("text"!==this.type){this.renderTElementChildren(h);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(h),this.children.forEach((c,f)=>{this.renderChild(h,this,this,f)});var{mouse:c}=this.document.screen;c.isWorking()&&c.checkBoundingBox(this,this.getBoundingBox(h))}renderTElementChildren(h){var{document:c,parent:f}=this,g=this.getText(),d=f.getStyle("font-family").getDefinition();if(d){for(var{unitsPerEm:x}=d.fontFace,b=Font.parse(c.ctx.font),E=f.getStyle("font-size").getNumber(b.fontSize),P=f.getStyle("font-style").getString(b.fontStyle),S=E/x,w=d.isRTL?g.split("").reverse().join(""):g,T=toNumbers(f.getAttribute("dx").getString()),C=w.length,A=0;A<C;A++){var M=this.getGlyph(d,w,A);h.translate(this.x,this.y),h.scale(S,-S);var N=h.lineWidth;h.lineWidth=h.lineWidth*x/E,"italic"===P&&h.transform(1,0,.4,1,0,0),M.render(h),"italic"===P&&h.transform(1,0,-.4,1,0,0),h.lineWidth=N,h.scale(1/S,-1/S),h.translate(-this.x,-this.y),this.x+=E*(M.horizAdvX||d.horizAdvX)/x,void 0===T[A]||isNaN(T[A])||(this.x+=T[A])}return}var{x:_,y:R}=this;h.fillStyle&&h.fillText(g,_,R),h.strokeStyle&&h.strokeText(g,_,R)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var h=this.leafTexts[this.textChunkStart],c=h.getStyle("text-anchor").getString("start"),f=0;f="start"===c?h.x-this.minX:"end"===c?h.x-this.maxX:h.x-(this.minX+this.maxX)/2;for(var g=this.textChunkStart;g<this.leafTexts.length;g++)this.leafTexts[g].x+=f;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(h){this.children.forEach((c,f)=>{this.adjustChildCoordinatesRecursiveCore(h,this,this,f)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(h,c,f,g){var d=f.children[g];d.children.length>0?d.children.forEach((f,g)=>{c.adjustChildCoordinatesRecursiveCore(h,c,d,g)}):this.adjustChildCoordinates(h,c,f,g)}adjustChildCoordinates(h,c,f,g){var d=f.children[g];if("function"!=typeof d.measureText)return d;h.save(),d.setContext(h,!0);var x=d.getAttribute("x"),b=d.getAttribute("y"),E=d.getAttribute("dx"),P=d.getAttribute("dy"),S=d.getStyle("font-family").getDefinition(),w=!!S&&S.isRTL;0!==g||(x.hasValue()||x.setValue(d.getInheritedAttribute("x")),b.hasValue()||b.setValue(d.getInheritedAttribute("y")),E.hasValue()||E.setValue(d.getInheritedAttribute("dx")),P.hasValue()||P.setValue(d.getInheritedAttribute("dy")));var T=d.measureText(h);return w&&(c.x-=T),x.hasValue()?(c.applyAnchoring(),d.x=x.getPixels("x"),E.hasValue()&&(d.x+=E.getPixels("x"))):(E.hasValue()&&(c.x+=E.getPixels("x")),d.x=c.x),c.x=d.x,w||(c.x+=T),b.hasValue()?(d.y=b.getPixels("y"),P.hasValue()&&(d.y+=P.getPixels("y"))):(P.hasValue()&&(c.y+=P.getPixels("y")),d.y=c.y),c.y=d.y,c.leafTexts.push(d),c.minX=Math.min(c.minX,d.x,d.x+T),c.maxX=Math.max(c.maxX,d.x,d.x+T),d.clearContext(h),h.restore(),d}getChildBoundingBox(h,c,f,g){var d=f.children[g];if("function"!=typeof d.getBoundingBox)return null;var x=d.getBoundingBox(h);return x?(d.children.forEach((f,g)=>{var b=c.getChildBoundingBox(h,c,d,g);x.addBoundingBox(b)}),x):null}renderChild(h,c,f,g){var d=f.children[g];d.render(h),d.children.forEach((f,g)=>{c.renderChild(h,c,d,g)})}measureText(h){var{measureCache:c}=this;if(~c)return c;var f=this.getText(),g=this.measureTargetText(h,f);return this.measureCache=g,g}measureTargetText(h,c){if(!c.length)return 0;var{parent:f}=this,g=f.getStyle("font-family").getDefinition();if(g){for(var d=this.getFontSize(),x=g.isRTL?c.split("").reverse().join(""):c,b=toNumbers(f.getAttribute("dx").getString()),E=x.length,P=0,S=0;S<E;S++)P+=(this.getGlyph(g,x,S).horizAdvX||g.horizAdvX)*d/g.fontFace.unitsPerEm,void 0===b[S]||isNaN(b[S])||(P+=b[S]);return P}if(!h.measureText)return 10*c.length;h.save(),this.setContext(h,!0);var{width:w}=h.measureText(c);return this.clearContext(h),h.restore(),w}getInheritedAttribute(h){for(var c=this;c instanceof TextElement&&c.isFirstChild();){var f=c.parent.getAttribute(h);if(f.hasValue(!0))return f.getValue("0");c=c.parent}return null}};let TSpanElement=class TSpanElement extends TextElement{constructor(h,c,f){super(h,c,new.target===TSpanElement||f),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}};let TextNode=class TextNode extends TSpanElement{constructor(){super(...arguments),this.type="textNode"}};let SVGElement=class SVGElement extends RenderedElement{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(h){var c,{document:f}=this,{screen:g,window:d}=f,x=h.canvas;if(g.setDefaults(h),x.style&&void 0!==h.font&&d&&void 0!==d.getComputedStyle){h.font=d.getComputedStyle(x).getPropertyValue("font");var b=new Property(f,"fontSize",Font.parse(h.font).fontSize);b.hasValue()&&(f.rootEmSize=b.getPixels("y"),f.emSize=f.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:E,height:P}=g.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var S=this.getAttribute("refX"),w=this.getAttribute("refY"),T=this.getAttribute("viewBox"),C=T.hasValue()?toNumbers(T.getString()):null,A=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),M=0,N=0,_=0,R=0;C&&(M=C[0],N=C[1]),this.root||(E=this.getStyle("width").getPixels("x"),P=this.getStyle("height").getPixels("y"),"marker"!==this.type||(_=M,R=N,M=0,N=0)),g.viewPort.setCurrent(E,P),this.node&&(!this.parent||(null===(c=this.node.parentNode)||void 0===c?void 0:c.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(h),h.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),C&&(E=C[2],P=C[3]),f.setViewBox({ctx:h,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:g.viewPort.width,desiredWidth:E,height:g.viewPort.height,desiredHeight:P,minX:M,minY:N,refX:S.getValue(),refY:w.getValue(),clip:A,clipX:_,clipY:R}),C&&(g.viewPort.removeCurrent(),g.viewPort.setCurrent(E,P))}clearContext(h){super.clearContext(h),this.document.screen.viewPort.removeCurrent()}resize(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=this.getAttribute("width",!0),d=this.getAttribute("height",!0),x=this.getAttribute("viewBox"),b=this.getAttribute("style"),E=g.getNumber(0),P=d.getNumber(0);if(f){if("string"==typeof f)this.getAttribute("preserveAspectRatio",!0).setValue(f);else{var S=this.getAttribute("preserveAspectRatio");S.hasValue()&&S.setValue(S.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}}if(g.setValue(h),d.setValue(c),x.hasValue()||x.setValue("0 0 ".concat(E||h," ").concat(P||c)),b.hasValue()){var w=this.getStyle("width"),T=this.getStyle("height");w.hasValue()&&w.setValue("".concat(h,"px")),T.hasValue()&&T.setValue("".concat(c,"px"))}}};let RectElement=class RectElement extends PathElement{constructor(){super(...arguments),this.type="rect"}path(h){var c=this.getAttribute("x").getPixels("x"),f=this.getAttribute("y").getPixels("y"),g=this.getStyle("width",!1,!0).getPixels("x"),d=this.getStyle("height",!1,!0).getPixels("y"),x=this.getAttribute("rx"),b=this.getAttribute("ry"),E=x.getPixels("x"),P=b.getPixels("y");if(x.hasValue()&&!b.hasValue()&&(P=E),b.hasValue()&&!x.hasValue()&&(E=P),E=Math.min(E,g/2),P=Math.min(P,d/2),h){var S=4*((Math.sqrt(2)-1)/3);h.beginPath(),d>0&&g>0&&(h.moveTo(c+E,f),h.lineTo(c+g-E,f),h.bezierCurveTo(c+g-E+S*E,f,c+g,f+P-S*P,c+g,f+P),h.lineTo(c+g,f+d-P),h.bezierCurveTo(c+g,f+d-P+S*P,c+g-E+S*E,f+d,c+g-E,f+d),h.lineTo(c+E,f+d),h.bezierCurveTo(c+E-S*E,f+d,c,f+d-P+S*P,c,f+d-P),h.lineTo(c,f+P),h.bezierCurveTo(c,f+P-S*P,c+E-S*E,f,c+E,f),h.closePath())}return new BoundingBox(c,f,c+g,f+d)}getMarkers(){return null}};let CircleElement=class CircleElement extends PathElement{constructor(){super(...arguments),this.type="circle"}path(h){var c=this.getAttribute("cx").getPixels("x"),f=this.getAttribute("cy").getPixels("y"),g=this.getAttribute("r").getPixels();return h&&g>0&&(h.beginPath(),h.arc(c,f,g,0,2*Math.PI,!1),h.closePath()),new BoundingBox(c-g,f-g,c+g,f+g)}getMarkers(){return null}};let EllipseElement=class EllipseElement extends PathElement{constructor(){super(...arguments),this.type="ellipse"}path(h){var c=4*((Math.sqrt(2)-1)/3),f=this.getAttribute("rx").getPixels("x"),g=this.getAttribute("ry").getPixels("y"),d=this.getAttribute("cx").getPixels("x"),x=this.getAttribute("cy").getPixels("y");return h&&f>0&&g>0&&(h.beginPath(),h.moveTo(d+f,x),h.bezierCurveTo(d+f,x+c*g,d+c*f,x+g,d,x+g),h.bezierCurveTo(d-c*f,x+g,d-f,x+c*g,d-f,x),h.bezierCurveTo(d-f,x-c*g,d-c*f,x-g,d,x-g),h.bezierCurveTo(d+c*f,x-g,d+f,x-c*g,d+f,x),h.closePath()),new BoundingBox(d-f,x-g,d+f,x+g)}getMarkers(){return null}};let LineElement=class LineElement extends PathElement{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Point(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Point(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(h){var[{x:c,y:f},{x:g,y:d}]=this.getPoints();return h&&(h.beginPath(),h.moveTo(c,f),h.lineTo(g,d)),new BoundingBox(c,f,g,d)}getMarkers(){var[h,c]=this.getPoints(),f=h.angleTo(c);return[[h,f],[c,f]]}};let PolylineElement=class PolylineElement extends PathElement{constructor(h,c,f){super(h,c,f),this.type="polyline",this.points=[],this.points=Point.parsePath(this.getAttribute("points").getString())}path(h){var{points:c}=this,[{x:f,y:g}]=c,d=new BoundingBox(f,g);return h&&(h.beginPath(),h.moveTo(f,g)),c.forEach(c=>{var{x:f,y:g}=c;d.addPoint(f,g),h&&h.lineTo(f,g)}),d}getMarkers(){var{points:h}=this,c=h.length-1,f=[];return h.forEach((g,d)=>{d!==c&&f.push([g,g.angleTo(h[d+1])])}),f.length>0&&f.push([h[h.length-1],f[f.length-1][1]]),f}};let PolygonElement=class PolygonElement extends PolylineElement{constructor(){super(...arguments),this.type="polygon"}path(h){var c=super.path(h),[{x:f,y:g}]=this.points;return h&&(h.lineTo(f,g),h.closePath()),c}};let PatternElement=class PatternElement extends Element{constructor(){super(...arguments),this.type="pattern"}createPattern(h,c,f){var g=this.getStyle("width").getPixels("x",!0),d=this.getStyle("height").getPixels("y",!0),x=new SVGElement(this.document,null);x.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),x.attributes.width=new Property(this.document,"width","".concat(g,"px")),x.attributes.height=new Property(this.document,"height","".concat(d,"px")),x.attributes.transform=new Property(this.document,"transform",this.getAttribute("patternTransform").getValue()),x.children=this.children;var b=this.document.createCanvas(g,d),E=b.getContext("2d"),P=this.getAttribute("x"),S=this.getAttribute("y");P.hasValue()&&S.hasValue()&&E.translate(P.getPixels("x",!0),S.getPixels("y",!0)),f.hasValue()?this.styles["fill-opacity"]=f:Reflect.deleteProperty(this.styles,"fill-opacity");for(var w=-1;w<=1;w++)for(var T=-1;T<=1;T++)E.save(),x.attributes.x=new Property(this.document,"x",w*b.width),x.attributes.y=new Property(this.document,"y",T*b.height),x.render(E),E.restore();return h.createPattern(b,"repeat")}};let MarkerElement=class MarkerElement extends Element{constructor(){super(...arguments),this.type="marker"}render(h,c,f){if(c){var{x:g,y:d}=c,x=this.getAttribute("orient").getString("auto"),b=this.getAttribute("markerUnits").getString("strokeWidth");h.translate(g,d),"auto"===x&&h.rotate(f),"strokeWidth"===b&&h.scale(h.lineWidth,h.lineWidth),h.save();var E=new SVGElement(this.document,null);E.type=this.type,E.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),E.attributes.refX=new Property(this.document,"refX",this.getAttribute("refX").getValue()),E.attributes.refY=new Property(this.document,"refY",this.getAttribute("refY").getValue()),E.attributes.width=new Property(this.document,"width",this.getAttribute("markerWidth").getValue()),E.attributes.height=new Property(this.document,"height",this.getAttribute("markerHeight").getValue()),E.attributes.overflow=new Property(this.document,"overflow",this.getAttribute("overflow").getValue()),E.attributes.fill=new Property(this.document,"fill",this.getAttribute("fill").getColor("black")),E.attributes.stroke=new Property(this.document,"stroke",this.getAttribute("stroke").getValue("none")),E.children=this.children,E.render(h),h.restore(),"strokeWidth"===b&&h.scale(1/h.lineWidth,1/h.lineWidth),"auto"===x&&h.rotate(-f),h.translate(-g,-d)}}};let DefsElement=class DefsElement extends Element{constructor(){super(...arguments),this.type="defs"}render(){}};let GElement=class GElement extends RenderedElement{constructor(){super(...arguments),this.type="g"}getBoundingBox(h){var c=new BoundingBox;return this.children.forEach(f=>{c.addBoundingBox(f.getBoundingBox(h))}),c}};let GradientElement=class GradientElement extends Element{constructor(h,c,f){super(h,c,f),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:g,children:d}=this;d.forEach(h=>{"stop"===h.type&&g.push(h)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(h,c,f){var g=this;this.getHrefAttribute().hasValue()&&(g=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(g));var{stops:d}=g,x=this.getGradient(h,c);if(!x)return this.addParentOpacity(f,d[d.length-1].color);if(d.forEach(h=>{x.addColorStop(h.offset,this.addParentOpacity(f,h.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:b}=this,{MAX_VIRTUAL_PIXELS:E,viewPort:P}=b.screen,[S]=P.viewPorts,w=new RectElement(b,null);w.attributes.x=new Property(b,"x",-E/3),w.attributes.y=new Property(b,"y",-E/3),w.attributes.width=new Property(b,"width",E),w.attributes.height=new Property(b,"height",E);var T=new GElement(b,null);T.attributes.transform=new Property(b,"transform",this.getAttribute("gradientTransform").getValue()),T.children=[w];var C=new SVGElement(b,null);C.attributes.x=new Property(b,"x",0),C.attributes.y=new Property(b,"y",0),C.attributes.width=new Property(b,"width",S.width),C.attributes.height=new Property(b,"height",S.height),C.children=[T];var A=b.createCanvas(S.width,S.height),M=A.getContext("2d");return M.fillStyle=x,C.render(M),M.createPattern(A,"no-repeat")}return x}inheritStopContainer(h){this.attributesToInherit.forEach(c=>{!this.getAttribute(c).hasValue()&&h.getAttribute(c).hasValue()&&this.getAttribute(c,!0).setValue(h.getAttribute(c).getValue())})}addParentOpacity(h,c){return h.hasValue()?new Property(this.document,"color",c).addOpacity(h).getColor():c}};let LinearGradientElement=class LinearGradientElement extends GradientElement{constructor(h,c,f){super(h,c,f),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(h,c){var f="objectBoundingBox"===this.getGradientUnits(),g=f?c.getBoundingBox(h):null;if(f&&!g)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var d=f?g.x+g.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),x=f?g.y+g.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),b=f?g.x+g.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),E=f?g.y+g.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return d===b&&x===E?null:h.createLinearGradient(d,x,b,E)}};let RadialGradientElement=class RadialGradientElement extends GradientElement{constructor(h,c,f){super(h,c,f),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(h,c){var f="objectBoundingBox"===this.getGradientUnits(),g=c.getBoundingBox(h);if(f&&!g)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var d=f?g.x+g.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),x=f?g.y+g.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),b=d,E=x;this.getAttribute("fx").hasValue()&&(b=f?g.x+g.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(E=f?g.y+g.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var P=f?(g.width+g.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),S=this.getAttribute("fr").getPixels();return h.createRadialGradient(b,E,S,d,x,P)}};let StopElement=class StopElement extends Element{constructor(h,c,f){super(h,c,f),this.type="stop";var g=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),d=this.getStyle("stop-opacity"),x=this.getStyle("stop-color",!0);""===x.getString()&&x.setValue("#000"),d.hasValue()&&(x=x.addOpacity(d)),this.offset=g,this.color=x.getColor()}};let AnimateElement=class AnimateElement extends Element{constructor(h,c,f){super(h,c,f),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,h.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Property(h,"values",null);var g=this.getAttribute("values");g.hasValue()&&this.values.setValue(g.getString().split(";"))}getProperty(){var h=this.getAttribute("attributeType").getString(),c=this.getAttribute("attributeName").getString();return"CSS"===h?this.parent.getStyle(c,!0):this.parent.getAttribute(c,!0)}calcValue(){var{initialUnits:h}=this,{progress:c,from:f,to:g}=this.getProgress(),d=f.getNumber()+(g.getNumber()-f.getNumber())*c;return"%"===h&&(d*=100),"".concat(d).concat(h)}update(h){var{parent:c}=this,f=this.getProperty();if(this.initialValue||(this.initialValue=f.getString(),this.initialUnits=f.getUnits()),this.duration>this.maxDuration){var g=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==g||this.frozen){if("remove"===g&&!this.removed)return this.removed=!0,f.setValue(c.animationFrozen?c.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,c.animationFrozen=!0,c.animationFrozenValue=f.getString();return!1}this.duration+=h;var d=!1;if(this.begin<this.duration){var x=this.calcValue(),b=this.getAttribute("type");if(b.hasValue()){var E=b.getString();x="".concat(E,"(").concat(x,")")}f.setValue(x),d=!0}return d}getProgress(){var{document:h,values:c}=this,f={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(c.hasValue()){var g=f.progress*(c.getValue().length-1),d=Math.floor(g),x=Math.ceil(g);f.from=new Property(h,"from",parseFloat(c.getValue()[d])),f.to=new Property(h,"to",parseFloat(c.getValue()[x])),f.progress=(g-d)/(x-d)}else f.from=this.from,f.to=this.to;return f}};let AnimateColorElement=class AnimateColorElement extends AnimateElement{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:h,from:c,to:f}=this.getProgress(),g=new b(c.getColor()),d=new b(f.getColor());if(g.ok&&d.ok){var x=g.r+(d.r-g.r)*h,E=g.g+(d.g-g.g)*h,P=g.b+(d.b-g.b)*h;return"rgb(".concat(Math.floor(x),", ").concat(Math.floor(E),", ").concat(Math.floor(P),")")}return this.getAttribute("from").getColor()}};let AnimateTransformElement=class AnimateTransformElement extends AnimateElement{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:h,from:c,to:f}=this.getProgress(),g=toNumbers(c.getString()),d=toNumbers(f.getString());return g.map((c,f)=>c+(d[f]-c)*h).join(" ")}};let FontElement=class FontElement extends Element{constructor(h,c,f){super(h,c,f),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:g}=h,{children:d}=this;for(var x of d)switch(x.type){case"font-face":this.fontFace=x;var b=x.getStyle("font-family");b.hasValue()&&(g[b.getString()]=this);break;case"missing-glyph":this.missingGlyph=x;break;case"glyph":x.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[x.unicode]&&(this.glyphs[x.unicode]=Object.create(null)),this.glyphs[x.unicode][x.arabicForm]=x):this.glyphs[x.unicode]=x}}render(){}};let FontFaceElement=class FontFaceElement extends Element{constructor(h,c,f){super(h,c,f),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}};let MissingGlyphElement=class MissingGlyphElement extends PathElement{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}};let TRefElement=class TRefElement extends TextElement{constructor(){super(...arguments),this.type="tref"}getText(){var h=this.getHrefAttribute().getDefinition();if(h){var c=h.children[0];if(c)return c.getText()}return""}};let AElement=class AElement extends TextElement{constructor(h,c,f){super(h,c,f),this.type="a";var{childNodes:g}=c,d=g[0],x=g.length>0&&Array.from(g).every(h=>3===h.nodeType);this.hasText=x,this.text=x?this.getTextFromNode(d):""}getText(){return this.text}renderChildren(h){if(this.hasText){super.renderChildren(h);var{document:c,x:f,y:g}=this,{mouse:d}=c.screen,x=new Property(c,"fontSize",Font.parse(c.ctx.font).fontSize);d.isWorking()&&d.checkBoundingBox(this,new BoundingBox(f,g-x.getPixels("y"),f+this.measureText(h),g))}else if(this.children.length>0){var b=new GElement(this.document,null);b.children=this.children,b.parent=this,b.render(h)}}onClick(){var{window:h}=this.document;h&&h.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}};function ownKeys$2(h,c){var f=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);c&&(g=g.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),f.push.apply(f,g)}return f}function _objectSpread$2(h){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?ownKeys$2(Object(f),!0).forEach(function(c){d(h,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(f)):ownKeys$2(Object(f)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(f,c))})}return h}let TextPathElement=class TextPathElement extends TextElement{constructor(h,c,f){super(h,c,f),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var g=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(g)}getText(){return this.text}path(h){var{dataArray:c}=this;h&&h.beginPath(),c.forEach(c=>{var{type:f,points:g}=c;switch(f){case PathParser.LINE_TO:h&&h.lineTo(g[0],g[1]);break;case PathParser.MOVE_TO:h&&h.moveTo(g[0],g[1]);break;case PathParser.CURVE_TO:h&&h.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case PathParser.QUAD_TO:h&&h.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case PathParser.ARC:var[d,x,b,E,P,S,w,T]=g,C=b>E?1:b/E,A=b>E?E/b:1;h&&(h.translate(d,x),h.rotate(w),h.scale(C,A),h.arc(0,0,b>E?b:E,P,P+S,!!(1-T)),h.scale(1/C,1/A),h.rotate(-w),h.translate(-d,-x));break;case PathParser.CLOSE_PATH:h&&h.closePath()}})}renderChildren(h){this.setTextData(h),h.save();var c=this.parent.getStyle("text-decoration").getString(),f=this.getFontSize(),{glyphInfo:g}=this,d=h.fillStyle;"underline"===c&&h.beginPath(),g.forEach((g,d)=>{var{p0:x,p1:b,rotation:E,text:P}=g;h.save(),h.translate(x.x,x.y),h.rotate(E),h.fillStyle&&h.fillText(P,0,0),h.strokeStyle&&h.strokeText(P,0,0),h.restore(),"underline"===c&&(0===d&&h.moveTo(x.x,x.y+f/8),h.lineTo(b.x,b.y+f/5))}),"underline"===c&&(h.lineWidth=f/20,h.strokeStyle=d,h.stroke(),h.closePath()),h.restore()}getLetterSpacingAt(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[h]||0}findSegmentToFitChar(h,c,f,g,d,x,b,E,P){var S=x,w=this.measureText(h,E);" "===E&&"justify"===c&&f<g&&(w+=(g-f)/d),P>-1&&(S+=this.getLetterSpacingAt(P));var T=this.textHeight/20,C=this.getEquidistantPointOnPath(S,T,0),A=this.getEquidistantPointOnPath(S+w,T,0),M={p0:C,p1:A},N=C&&A?Math.atan2(A.y-C.y,A.x-C.x):0;if(b){var _=Math.cos(Math.PI/2+N)*b,R=Math.cos(-N)*b;M.p0=_objectSpread$2(_objectSpread$2({},C),{},{x:C.x+_,y:C.y+R}),M.p1=_objectSpread$2(_objectSpread$2({},A),{},{x:A.x+_,y:A.y+R})}return{offset:S+=w,segment:M,rotation:N}}measureText(h,c){var{measuresCache:f}=this,g=c||this.getText();if(f.has(g))return f.get(g);var d=this.measureTargetText(h,g);return f.set(g,d),d}setTextData(h){if(!this.glyphInfo){var c=this.getText(),f=c.split(""),g=c.split(" ").length-1,d=this.parent.getAttribute("dx").split().map(h=>h.getPixels("x")),x=this.parent.getAttribute("dy").getPixels("y"),b=this.parent.getStyle("text-anchor").getString("start"),E=this.getStyle("letter-spacing"),P=this.parent.getStyle("letter-spacing"),S=0;E.hasValue()&&"inherit"!==E.getValue()?E.hasValue()&&"initial"!==E.getValue()&&"unset"!==E.getValue()&&(S=E.getPixels()):S=P.getPixels();var w=[],T=c.length;this.letterSpacingCache=w;for(var C=0;C<T;C++)w.push(void 0!==d[C]?d[C]:S);var A=w.reduce((h,c,f)=>0===f?0:h+c||0,0),M=this.measureText(h),N=Math.max(M+A,0);this.textWidth=M,this.textHeight=this.getFontSize(),this.glyphInfo=[];var _=this.getPathLength(),R=this.getStyle("startOffset").getNumber(0)*_,V=0;("middle"===b||"center"===b)&&(V=-N/2),("end"===b||"right"===b)&&(V=-N),V+=R,f.forEach((c,d)=>{var{offset:E,segment:P,rotation:S}=this.findSegmentToFitChar(h,b,N,_,g,V,x,c,d);V=E,P.p0&&P.p1&&this.glyphInfo.push({text:f[d],p0:P.p0,p1:P.p1,rotation:S})})}}parsePathData(h){if(this.pathLength=-1,!h)return[];var c=[],{pathParser:f}=h;for(f.reset();!f.isEnd();){var{current:g}=f,d=g?g.x:0,x=g?g.y:0,b=f.next(),E=b.type,P=[];switch(b.type){case PathParser.MOVE_TO:this.pathM(f,P);break;case PathParser.LINE_TO:E=this.pathL(f,P);break;case PathParser.HORIZ_LINE_TO:E=this.pathH(f,P);break;case PathParser.VERT_LINE_TO:E=this.pathV(f,P);break;case PathParser.CURVE_TO:this.pathC(f,P);break;case PathParser.SMOOTH_CURVE_TO:E=this.pathS(f,P);break;case PathParser.QUAD_TO:this.pathQ(f,P);break;case PathParser.SMOOTH_QUAD_TO:E=this.pathT(f,P);break;case PathParser.ARC:P=this.pathA(f);break;case PathParser.CLOSE_PATH:PathElement.pathZ(f)}b.type!==PathParser.CLOSE_PATH?c.push({type:E,points:P,start:{x:d,y:x},pathLength:this.calcLength(d,x,E,P)}):c.push({type:PathParser.CLOSE_PATH,points:[],pathLength:0})}return c}pathM(h,c){var{x:f,y:g}=PathElement.pathM(h).point;c.push(f,g)}pathL(h,c){var{x:f,y:g}=PathElement.pathL(h).point;return c.push(f,g),PathParser.LINE_TO}pathH(h,c){var{x:f,y:g}=PathElement.pathH(h).point;return c.push(f,g),PathParser.LINE_TO}pathV(h,c){var{x:f,y:g}=PathElement.pathV(h).point;return c.push(f,g),PathParser.LINE_TO}pathC(h,c){var{point:f,controlPoint:g,currentPoint:d}=PathElement.pathC(h);c.push(f.x,f.y,g.x,g.y,d.x,d.y)}pathS(h,c){var{point:f,controlPoint:g,currentPoint:d}=PathElement.pathS(h);return c.push(f.x,f.y,g.x,g.y,d.x,d.y),PathParser.CURVE_TO}pathQ(h,c){var{controlPoint:f,currentPoint:g}=PathElement.pathQ(h);c.push(f.x,f.y,g.x,g.y)}pathT(h,c){var{controlPoint:f,currentPoint:g}=PathElement.pathT(h);return c.push(f.x,f.y,g.x,g.y),PathParser.QUAD_TO}pathA(h){var{rX:c,rY:f,sweepFlag:g,xAxisRotation:d,centp:x,a1:b,ad:E}=PathElement.pathA(h);return 0===g&&E>0&&(E-=2*Math.PI),1===g&&E<0&&(E+=2*Math.PI),[x.x,x.y,c,f,b,E,d,g]}calcLength(h,c,f,g){var d=0,x=null,b=null,E=0;switch(f){case PathParser.LINE_TO:return this.getLineLength(h,c,g[0],g[1]);case PathParser.CURVE_TO:for(E=.01,d=0,x=this.getPointOnCubicBezier(0,h,c,g[0],g[1],g[2],g[3],g[4],g[5]);E<=1;E+=.01)b=this.getPointOnCubicBezier(E,h,c,g[0],g[1],g[2],g[3],g[4],g[5]),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;return d;case PathParser.QUAD_TO:for(E=.01,d=0,x=this.getPointOnQuadraticBezier(0,h,c,g[0],g[1],g[2],g[3]);E<=1;E+=.01)b=this.getPointOnQuadraticBezier(E,h,c,g[0],g[1],g[2],g[3]),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;return d;case PathParser.ARC:d=0;var P=g[4],S=g[5],w=g[4]+S,T=Math.PI/180;if(Math.abs(P-w)<T&&(T=Math.abs(P-w)),x=this.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],P,0),S<0)for(E=P-T;E>w;E-=T)b=this.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],E,0),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;else for(E=P+T;E<w;E+=T)b=this.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],E,0),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;return b=this.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],w,0),d+=this.getLineLength(x.x,x.y,b.x,b.y)}return 0}getPointOnLine(h,c,f,g,d){var x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:c,b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:f,E=(d-f)/(g-c+z),P=Math.sqrt(h*h/(1+E*E));g<c&&(P*=-1);var S=E*P,w=null;if(g===c)w={x:x,y:b+S};else if((b-f)/(x-c+z)===E)w={x:x+P,y:b+S};else{var T=0,C=0,A=this.getLineLength(c,f,g,d);if(A<z)return null;var M=(x-c)*(g-c)+(b-f)*(d-f);M/=A*A,T=c+M*(g-c),C=f+M*(d-f);var N=this.getLineLength(x,b,T,C),_=Math.sqrt(h*h-N*N);P=Math.sqrt(_*_/(1+E*E)),g<c&&(P*=-1),S=E*P,w={x:T+P,y:C+S}}return w}getPointOnPath(h){var c=this.getPathLength(),f=0,g=null;if(h<-.00005||h-5e-5>c)return null;var{dataArray:d}=this;for(var x of d){if(x&&(x.pathLength<5e-5||f+x.pathLength+5e-5<h)){f+=x.pathLength;continue}var b=h-f,E=0;switch(x.type){case PathParser.LINE_TO:g=this.getPointOnLine(b,x.start.x,x.start.y,x.points[0],x.points[1],x.start.x,x.start.y);break;case PathParser.ARC:var P=x.points[4],S=x.points[5],w=x.points[4]+S;if(E=P+b/x.pathLength*S,S<0&&E<w||S>=0&&E>w)break;g=this.getPointOnEllipticalArc(x.points[0],x.points[1],x.points[2],x.points[3],E,x.points[6]);break;case PathParser.CURVE_TO:(E=b/x.pathLength)>1&&(E=1),g=this.getPointOnCubicBezier(E,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3],x.points[4],x.points[5]);break;case PathParser.QUAD_TO:(E=b/x.pathLength)>1&&(E=1),g=this.getPointOnQuadraticBezier(E,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3])}if(g)return g;break}return null}getLineLength(h,c,f,g){return Math.sqrt((f-h)*(f-h)+(g-c)*(g-c))}getPathLength(){return -1===this.pathLength&&(this.pathLength=this.dataArray.reduce((h,c)=>c.pathLength>0?h+c.pathLength:h,0)),this.pathLength}getPointOnCubicBezier(h,c,f,g,d,x,b,E,P){return{x:E*CB1(h)+x*CB2(h)+g*CB3(h)+c*CB4(h),y:P*CB1(h)+b*CB2(h)+d*CB3(h)+f*CB4(h)}}getPointOnQuadraticBezier(h,c,f,g,d,x,b){return{x:x*(h*h)+g*QB2(h)+c*QB3(h),y:b*(h*h)+d*QB2(h)+f*QB3(h)}}getPointOnEllipticalArc(h,c,f,g,d,x){var b=Math.cos(x),E=Math.sin(x),P={x:f*Math.cos(d),y:g*Math.sin(d)};return{x:h+(P.x*b-P.y*E),y:c+(P.x*E+P.y*b)}}buildEquidistantCache(h,c){var f=this.getPathLength(),g=c||.25,d=h||f/100;if(!this.equidistantCache||this.equidistantCache.step!==d||this.equidistantCache.precision!==g){this.equidistantCache={step:d,precision:g,points:[]};for(var x=0,b=0;b<=f;b+=g){var E=this.getPointOnPath(b),P=this.getPointOnPath(b+g);E&&P&&(x+=this.getLineLength(E.x,E.y,P.x,P.y))>=d&&(this.equidistantCache.points.push({x:E.x,y:E.y,distance:b}),x-=d)}}}getEquidistantPointOnPath(h,c,f){if(this.buildEquidistantCache(c,f),h<0||h-this.getPathLength()>5e-5)return null;var g=Math.round(h/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[g]||null}};var Q=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;let ImageElement=class ImageElement extends RenderedElement{constructor(h,c,f){super(h,c,f),this.type="image",this.loaded=!1;var g=this.getHrefAttribute().getString();if(!g)return;var d=g.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(g);h.images.push(this),d?this.loadSvg(g):this.loadImage(g),this.isSvg=d}loadImage(h){var c=this;return g(function*(){try{var f=yield c.document.createImage(h);c.image=f}catch(c){console.error('Error while loading image "'.concat(h,'":'),c)}c.loaded=!0})()}loadSvg(h){var c=this;return g(function*(){var f=Q.exec(h);if(f){var g=f[5];"base64"===f[4]?c.image=atob(g):c.image=decodeURIComponent(g)}else try{var d=yield c.document.fetch(h),x=yield d.text();c.image=x}catch(c){console.error('Error while loading image "'.concat(h,'":'),c)}c.loaded=!0})()}renderChildren(h){var{document:c,image:f,loaded:g}=this,d=this.getAttribute("x").getPixels("x"),x=this.getAttribute("y").getPixels("y"),b=this.getStyle("width").getPixels("x"),E=this.getStyle("height").getPixels("y");if(g&&f&&b&&E){if(h.save(),h.translate(d,x),this.isSvg){var P=c.canvg.forkString(h,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:b,scaleHeight:E});P.document.documentElement.parent=this,P.render()}else{var S=this.image;c.setViewBox({ctx:h,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:b,desiredWidth:S.width,height:E,desiredHeight:S.height}),this.loaded&&(void 0===S.complete||S.complete)&&h.drawImage(S,0,0)}h.restore()}}getBoundingBox(){var h=this.getAttribute("x").getPixels("x"),c=this.getAttribute("y").getPixels("y");return new BoundingBox(h,c,h+this.getStyle("width").getPixels("x"),c+this.getStyle("height").getPixels("y"))}};let SymbolElement=class SymbolElement extends RenderedElement{constructor(){super(...arguments),this.type="symbol"}render(h){}};let SVGFontLoader=class SVGFontLoader{constructor(h){this.document=h,this.loaded=!1,h.fonts.push(this)}load(h,c){var f=this;return g(function*(){try{var{document:g}=f,d=(yield g.canvg.parser.load(c)).getElementsByTagName("font");Array.from(d).forEach(c=>{var f=g.createElement(c);g.definitions[h]=f})}catch(h){console.error('Error while loading font "'.concat(c,'":'),h)}f.loaded=!0})()}};let StyleElement=class StyleElement extends Element{constructor(h,c,f){super(h,c,f),this.type="style",compressSpaces(Array.from(c.childNodes).map(h=>h.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(c=>{var f=c.trim();if(f){var g=f.split("{"),d=g[0].split(","),x=g[1].split(";");d.forEach(c=>{var f=c.trim();if(f){var g=h.styles[f]||{};if(x.forEach(c=>{var f=c.indexOf(":"),d=c.substr(0,f).trim(),x=c.substr(f+1,c.length-f).trim();d&&x&&(g[d]=new Property(h,d,x))}),h.styles[f]=g,h.stylesSpecificity[f]=getSelectorSpecificity(f),"@font-face"===f){var d=g["font-family"].getString().replace(/"|'/g,"");g.src.getString().split(",").forEach(c=>{if(c.indexOf('format("svg")')>0){var f=parseExternalUrl(c);f&&new SVGFontLoader(h).load(d,f)}})}}})}})}};StyleElement.parseExternalUrl=parseExternalUrl;let UseElement=class UseElement extends RenderedElement{constructor(){super(...arguments),this.type="use"}setContext(h){super.setContext(h);var c=this.getAttribute("x"),f=this.getAttribute("y");c.hasValue()&&h.translate(c.getPixels("x"),0),f.hasValue()&&h.translate(0,f.getPixels("y"))}path(h){var{element:c}=this;c&&c.path(h)}renderChildren(h){var{document:c,element:f}=this;if(f){var g=f;if("symbol"===f.type&&((g=new SVGElement(c,null)).attributes.viewBox=new Property(c,"viewBox",f.getAttribute("viewBox").getString()),g.attributes.preserveAspectRatio=new Property(c,"preserveAspectRatio",f.getAttribute("preserveAspectRatio").getString()),g.attributes.overflow=new Property(c,"overflow",f.getAttribute("overflow").getString()),g.children=f.children,f.styles.opacity=new Property(c,"opacity",this.calculateOpacity())),"svg"===g.type){var d=this.getStyle("width",!1,!0),x=this.getStyle("height",!1,!0);d.hasValue()&&(g.attributes.width=new Property(c,"width",d.getString())),x.hasValue()&&(g.attributes.height=new Property(c,"height",x.getString()))}var b=g.parent;g.parent=this,g.render(h),g.parent=b}}getBoundingBox(h){var{element:c}=this;return c?c.getBoundingBox(h):null}elementTransform(){var{document:h,element:c}=this;return Transform.fromElement(h,c)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}};function index_es_c(h,c,f,g){return c+Math.cos(h)*f+Math.sin(h)*g}let FeColorMatrixElement=class FeColorMatrixElement extends Element{constructor(h,c,f){super(h,c,f),this.type="feColorMatrix";var g=toNumbers(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var d=g[0];g=[.213+.787*d,.715-.715*d,.072-.072*d,0,0,.213-.213*d,.715+.285*d,.072-.072*d,0,0,.213-.213*d,.715-.715*d,.072+.928*d,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var x=g[0]*Math.PI/180;g=[index_es_c(x,.213,.787,-.213),index_es_c(x,.715,-.715,-.715),index_es_c(x,.072,-.072,.928),0,0,index_es_c(x,.213,-.213,.143),index_es_c(x,.715,.285,.14),index_es_c(x,.072,-.072,-.283),0,0,index_es_c(x,.213,-.213,-.787),index_es_c(x,.715,-.715,.715),index_es_c(x,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=g,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(h,c,f,g,d){for(var{includeOpacity:x,matrix:b}=this,E=h.getImageData(0,0,g,d),P=0;P<d;P++)for(var S=0;S<g;S++){var w,T,C,A,M,N,_,R,V,k,L,D,B,j,U,z,G,X,Y,W,Q=E.data[P*g*4+4*S+0],q=E.data[P*g*4+4*S+1],$=E.data[P*g*4+4*S+2],Z=E.data[P*g*4+4*S+3],K=b[0]*Q+b[1]*q+b[2]*$+b[3]*Z+1*b[4],J=b[5]*Q+b[6]*q+b[7]*$+b[8]*Z+1*b[9],tt=b[10]*Q+b[11]*q+b[12]*$+b[13]*Z+1*b[14],te=b[15]*Q+b[16]*q+b[17]*$+b[18]*Z+1*b[19];x&&(K=0,J=0,tt=0,te*=Z/255),M=E.data,N=S,_=P,R=K,M[_*g*4+4*N+0]=R,V=E.data,k=S,L=P,D=J,V[L*g*4+4*k+1]=D,B=E.data,j=S,U=P,z=tt,B[U*g*4+4*j+2]=z,G=E.data,X=S,Y=P,W=te,G[Y*g*4+4*X+3]=W}h.clearRect(0,0,g,d),h.putImageData(E,0,0)}};let MaskElement=class MaskElement extends Element{constructor(){super(...arguments),this.type="mask"}apply(h,c){var{document:f}=this,g=this.getAttribute("x").getPixels("x"),d=this.getAttribute("y").getPixels("y"),x=this.getStyle("width").getPixels("x"),b=this.getStyle("height").getPixels("y");if(!x&&!b){var E=new BoundingBox;this.children.forEach(c=>{E.addBoundingBox(c.getBoundingBox(h))}),g=Math.floor(E.x1),d=Math.floor(E.y1),x=Math.floor(E.width),b=Math.floor(E.height)}var P=this.removeStyles(c,MaskElement.ignoreStyles),S=f.createCanvas(g+x,d+b),w=S.getContext("2d");f.screen.setDefaults(w),this.renderChildren(w),new FeColorMatrixElement(f,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(w,0,0,g+x,d+b);var T=f.createCanvas(g+x,d+b),C=T.getContext("2d");f.screen.setDefaults(C),c.render(C),C.globalCompositeOperation="destination-in",C.fillStyle=w.createPattern(S,"no-repeat"),C.fillRect(0,0,g+x,d+b),h.fillStyle=C.createPattern(T,"no-repeat"),h.fillRect(0,0,g+x,d+b),this.restoreStyles(c,P)}render(h){}};MaskElement.ignoreStyles=["mask","transform","clip-path"];var noop=()=>{};let ClipPathElement=class ClipPathElement extends Element{constructor(){super(...arguments),this.type="clipPath"}apply(h){var{document:c}=this,f=Reflect.getPrototypeOf(h),{beginPath:g,closePath:d}=h;f&&(f.beginPath=noop,f.closePath=noop),Reflect.apply(g,h,[]),this.children.forEach(g=>{if(void 0!==g.path){var x=void 0!==g.elementTransform?g.elementTransform():null;x||(x=Transform.fromElement(c,g)),x&&x.apply(h),g.path(h),f&&(f.closePath=d),x&&x.unapply(h)}}),Reflect.apply(d,h,[]),h.clip(),f&&(f.beginPath=g,f.closePath=d)}render(h){}};let FilterElement=class FilterElement extends Element{constructor(){super(...arguments),this.type="filter"}apply(h,c){var{document:f,children:g}=this,d=c.getBoundingBox(h);if(d){var x=0,b=0;g.forEach(h=>{var c=h.extraFilterDistance||0;x=Math.max(x,c),b=Math.max(b,c)});var E=Math.floor(d.width),P=Math.floor(d.height),S=E+2*x,w=P+2*b;if(!(S<1)&&!(w<1)){var T=Math.floor(d.x),C=Math.floor(d.y),A=this.removeStyles(c,FilterElement.ignoreStyles),M=f.createCanvas(S,w),N=M.getContext("2d");f.screen.setDefaults(N),N.translate(-T+x,-C+b),c.render(N),g.forEach(h=>{"function"==typeof h.apply&&h.apply(N,0,0,S,w)}),h.drawImage(M,0,0,S,w,T-x,C-b,S,w),this.restoreStyles(c,A)}}}render(h){}};FilterElement.ignoreStyles=["filter","transform","clip-path"];let FeDropShadowElement=class FeDropShadowElement extends Element{constructor(h,c,f){super(h,c,f),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(h,c,f,g,d){}};let FeMorphologyElement=class FeMorphologyElement extends Element{constructor(){super(...arguments),this.type="feMorphology"}apply(h,c,f,g,d){}};let FeCompositeElement=class FeCompositeElement extends Element{constructor(){super(...arguments),this.type="feComposite"}apply(h,c,f,g,d){}};let FeGaussianBlurElement=class FeGaussianBlurElement extends Element{constructor(h,c,f){super(h,c,f),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(h,c,f,g,d){var{document:x,blurRadius:b}=this,E=x.window?x.window.document.body:null,P=h.canvas;P.id=x.getUniqueId(),E&&(P.style.display="none",E.appendChild(P)),(0,N.canvasRGBA)(P,c,f,g,d,b),E&&E.removeChild(P)}};let TitleElement=class TitleElement extends Element{constructor(){super(...arguments),this.type="title"}};let DescElement=class DescElement extends Element{constructor(){super(...arguments),this.type="desc"}};function ownKeys$1(h,c){var f=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);c&&(g=g.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),f.push.apply(f,g)}return f}function _objectSpread$1(h){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?ownKeys$1(Object(f),!0).forEach(function(c){d(h,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(f)):ownKeys$1(Object(f)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(f,c))})}return h}function createCanvas(h,c){var f=document.createElement("canvas");return f.width=h,f.height=c,f}function createImage(h){return _createImage.apply(this,arguments)}function _createImage(){return(_createImage=g(function*(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=document.createElement("img");return c&&(f.crossOrigin="Anonymous"),new Promise((c,g)=>{f.onload=()=>{c(f)},f.onerror=(h,c,f,d,x)=>{g(x)},f.src=h})})).apply(this,arguments)}let Document=class Document{constructor(h){var{rootEmSize:c=12,emSize:f=12,createCanvas:g=Document.createCanvas,createImage:d=Document.createImage,anonymousCrossOrigin:x}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=h,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=h.screen,this.rootEmSize=c,this.emSize=f,this.createCanvas=g,this.createImage=this.bindCreateImage(d,x),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(h,c){return"boolean"==typeof c?(f,g)=>h(f,"boolean"==typeof g?g:c):h}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:h}=this;return h[h.length-1]}set emSize(h){var{emSizeStack:c}=this;c.push(h)}popEmSize(){var{emSizeStack:h}=this;h.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(h=>h.loaded)}isFontsLoaded(){return this.fonts.every(h=>h.loaded)}createDocumentElement(h){var c=this.createElement(h.documentElement);return c.root=!0,c.addStylesFromStyleDefinition(),this.documentElement=c,c}createElement(h){var c=h.nodeName.replace(/^[^:]+:/,""),f=Document.elementTypes[c];return void 0!==f?new f(this,h):new UnknownElement(this,h)}createTextNode(h){return new TextNode(this,h)}setViewBox(h){this.screen.setViewBox(_objectSpread$1({document:this},h))}};function ownKeys(h,c){var f=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);c&&(g=g.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),f.push.apply(f,g)}return f}function _objectSpread(h){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?ownKeys(Object(f),!0).forEach(function(c){d(h,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(f)):ownKeys(Object(f)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(f,c))})}return h}Document.createCanvas=createCanvas,Document.createImage=createImage,Document.elementTypes={svg:SVGElement,rect:RectElement,circle:CircleElement,ellipse:EllipseElement,line:LineElement,polyline:PolylineElement,polygon:PolygonElement,path:PathElement,pattern:PatternElement,marker:MarkerElement,defs:DefsElement,linearGradient:LinearGradientElement,radialGradient:RadialGradientElement,stop:StopElement,animate:AnimateElement,animateColor:AnimateColorElement,animateTransform:AnimateTransformElement,font:FontElement,"font-face":FontFaceElement,"missing-glyph":MissingGlyphElement,glyph:GlyphElement,text:TextElement,tspan:TSpanElement,tref:TRefElement,a:AElement,textPath:TextPathElement,image:ImageElement,g:GElement,symbol:SymbolElement,style:StyleElement,use:UseElement,mask:MaskElement,clipPath:ClipPathElement,filter:FilterElement,feDropShadow:FeDropShadowElement,feMorphology:FeMorphologyElement,feComposite:FeCompositeElement,feColorMatrix:FeColorMatrixElement,feGaussianBlur:FeGaussianBlurElement,title:TitleElement,desc:DescElement};let Canvg=class Canvg{constructor(h,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new Parser(f),this.screen=new Screen(h,f),this.options=f;var g=new Document(this,f),d=g.createDocumentElement(c);this.document=g,this.documentElement=d}static from(h,c){var f=arguments;return g(function*(){var g=f.length>2&&void 0!==f[2]?f[2]:{},d=new Parser(g);return new Canvg(h,(yield d.parse(c)),g)})()}static fromString(h,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Canvg(h,new Parser(f).parseFromString(c),f)}fork(h,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Canvg.from(h,c,_objectSpread(_objectSpread({},this.options),f))}forkString(h,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Canvg.fromString(h,c,_objectSpread(_objectSpread({},this.options),f))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var h=arguments,c=this;return g(function*(){var f=h.length>0&&void 0!==h[0]?h[0]:{};c.start(_objectSpread({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},f)),yield c.ready(),c.stop()})()}start(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:c,screen:f,options:g}=this;f.start(c,_objectSpread(_objectSpread({enableRedraw:!0},g),h))}stop(){this.screen.stop()}resize(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(h,c,f)}}}};