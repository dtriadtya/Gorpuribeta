(()=>{var e={};e.id=3,e.ids=[3],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},52592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>m,routeModule:()=>g,tree:()=>c});var r=a(67096),n=a(16132),s=a(37284),l=a.n(s),i=a(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,13729)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,29925)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\admin\\page.tsx"],d="/admin/page",u={require:a,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},47123:(e,t,a)=>{Promise.resolve().then(a.bind(a,93685))},93685:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>AdminDashboard});var r=a(30784),n=a(9885),s=a(57114),l=a(11635),i=a(81384),o=a(15441);function DashboardOverview({bookingsToday:e,activeFields:t,reservations:a=[]}){let[s,l]=(0,n.useState)(new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\./g,":"));(0,n.useEffect)(()=>{let e=setInterval(()=>{let e=new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\./g,":");l(e)},1e3);return()=>clearInterval(e)},[]);let i=new Date;return i.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\./g,"/"),o.Z,null}var c=a(517),m=a(91672),d=a(43917),u=a(28626),g=a(12039),p=a(19300);let BookingTabs_getLocalDateString=(e=new Date)=>{let t=new Date(e.getTime()+252e5);return t.toISOString().split("T")[0]};function BookingTabs({fields:e,bookings:t,reservations:a}){let[s,l]=(0,n.useState)("latest"),[i,x]=(0,n.useState)(t),[h,b]=(0,n.useState)(null),[f,y]=(0,n.useState)(!1),[v,N]=(0,n.useState)([]),[_,j]=(0,n.useState)("");(0,n.useEffect)(()=>{let t=e.find(e=>e.isActive);t&&!_&&j(t.name)},[e,_]);let w=[...t].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),D=(0,n.useRef)(w.length>0?w[0].id:null),k=(0,n.useRef)(0),T=(0,n.useRef)(!1),S=(0,n.useRef)(null),P=(0,n.useRef)(null);(0,n.useEffect)(()=>{P.current=new Audio("/sounds/notification.wav"),P.current.loop=!1},[]);let playNotificationSound=()=>{P.current&&(P.current.currentTime=0,P.current.play().catch(e=>console.warn("Gagal memutar suara:",e)))},startRepeatingSound=()=>{S.current||(playNotificationSound(),S.current=setInterval(()=>{playNotificationSound()},2500))},stopRepeatingSound=()=>{S.current&&(clearInterval(S.current),S.current=null),P.current&&(P.current.pause(),P.current.currentTime=0)},I=(0,n.useCallback)(async()=>{try{let e=localStorage.getItem("token"),t={};e&&(t.Authorization=`Bearer ${e}`);let a=await fetch("/api/admin/reservations",{cache:"no-store",headers:t});if(!a.ok)throw Error("Gagal mengambil data booking");let r=await a.json(),n=(r.reservations||[]).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),s=n.map(e=>({...e,payment_type:e.payment_type||"FULL",payment_amount:"number"!=typeof e.payment_amount||isNaN(e.payment_amount)?e.total_price:e.payment_amount,payment_validated_by:e.payment_validated_by??null,payment_validated_at:e.payment_validated_at??null,payment_validated_admin:e.payment_validated_admin??null})),l=s.slice(0,5);if(D.current){let e=l.findIndex(e=>e.id===D.current),t=0;e>0?t=e:-1===e&&l.length>0&&(t=l.length),t>0&&(k.current+=t,startRepeatingSound(),T.current?p.Z.update({text:`Ada ${k.current} pesanan masuk.`}):(T.current=!0,p.Z.fire({title:"Pesanan Baru!",text:`Ada ${k.current} pesanan masuk.`,icon:"info",confirmButtonColor:"#16a34a",confirmButtonText:"OK",allowOutsideClick:!1,willClose:()=>{T.current=!1,k.current=0,stopRepeatingSound()}})))}l.length>0&&(D.current=l[0].id,localStorage.setItem("lastBookingId",l[0].id.toString())),x(l)}catch(e){console.error("Error fetching bookings:",e)}},[]);(0,n.useEffect)(()=>{I();let e=setInterval(I,5e3);return()=>{clearInterval(e),stopRepeatingSound()}},[I]),(0,n.useEffect)(()=>{let fetchMembers=async()=>{try{let e=localStorage.getItem("token"),t={};e&&(t.Authorization=`Bearer ${e}`);let a=await fetch("/api/admin/members",{headers:t});if(a.ok){let e=await a.json();N(e.members||[])}}catch(e){console.error("Gagal memuat data member:",e)}};fetchMembers();let e=setInterval(fetchMembers,3e4);return()=>clearInterval(e)},[]);let getPaymentStatusInfo=(e,t)=>{switch(e){case"PENDING":return{label:"Menunggu",color:"bg-yellow-100 text-yellow-800"};case"FULL_SENT":return{label:"Bukti Lunas Terkirim",color:"bg-blue-100 text-blue-800"};case"FULL_REJECTED":return{label:"Ditolak Admin",color:"bg-red-100 text-red-800"};case"DP_SENT":return{label:"DP Terkirim",color:"bg-blue-100 text-blue-800"};case"DP_PAID":return{label:"DP Terbayar",color:"bg-blue-200 text-blue-900"};case"DP_REJECTED":return{label:"DP Ditolak",color:"bg-red-100 text-red-800"};case"PELUNASAN_SENT":return{label:"Pelunasan Terkirim",color:"bg-purple-100 text-purple-800"};case"PELUNASAN_PAID":return{label:"Pelunasan Terbayar",color:"bg-purple-200 text-purple-900"};case"PELUNASAN_REJECTED":return{label:"Pelunasan Ditolak",color:"bg-red-100 text-red-800"};case"PAID":return{label:"Lunas",color:"bg-green-100 text-green-800"};case"REFUNDED":return{label:"Dikembalikan",color:"bg-red-100 text-red-800"};default:return{label:e,color:"bg-gray-100 text-gray-800"}}},formatDate=e=>{let t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getFullYear()).slice(-2)}`},formatCurrency=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),handleViewDetail=e=>{b(e),y(!0)},handlePaymentStatusUpdate=async(e,t,a)=>{try{let r=localStorage.getItem("token"),n=await fetch(`/api/reservations/${e}/payment`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({paymentStatus:t,adminNotes:a})});if(!n.ok){let e=await n.json();p.Z.fire({icon:"error",title:"Gagal",text:e.error||"Gagal memperbarui status pembayaran",confirmButtonColor:"#16a34a"});return}await I(),p.Z.fire({icon:"success",title:"Berhasil!",text:"Status pembayaran berhasil diperbarui",confirmButtonColor:"#16a34a"})}catch(e){console.error("Error updating payment status:",e),p.Z.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat memperbarui status pembayaran",confirmButtonColor:"#16a34a"})}},E=BookingTabs_getLocalDateString(),C=new Date().toLocaleDateString("en-US",{weekday:"long"}).toUpperCase();console.log("=== TODAY PLAYERS DEBUG ==="),console.log("Today String:",E),console.log("Day of Week:",C),console.log("Total Reservations:",a.length),console.log("Total Members:",v.length);let A=a.filter(e=>{let t=BookingTabs_getLocalDateString(new Date(e.reservation_date)),a="PAID"===e.payment_status,r="COMPLETED"===e.status,n=t===E&&(a||r);return n&&console.log("Today Player Found:",{name:e.user?.name,field_name:e.field_name,date:t,status:e.status,payment_status:e.payment_status}),n});console.log("Filtered Today Players:",A.length);let L=v.filter(e=>e.dayOfWeek===C&&e.isActive);console.log("Filtered Today Members:",L.length),console.log("Today Members Data:",L),L.forEach(e=>{console.log("Member:",{name:e.name,fieldName:e.fieldName,contactName:e.contactName,startTime:e.startTime,endTime:e.endTime})});let M=[...A.map(e=>({type:"booking",name:e.user?.name||"Tanpa Nama",contact:e.user?.phone||e.user?.email||"-",field:e.field_name,startTime:e.start_time,endTime:e.end_time,data:e})),...L.map(e=>({type:"member",name:e.name,contact:e.contactName,field:e.field?.name||e.fieldName||"Lapangan Tidak Diketahui",startTime:e.startTime,endTime:e.endTime,data:e}))].sort((e,t)=>{let a=e.startTime.split(":").map(Number),r=t.startTime.split(":").map(Number),n=60*a[0]+a[1],s=60*r[0]+r[1],l=new Date,i=60*l.getHours()+l.getMinutes(),o=e.endTime.split(":").map(Number),c=t.endTime.split(":").map(Number),m=60*o[0]+o[1],d=60*c[0]+c[1],u=i>=m,g=i>=d;return u&&!g?1:!u&&g?-1:n-s});console.log("Combined Today Players:",M),console.log("Combined Players Fields:",M.map(e=>e.field));let B=e.filter(e=>e.isActive).map(e=>e.name).sort();console.log("All Active Fields:",B);let F="all"===_?M:M.filter(e=>e.field===_),getTimeInMinutes=e=>{let[t,a]=e.split(":").map(Number);return 60*t+a},U=new Date,$=60*U.getHours()+U.getMinutes(),getCardBackgroundClass=e=>{let t=getTimeInMinutes(e.startTime),a=getTimeInMinutes(e.endTime);return $>=a?"bg-gray-100 border-gray-300 opacity-75":$>=t&&$<a?"bg-green-50 border-green-200":"bg-white border-gray-200"},R=a.filter(e=>{let t=BookingTabs_getLocalDateString(new Date(e.reservation_date)),a="PAID"===e.payment_status,r=["CANCELLED","REJECTED","DP_REJECTED"].includes(e.status);return t===E&&!a&&!r}).sort((e,t)=>{let a=e.start_time.split(":").map(Number),r=t.start_time.split(":").map(Number);return 60*a[0]+a[1]-(60*r[0]+r[1])}),Z=[{id:"latest",label:"Booking Terbaru",icon:c.Z,count:i.length},{id:"today",label:"Pemain Hari Ini",icon:m.Z,count:M.length},{id:"unpaid",label:"Belum Lunas",icon:d.Z,count:R.length}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 relative overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 pb-0",children:r.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:Z.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{onClick:()=>l(e.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap rounded-t-lg transition-all ${s===e.id?"bg-white text-blue-600 shadow-md border-t border-x border-gray-200 -mb-px z-10":"bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:[r.jsx(t,{className:"w-4 h-4"}),e.label,e.count>0&&r.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${s===e.id?"bg-blue-100 text-blue-800":"bg-gray-200 text-gray-700"}`,children:e.count})]},e.id)})})}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 border-t border-gray-200",children:["latest"===s&&r.jsx(r.Fragment,{children:0===i.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(c.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Belum ada booking"})]}):r.jsx("div",{className:"flex flex-col gap-4",children:i.map(e=>(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 sm:p-5 shadow-sm flex flex-col sm:flex-row sm:items-center gap-4 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.user.name}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.field_name})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center text-sm text-gray-700 min-w-[140px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(c.Z,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:formatDate(e.reservation_date)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[r.jsx(o.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("span",{children:[e.start_time," – ",e.end_time]})]})]}),r.jsx("div",{className:"flex items-center justify-center min-w-[100px]",children:r.jsx("span",{className:`inline-flex items-center justify-center px-3 py-1 rounded-full text-xs font-medium ${getPaymentStatusInfo(e.payment_status||"PENDING",e.payment_type||"FULL").color}`,children:getPaymentStatusInfo(e.payment_status||"PENDING",e.payment_type||"FULL").label})}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:()=>handleViewDetail(e),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Lihat Detail",children:r.jsx(u.Z,{className:"w-5 h-5"})})})]},e.id))})}),"today"===s&&(0,r.jsxs)(r.Fragment,{children:[B.length>0&&r.jsx("div",{className:"mb-4 border-b border-gray-200",children:r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:B.map(e=>{let t=M.filter(t=>t.field===e).length;return(0,r.jsxs)("button",{onClick:()=>j(e),className:`px-4 py-2 text-sm font-medium whitespace-nowrap rounded-t-lg transition-all ${_===e?"bg-blue-50 text-blue-700 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e,r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-gray-200 text-gray-700",children:t})]},e)})})}),0===F.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(m.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"all"===_?"Belum ada pemain hari ini":`Belum ada pemain di ${_} hari ini`})]}):r.jsx("div",{className:`flex flex-col gap-4 ${F.length>5?"max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent":""}`,children:F.map((e,t)=>(0,r.jsxs)("div",{className:`${getCardBackgroundClass(e)} border rounded-xl p-4 sm:p-5 shadow-sm flex flex-col sm:flex-row sm:items-center gap-4 transition-all duration-300`,children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.name}),"member"===e.type&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-amber-100 text-amber-800 rounded-full",children:"Member"}),"booking"===e.type&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-blue-100 text-blue-800 rounded-full",children:"User"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.contact})]}),r.jsx("div",{className:"flex flex-col items-center text-sm text-gray-700 min-w-[140px]",children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(o.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("span",{children:[e.startTime," – ",e.endTime]})]})})]},`${e.type}-${t}`))})]}),"unpaid"===s&&r.jsx(r.Fragment,{children:0===R.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(d.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Tidak ada booking yang belum lunas hari ini"})]}):r.jsx("div",{className:`flex flex-col gap-4 ${R.length>5?"max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent":""}`,children:R.map(e=>(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 sm:p-5 shadow-sm flex flex-col sm:flex-row sm:items-center gap-4 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.user?.name||"Tanpa Nama"}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.field_name||"Tidak Diketahui"}),e.user?.phone&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.user.phone})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center text-sm text-gray-700 min-w-[140px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(c.Z,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:formatDate(e.reservation_date)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[r.jsx(o.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("span",{children:[e.start_time," – ",e.end_time]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center min-w-[120px]",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Total"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:formatCurrency(e.total_price)})]}),r.jsx("div",{className:"flex items-center justify-center min-w-[140px]",children:r.jsx("span",{className:`inline-flex items-center justify-center px-3 py-1 rounded-full text-xs font-medium ${getPaymentStatusInfo(e.payment_status||"PENDING",e.payment_type||"FULL").color}`,children:getPaymentStatusInfo(e.payment_status||"PENDING",e.payment_type||"FULL").label})})]},e.id))})})]})]}),h&&r.jsx(g.Z,{reservation:h,isOpen:f,onClose:()=>{y(!1),b(null)},onPaymentStatusUpdate:handlePaymentStatusUpdate})]})}function AdminDashboard(){let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),[g,p]=(0,n.useState)(!1),x=(0,s.useRouter)();(0,n.useEffect)(()=>{let checkAuthAndFetchData=async()=>{let e=sessionStorage.getItem("justLoggedIn");e&&(sessionStorage.removeItem("justLoggedIn"),await new Promise(e=>setTimeout(e,100)));let a=localStorage.getItem("token"),r=localStorage.getItem("user");if(console.log("\uD83D\uDD10 Admin: Checking auth...",{token:!!a,userData:!!r}),!a||!r){console.log("❌ Admin: No auth data, redirecting to login"),x.replace("/login");return}try{let e=JSON.parse(r);if(console.log("\uD83D\uDC64 Admin: User role:",e.role),"ADMIN"!==e.role){console.log("\uD83D\uDEAB Admin: Not admin, redirecting to dashboard"),x.replace("/dashboard");return}console.log("✅ Admin: Auth successful"),t(e),u(!1),await fetchData();let a=setInterval(()=>{fetchData()},5e3);return()=>clearInterval(a)}catch(e){console.error("❌ Admin: Error parsing user data:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),x.replace("/login")}};checkAuthAndFetchData()},[x]);let fetchData=async()=>{try{let e=localStorage.getItem("token"),t={};e&&(t.Authorization=`Bearer ${e}`);let[a,r]=await Promise.all([fetch("/api/v1/fields"),fetch("/api/admin/reservations",{headers:t})]);if(a.ok){let e=await a.json();o(e.fields||[])}if(r.ok){let e=await r.json();m(e.reservations||[])}else 401===r.status&&(console.log("❌ Unauthorized - redirecting to login"),x.replace("/login"))}catch(e){console.error("Error fetching data:",e)}finally{u(!1)}};if(d)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Memuat data..."})]})});if(!e)return null;let h=c.length>0?new Set(c.map(e=>e.user_id)).size:0,b=c.reduce((e,t)=>e+t.total_price,0),f=c.filter(e=>{let t=new Date(e.reservation_date).toDateString(),a=new Date().toDateString();return t===a}),y=a.filter(e=>e.isActive).length,calculatePercentageChange=(e,t)=>0===t?e>0?100:0:Math.round((e-t)/t*100),v=Math.max(1,Math.floor(.9*h)),N=Math.max(1,Math.floor(.9*f.length)),_=Math.max(1,Math.floor(.85*b)),j=Math.max(1,Math.floor(1.02*y)),w=calculatePercentageChange(h,v),D=calculatePercentageChange(f.length,N),k=calculatePercentageChange(b,_),T=calculatePercentageChange(y,j);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(l.Z,{isOpen:g,setIsOpen:p}),(0,r.jsxs)("div",{className:"lg:ml-64",children:[r.jsx(i.Z,{title:"Dashboard Admin",onMenuClick:()=>p(!0)}),(0,r.jsxs)("div",{className:"px-6 pt-0.5 pb-4",children:[r.jsx(DashboardOverview,{bookingsToday:f.length,totalRevenue:b,activeFields:y,usersChange:w,bookingsChange:D,revenueChange:k,fieldsChange:T,reservations:c}),r.jsx("div",{className:"mt-6 lg:mt-8",children:r.jsx(BookingTabs,{fields:a,bookings:c.slice(0,5).map(e=>({...e,user:e.user||{id:0,name:"Unknown",email:"",phone:""},field:{id:e.field_id,name:e.field_name,location:e.location},payment_type:e.payment_type||"FULL",payment_amount:e.total_price,payment_validated_by:null,payment_validated_at:null,payment_validated_admin:null})),reservations:c.map(e=>({...e,user:e.user||{id:0,name:"Unknown",email:"",phone:""},field:{id:e.field_id,name:e.field_name,location:e.location},payment_type:e.payment_type||"FULL",payment_amount:e.total_price,payment_validated_by:null,payment_validated_at:null,payment_validated_admin:null}))})})]})]})]})}},13729:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>s,default:()=>o});var r=a(95153);let n=(0,r.createProxy)(String.raw`C:\Projects\backup 07-11-2025 4.11\gorpuribeta-main\app\admin\page.tsx`),{__esModule:s,$$typeof:l}=n,i=n.default,o=i}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[2006,2246,7756,4658,609,6897,8147,2039],()=>__webpack_exec__(52592));module.exports=a})();