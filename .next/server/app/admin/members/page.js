(()=>{var e={};e.id=5073,e.ids=[5073],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},77780:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o});var s=a(67096),r=a(16132),l=a(37284),n=a.n(l),i=a(32564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let o=["",{children:["admin",{children:["members",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,72323)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\admin\\members\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,29925)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\admin\\members\\page.tsx"],m="/admin/members/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/members/page",pathname:"/admin/members",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9170:(e,t,a)=>{Promise.resolve().then(a.bind(a,81223))},81223:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>AdminMembersPage});var s=a(30784),r=a(9885),l=a(57114),n=a(11635),i=a(81384),d=a(34253),o=a(22385),c=a(20644),m=a(34010),u=a(26303),x=a(517),h=a(15441),g=a(19300);let p={MONDAY:"Senin",TUESDAY:"Selasa",WEDNESDAY:"Rabu",THURSDAY:"Kamis",FRIDAY:"Jumat",SATURDAY:"Sabtu",SUNDAY:"Minggu"};function AdminMembersPage(){let[e,t]=(0,r.useState)([]),[a,b]=(0,r.useState)([]),[y,f]=(0,r.useState)(!0),[j,w]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1),[k,M]=(0,r.useState)(!1),[T,B]=(0,r.useState)(!1),[E,S]=(0,r.useState)(!1),[D,I]=(0,r.useState)(null),[C,_]=(0,r.useState)(null),[L,R]=(0,r.useState)(null);(0,l.useRouter)();let[A,P]=(0,r.useState)({name:"",contactName:"",fieldId:"",packageType:"MEMBER_1",startDate:new Date().toISOString().split("T")[0]}),[O,W]=(0,r.useState)([{dayOfWeek:"",startTime:"",endTime:""}]),[$,Z]=(0,r.useState)({dayOfWeek:"",startTime:"",endTime:""}),[U,Y]=(0,r.useState)({packageType:"MEMBER_1"});(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t){window.location.replace("/login");return}try{let e=JSON.parse(t);if("ADMIN"!==e.role){window.location.replace("/dashboard");return}fetchMembers(),fetchFields()}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.replace("/login")}},[]);let fetchMembers=async()=>{try{let e=localStorage.getItem("token"),a={"Content-Type":"application/json"};e&&(a.Authorization=`Bearer ${e}`);let s=await fetch("/api/admin/members",{headers:a});if(401===s.status){console.log("âŒ Unauthorized - redirecting to login"),window.location.replace("/login");return}if(s.ok){let e=await s.json();t(e.members||[])}}catch(e){console.error("Error fetching members:",e)}finally{f(!1)}},fetchFields=async()=>{try{let e=await fetch("/api/v1/fields");if(e.ok){let t=await e.json();b(t.fields||[])}}catch(e){console.error("Error fetching fields:",e)}},handleSubmit=async e=>{e.preventDefault(),console.log("FormData:",A),console.log("Selected Schedules:",O);let t=[];if(A.name||t.push("Member Name"),A.contactName||t.push("Contact Person"),A.fieldId||t.push("Field"),!D){let e=O.some(e=>!e.dayOfWeek||!e.startTime||!e.endTime);e&&t.push("Complete all schedule fields (Day, Start Time, End Time)")}if(t.length>0){g.Z.fire({icon:"warning",title:"Data Tidak Lengkap",html:`Field yang belum diisi:<br/><strong>${t.join("<br/>")}</strong>`,confirmButtonColor:"#2563eb"});return}let a=D?`/api/admin/members/${D.id}`:"/api/admin/members",s=D?{name:A.name,contactName:A.contactName,fieldId:parseInt(A.fieldId),packageType:A.packageType,startDate:A.startDate}:{name:A.name,contactName:A.contactName,fieldId:parseInt(A.fieldId),schedules:O,packageType:A.packageType,startDate:A.startDate};console.log("Sending payload:",s);try{let e=localStorage.getItem("token"),t={"Content-Type":"application/json"};e&&(t.Authorization=`Bearer ${e}`);let r=await fetch(a,{method:D?"PUT":"POST",headers:t,body:JSON.stringify(s)}),l=await r.json();r.ok?(g.Z.fire({icon:"success",title:D?"Member Diperbarui!":"Member Ditambahkan!",showConfirmButton:!1,timer:1500}),v(!1),resetForm(),fetchMembers()):409===r.status?g.Z.fire({icon:"error",title:"Jadwal Bentrok!",html:l.message||l.error||"Jadwal bentrok dengan member lain",confirmButtonColor:"#dc2626"}):g.Z.fire({icon:"error",title:"Gagal",text:l.error||"Terjadi kesalahan"})}catch(e){g.Z.fire({icon:"error",title:"Gagal",text:"Gagal menyimpan member"})}},handleEdit=e=>{I(e),P({name:e.name,contactName:e.contactName,fieldId:e.fieldId.toString(),packageType:e.packageType||"MEMBER_1",startDate:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}),W([{dayOfWeek:"",startTime:"",endTime:""}]),v(!0)},resetForm=()=>{P({name:"",contactName:"",fieldId:"",packageType:"MEMBER_1",startDate:new Date().toISOString().split("T")[0]}),W([{dayOfWeek:"",startTime:"",endTime:""}]),I(null)},resetScheduleForm=()=>{Z({dayOfWeek:"",startTime:"",endTime:""}),_(null)},handleExtendMember=e=>{R(e),Y({packageType:"MEMBER_1"}),S(!0)},handleSubmitExtend=async e=>{if(e.preventDefault(),L)try{let e=new Date(L.endDate),t="MEMBER_PLUS"===U.packageType?12:parseInt(U.packageType.split("_")[1]),a=new Date(e);a.setMonth(a.getMonth()+t);let s=localStorage.getItem("token"),r={"Content-Type":"application/json"};s&&(r.Authorization=`Bearer ${s}`);let l=L.schedules.map(e=>fetch(`/api/admin/members/${e.id}`,{method:"PUT",headers:r,body:JSON.stringify({name:L.name,contactName:L.contactName,fieldId:L.fieldId,packageType:U.packageType,endDate:a.toISOString().split("T")[0]})})),n=await Promise.all(l),i=n.every(e=>e.ok);if(i)g.Z.fire({icon:"success",title:"Member Diperpanjang!",html:`Member <strong>${L.name}</strong> berhasil diperpanjang<br/>
                 <small>Berakhir pada: ${a.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}</small>`,showConfirmButton:!1,timer:2e3}),S(!1),R(null),fetchMembers();else throw Error("Some updates failed")}catch(e){g.Z.fire({icon:"error",title:"Gagal",text:"Gagal memperpanjang member"})}},handleAddSchedule=e=>{_(e),Z({dayOfWeek:"",startTime:"",endTime:""}),M(!0)},handleSubmitSchedule=async e=>{if(e.preventDefault(),!C)return;let t=[];if($.dayOfWeek||t.push("Day"),$.startTime||t.push("Start Time"),$.endTime||t.push("End Time"),t.length>0){g.Z.fire({icon:"warning",title:"Data Tidak Lengkap",html:`Field yang hilang:<br/><strong>${t.join("<br/>")}</strong>`,confirmButtonColor:"#2563eb"});return}let a={name:C.name,contactName:C.contactName,fieldId:C.fieldId,dayOfWeek:$.dayOfWeek,startTime:$.startTime,endTime:$.endTime,packageType:C.packageType||"MONTHLY_1",startDate:C.startDate?new Date(C.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]};try{let e=localStorage.getItem("token"),t={"Content-Type":"application/json"};e&&(t.Authorization=`Bearer ${e}`);let s=await fetch("/api/admin/members",{method:"POST",headers:t,body:JSON.stringify(a)}),r=await s.json();s.ok?(g.Z.fire({icon:"success",title:"Jadwal Ditambahkan!",text:`Jadwal baru untuk ${C.name} telah dibuat`,showConfirmButton:!1,timer:1500}),M(!1),resetScheduleForm(),fetchMembers()):409===s.status?g.Z.fire({icon:"error",title:"Jadwal Bentrok!",html:r.message||r.error||"Jadwal bentrok dengan member lain di lapangan yang sama",confirmButtonColor:"#dc2626"}):g.Z.fire({icon:"error",title:"Gagal",text:r.error||"Terjadi kesalahan"})}catch(e){g.Z.fire({icon:"error",title:"Gagal",text:"Gagal menambahkan jadwal"})}},J=e.reduce((e,t)=>{let a=`${t.name}-${t.contactName}-${t.fieldId}`;return e[a]||(e[a]={name:t.name,contactName:t.contactName,fieldId:t.fieldId,field:t.field,isActive:t.isActive,packageType:t.packageType,startDate:t.startDate,endDate:t.endDate,schedules:[]}),e[a].schedules.push({id:t.id,dayOfWeek:t.dayOfWeek,startTime:t.startTime,endTime:t.endTime,createdAt:t.createdAt}),e},{}),z=Object.values(J);return y?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(n.Z,{isOpen:j,setIsOpen:w}),(0,s.jsxs)("div",{className:"lg:ml-64",children:[s.jsx(i.Z,{title:"Member Reguler",onMenuClick:()=>w(!0)}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"List Member"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(d.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Lihat Info Jadwal"})]}),(0,s.jsxs)("button",{onClick:()=>{resetForm(),v(!0)},className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(o.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Tambah Member"})]})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"20%"},children:"Nama Member"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Lapangan"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Paket"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"20%"},children:"Periode"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Kontak"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"15%"},children:"Aksi"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.schedules.length>1&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.schedules.length," jadwal"]})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("div",{className:"text-sm text-gray-900",children:e.field.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${"MEMBER_PLUS"===e.packageType?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:"MEMBER_PLUS"===e.packageType?"Member+":"Member Reguler"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,s.jsxs)("div",{className:"text-xs text-gray-900",children:[e.startDate&&s.jsx("div",{children:new Date(e.startDate).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),e.endDate&&s.jsx("div",{className:"text-red-600",children:new Date(e.endDate).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("div",{className:"text-sm text-gray-900",children:e.contactName})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>handleExtendMember(e),className:"text-green-600 hover:text-green-900",title:"Perpanjang member",children:s.jsx(c.Z,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>handleAddSchedule({id:e.schedules[0].id,name:e.name,contactName:e.contactName,fieldId:e.fieldId,dayOfWeek:e.schedules[0].dayOfWeek,startTime:e.schedules[0].startTime,endTime:e.schedules[0].endTime,isActive:e.isActive,createdAt:e.schedules[0].createdAt,field:e.field,packageType:e.packageType||"MONTHLY_1",startDate:e.startDate||new Date().toISOString(),endDate:e.endDate||new Date().toISOString()}),className:"text-purple-600 hover:text-purple-900",title:"Tambah jadwal",children:s.jsx(o.Z,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>handleEdit({id:e.schedules[0].id,name:e.name,contactName:e.contactName,fieldId:e.fieldId,dayOfWeek:e.schedules[0].dayOfWeek,startTime:e.schedules[0].startTime,endTime:e.schedules[0].endTime,isActive:e.isActive,createdAt:e.schedules[0].createdAt,field:e.field,packageType:e.packageType||"MONTHLY_1",startDate:e.startDate||new Date().toISOString(),endDate:e.endDate||new Date().toISOString()}),className:"text-blue-600 hover:text-blue-900",title:"Edit member",children:s.jsx(m.Z,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{let confirmDelete=async()=>{let t=await g.Z.fire({title:"Hapus Member?",html:`Apakah Anda yakin ingin menghapus <strong>${e.name}</strong>?<br/>Ini akan menghapus semua ${e.schedules.length} jadwal.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Hapus",cancelButtonText:"Batal"});if(t.isConfirmed)try{let t=localStorage.getItem("token"),a={};for(let s of(t&&(a.Authorization=`Bearer ${t}`),e.schedules))await fetch(`/api/admin/members/${s.id}`,{method:"DELETE",headers:a});g.Z.fire({icon:"success",title:"Terhapus!",text:"Member dan semua jadwal telah dihapus",showConfirmButton:!1,timer:1500}),fetchMembers()}catch(e){g.Z.fire({icon:"error",title:"Gagal",text:"Gagal menghapus member"})}};confirmDelete()},className:"text-red-600 hover:text-red-900",title:"Hapus member",children:s.jsx(u.Z,{className:"w-5 h-5"})})]})})]},t))})]})})]}),0===z.length&&(0,s.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[s.jsx(x.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:'Belum ada member. Klik "Add Member" untuk menambah member baru'})]})]})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:D?"Edit Member":"Tambah Member Baru"}),(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Member *"}),s.jsx("input",{type:"text",required:!0,value:A.name,onChange:e=>P({...A,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Contoh: Badminton Club XYZ"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Kontak *"}),s.jsx("input",{type:"text",required:!0,value:A.contactName,onChange:e=>P({...A,contactName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"John Doe"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lapangan *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("field-dropdown");e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:A.fieldId?a.find(e=>e.id.toString()===A.fieldId)?.name:"Pilih lapangan"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:"field-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:a.map(e=>s.jsx("button",{type:"button",onClick:()=>{P({...A,fieldId:e.id.toString()}),document.getElementById("field-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Tipe Paket *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("package-type-dropdown");e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"MEMBER_1"===A.packageType?"Member - 1 Bulan":"MEMBER_2"===A.packageType?"Member - 2 Bulan":"MEMBER_3"===A.packageType?"Member - 3 Bulan":"MEMBER_4"===A.packageType?"Member - 4 Bulan":"MEMBER_5"===A.packageType?"Member - 5 Bulan":"MEMBER_6"===A.packageType?"Member - 6 Bulan":"MEMBER_PLUS"===A.packageType?"Member+ - 12 Bulan":"Pilih tipe paket"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsxs)("div",{id:"package-type-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("div",{className:"p-3 border-b border-gray-200",children:s.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member"})}),[{value:"MEMBER_1",label:"1 Bulan"},{value:"MEMBER_2",label:"2 Bulan"},{value:"MEMBER_3",label:"3 Bulan"},{value:"MEMBER_4",label:"4 Bulan"},{value:"MEMBER_5",label:"5 Bulan"},{value:"MEMBER_6",label:"6 Bulan"}].map(e=>s.jsx("button",{type:"button",onClick:()=>{P({...A,packageType:e.value}),document.getElementById("package-type-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value)),s.jsx("div",{className:"p-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member+"})}),s.jsx("button",{type:"button",onClick:()=>{P({...A,packageType:"MEMBER_PLUS"}),document.getElementById("package-type-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 font-medium text-blue-700",children:"12 Bulan"},"MEMBER_PLUS")]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai Member *"}),s.jsx("input",{type:"date",required:!0,value:A.startDate,onChange:e=>P({...A,startDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pilih tanggal kapan member mulai aktif"})]}),!D&&s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jadwal Bermain *"}),(0,s.jsxs)("button",{type:"button",onClick:()=>{W([...O,{dayOfWeek:"",startTime:"",endTime:""}])},className:"text-sm text-green-600 hover:text-green-700 font-medium flex items-center",children:[s.jsx(o.Z,{className:"w-4 h-4 mr-1"}),"Tambah Hari"]})]}),O.map((e,t)=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-3 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Jadwal ",t+1]}),O.length>1&&s.jsx("button",{type:"button",onClick:()=>{let e=O.filter((e,a)=>a!==t);W(e)},className:"text-red-600 hover:text-red-700",title:"Hapus jadwal ini",children:s.jsx(u.Z,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Hari *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById(`day-dropdown-${t}`);e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:e.dayOfWeek?p[e.dayOfWeek]:"Pilih hari"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:`day-dropdown-${t}`,className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[{value:"MONDAY",label:"Senin"},{value:"TUESDAY",label:"Selasa"},{value:"WEDNESDAY",label:"Rabu"},{value:"THURSDAY",label:"Kamis"},{value:"FRIDAY",label:"Jumat"},{value:"SATURDAY",label:"Sabtu"},{value:"SUNDAY",label:"Minggu"}].map(e=>s.jsx("button",{type:"button",onClick:()=>{let a=[...O];a[t].dayOfWeek=e.value,W(a),document.getElementById(`day-dropdown-${t}`)?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Jam Mulai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById(`start-time-dropdown-${t}`);e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:e.startTime||"Pilih jam"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:`start-time-dropdown-${t}`,className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,a)=>{let r=`${(a+8).toString().padStart(2,"0")}:00`;return s.jsx("button",{type:"button",onClick:()=>{let e=[...O];e[t].startTime=r,W(e),document.getElementById(`start-time-dropdown-${t}`)?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:r},r)})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Jam Selesai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById(`end-time-dropdown-${t}`);e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:e.endTime||"Pilih jam"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:`end-time-dropdown-${t}`,className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,a)=>{let r=`${(a+9).toString().padStart(2,"0")}:00`;return s.jsx("button",{type:"button",onClick:()=>{let e=[...O];e[t].endTime=r,W(e),document.getElementById(`end-time-dropdown-${t}`)?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:r},r)})})]})]})]}),e.dayOfWeek&&e.startTime&&e.endTime&&s.jsx("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:(0,s.jsxs)("p",{className:"text-xs text-blue-800",children:[s.jsx("strong",{children:p[e.dayOfWeek]})," ",e.startTime," - ",e.endTime,` (${parseInt(e.endTime.split(":")[0])-parseInt(e.startTime.split(":")[0])} jam)`]})})]})]},t))]})}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsxs)("button",{type:"submit",className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[D?"Perbarui":"Buat"," Member"]}),s.jsx("button",{type:"button",onClick:()=>{v(!1),resetForm()},className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Batal"})]})]})]})})}),k&&C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Tambah Jadwal"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Menambah jadwal baru untuk ",s.jsx("strong",{className:"text-gray-900",children:C.name})]}),(0,s.jsxs)("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Jadwal Saat Ini:"}),s.jsx("div",{className:"space-y-2",children:(()=>{let e=z.find(e=>e.name===C.name);return e?.schedules.map(e=>s.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2 text-sm",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-gray-700",children:p[e.dayOfWeek]}),s.jsxs("span",{className:"text-gray-600 text-xs ml-2",children:[e.startTime," - ",e.endTime]})]}),s.jsx("button",{type:"button",onClick:async()=>{let t=await g.Z.fire({title:"Hapus Jadwal?",html:`Apakah Anda yakin ingin menghapus jadwal <strong>${p[e.dayOfWeek]} ${e.startTime}-${e.endTime}</strong>?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Hapus",cancelButtonText:"Batal"});if(t.isConfirmed)try{let t=localStorage.getItem("token"),a={};t&&(a.Authorization=`Bearer ${t}`);let s=await fetch(`/api/admin/members/${e.id}`,{method:"DELETE",headers:a});if(s.ok){g.Z.fire({icon:"success",title:"Terhapus!",showConfirmButton:!1,timer:1500}),fetchMembers();let e=z.find(e=>e.name===C.name);e&&e.schedules.length<=1&&(M(!1),resetScheduleForm())}}catch(e){g.Z.fire({icon:"error",title:"Gagal",text:"Gagal menghapus jadwal"})}},className:"text-red-400 hover:text-red-600 hover:bg-red-50 rounded p-1 transition-colors",title:"Hapus jadwal ini",children:s.jsx(u.Z,{className:"w-4 h-4"})})]},e.id))})()})]}),(0,s.jsxs)("form",{onSubmit:handleSubmitSchedule,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Hari Tambahan *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("schedule-day-dropdown");e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:$.dayOfWeek?p[$.dayOfWeek]:"Pilih hari"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:"schedule-day-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[{value:"MONDAY",label:"Senin"},{value:"TUESDAY",label:"Selasa"},{value:"WEDNESDAY",label:"Rabu"},{value:"THURSDAY",label:"Kamis"},{value:"FRIDAY",label:"Jumat"},{value:"SATURDAY",label:"Sabtu"},{value:"SUNDAY",label:"Minggu"}].map(e=>s.jsx("button",{type:"button",onClick:()=>{Z({...$,dayOfWeek:e.value}),document.getElementById("schedule-day-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jam Mulai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("schedule-start-time-dropdown");e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:$.startTime||"Pilih jam"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:"schedule-start-time-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,t)=>{let a=`${(t+8).toString().padStart(2,"0")}:00`;return s.jsx("button",{type:"button",onClick:()=>{Z({...$,startTime:a}),document.getElementById("schedule-start-time-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:a},a)})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jam Selesai *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("schedule-end-time-dropdown");e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:$.endTime||"Pilih jam"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:"schedule-end-time-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:Array.from({length:14},(e,t)=>{let a=`${(t+9).toString().padStart(2,"0")}:00`;return s.jsx("button",{type:"button",onClick:()=>{Z({...$,endTime:a}),document.getElementById("schedule-end-time-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:a},a)})})]})]})]}),$.startTime&&$.endTime&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(h.Z,{className:"w-5 h-5 text-blue-600"}),(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Durasi:"})," ",parseInt($.endTime.split(":")[0])-parseInt($.startTime.split(":")[0])," jam"]})]})}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"submit",className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 font-medium",children:"Tambah Jadwal"}),s.jsx("button",{type:"button",onClick:()=>{M(!1),resetScheduleForm()},className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 font-medium",children:"Batal"})]})]})]})})}),T&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Ringkasan Jadwal Member"}),s.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.map(e=>{let t=z.filter(t=>t.fieldId===e.id);return 0===t.length?null:(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3 pb-2 border-b-2 border-gray-200",children:e.name}),["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"].map(e=>{let a=t.flatMap(t=>t.schedules.filter(t=>t.dayOfWeek===e));return 0===a.length?null:s.jsx("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:p[e]}),s.jsx("div",{className:"space-y-2",children:a.map(e=>{let a=t.find(t=>t.schedules.some(t=>t.id===e.id));return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:a?.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Kontak: ",a?.contactName]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-blue-600",children:[e.startTime," - ",e.endTime]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[parseInt(e.endTime.split(":")[0])-parseInt(e.startTime.split(":")[0])," jam"]})]})]},e.id)})})]})},e)})]},e.id)}),0===z.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(x.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Belum ada member terdaftar"})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsx("button",{onClick:()=>B(!1),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Tutup"})})]})})}),E&&L&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(c.Z,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Perpanjang Member"})]}),s.jsx("button",{onClick:()=>{S(!1),R(null)},className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 border border-blue-200",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Informasi Member:"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Nama:"}),s.jsx("span",{className:"font-medium text-gray-900",children:L.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Kontak:"}),s.jsx("span",{className:"font-medium text-gray-900",children:L.contactName})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Lapangan:"}),s.jsx("span",{className:"font-medium text-gray-900",children:L.field.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Paket Saat Ini:"}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${"MEMBER_PLUS"===L.packageType?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:"MEMBER_1"===L.packageType?"Member 1 Bln":"MEMBER_2"===L.packageType?"Member 2 Bln":"MEMBER_3"===L.packageType?"Member 3 Bln":"MEMBER_4"===L.packageType?"Member 4 Bln":"MEMBER_5"===L.packageType?"Member 5 Bln":"MEMBER_6"===L.packageType?"Member 6 Bln":"MEMBER_PLUS"===L.packageType?"Member+ 12 Bln":"-"})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-2 border-t border-blue-300",children:[s.jsx("span",{className:"text-gray-600",children:"Mulai:"}),s.jsx("span",{className:"font-medium text-gray-900",children:new Date(L.startDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Berakhir:"}),s.jsx("span",{className:"font-medium text-red-600",children:new Date(L.endDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),(0,s.jsxs)("form",{onSubmit:handleSubmitExtend,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Paket Perpanjangan *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("extend-package-dropdown");e?.classList.toggle("hidden")},className:"flex items-center justify-between w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"MEMBER_1"===U.packageType?"Member - 1 Bulan":"MEMBER_2"===U.packageType?"Member - 2 Bulan":"MEMBER_3"===U.packageType?"Member - 3 Bulan":"MEMBER_4"===U.packageType?"Member - 4 Bulan":"MEMBER_5"===U.packageType?"Member - 5 Bulan":"MEMBER_6"===U.packageType?"Member - 6 Bulan":"MEMBER_PLUS"===U.packageType?"Member+ - 12 Bulan":"Pilih paket"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,s.jsxs)("div",{id:"extend-package-dropdown",className:"hidden absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:[s.jsx("div",{className:"p-3 border-b border-gray-200",children:s.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member"})}),[{value:"MEMBER_1",label:"1 Bulan"},{value:"MEMBER_2",label:"2 Bulan"},{value:"MEMBER_3",label:"3 Bulan"},{value:"MEMBER_4",label:"4 Bulan"},{value:"MEMBER_5",label:"5 Bulan"},{value:"MEMBER_6",label:"6 Bulan"}].map(e=>s.jsx("button",{type:"button",onClick:()=>{Y({...U,packageType:e.value}),document.getElementById("extend-package-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:e.label},e.value)),s.jsx("div",{className:"p-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Member+"})}),s.jsx("button",{type:"button",onClick:()=>{Y({...U,packageType:"MEMBER_PLUS"}),document.getElementById("extend-package-dropdown")?.classList.add("hidden")},className:"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 font-medium text-blue-700",children:"12 Bulan"},"MEMBER_PLUS")]})]})]}),U.packageType&&L&&(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"\uD83D\uDCC5 Preview Perpanjangan:"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Durasi Tambahan:"}),(0,s.jsxs)("span",{className:"font-semibold text-green-800 bg-green-100 px-2 py-1 rounded",children:["+",(()=>{let e="MEMBER_PLUS"===U.packageType?12:parseInt(U.packageType.split("_")[1]);return`${e} bulan`})()]})]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-green-300",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Perpanjangan dari:"}),s.jsx("span",{className:"font-medium text-gray-900",children:new Date(L.endDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Berakhir pada:"}),s.jsx("span",{className:"font-bold text-green-700",children:(()=>{let e=new Date(L.endDate),t="MEMBER_PLUS"===U.packageType?12:parseInt(U.packageType.split("_")[1]),a=new Date(e);return a.setMonth(a.getMonth()+t),a.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})()})]})]}),s.jsx("div",{className:"pt-2 border-t border-green-300 bg-blue-50 -mx-4 -mb-4 px-4 py-3 rounded-b-lg",children:(0,s.jsxs)("div",{className:"flex items-center text-xs text-blue-700",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,s.jsxs)("span",{children:["Tanggal mulai member tetap: ",new Date(L.startDate).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]})]})})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"submit",className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-medium",children:"Perpanjang Member"}),s.jsx("button",{type:"button",onClick:()=>{S(!1),R(null)},className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 font-medium",children:"Batal"})]})]})]})})})]})}},72323:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var s=a(95153);let r=(0,s.createProxy)(String.raw`C:\Projects\backup 07-11-2025 4.11\gorpuribeta-main\app\admin\members\page.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,d=i}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[2006,2246,7756,4658,3517,6897,8147],()=>__webpack_exec__(77780));module.exports=a})();