(()=>{var e={};e.id=8355,e.ids=[8355],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},3777:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>m,routeModule:()=>h,tree:()=>d});var r=s(67096),t=s(16132),n=s(37284),l=s.n(n),i=s(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(a,o);let d=["",{children:["booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,35712)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\booking\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,29925)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\booking\\page.tsx"],c="/booking/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/booking/page",pathname:"/booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},59211:(e,a,s)=>{Promise.resolve().then(s.bind(s,10712))},10712:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>BookingPage});var r=s(30784),t=s(23745),n=s.n(t),l=s(9885),i=s(57114),o=s(517),d=s(15441),m=s(93680),c=s(19458),x=s(1264),h=s(19300);function BookingPage(){let e=(0,i.useRouter)(),a=(0,i.useSearchParams)(),s=a.get("fieldId")||a.get("field"),t=a.get("date"),u=a.get("startTime"),p=a.get("endTime"),g=a.get("totalPrice"),[b,f]=(0,l.useState)(null),[y,j]=(0,l.useState)(null),[N,v]=(0,l.useState)(!0),[w,k]=(0,l.useState)(!1),[P,C]=(0,l.useState)("FULL"),[T,_]=(0,l.useState)("BANK_TRANSFER"),[M,S]=(0,l.useState)(!1),B=(0,l.useRef)(null),[L,R]=(0,l.useState)({name:"",email:"",phone:"",date:t||"",startTime:u||"",endTime:p||"",notes:""}),[A,I]=(0,l.useState)(null),[F,z]=(0,l.useState)(""),[E,D]=(0,l.useState)(""),[q,H]=(0,l.useState)(0),[$,K]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let handleClickOutside=e=>{B.current&&!B.current.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]),(0,l.useEffect)(()=>{g&&H(parseInt(g));let fetchField=async()=>{if(!s){e.push("/fields");return}try{let a=await fetch(`/api/v1/fields?id=${s}`);if(a.ok){let e=await a.json();f(e.field)}else e.push("/fields")}catch(a){console.error("Error fetching field:",a),e.push("/fields")}finally{v(!1)}};(()=>{try{let e=localStorage.getItem("token"),a=localStorage.getItem("user");if(e&&a){let e=JSON.parse(a);j(e),R(a=>({...a,name:e.nama_user||"",email:e.email_user||"",phone:e.phone_user||""}))}}catch(e){console.error("Error loading user data:",e)}})(),fetchField()},[s,e]);let handleInputChange=e=>{let{name:a,value:s}=e.target;R(e=>({...e,[a]:s}))},handlePaymentTypeChange=e=>{C(e)},handlePaymentMethodChange=e=>{_(e)},getPaymentAmount=()=>{let e=calculateTotal();return"DP"===P?.5*e:e},handleSubmit=async a=>{a.preventDefault(),k(!0);try{let a=await fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:L.name,email:L.email,phone:L.phone,field_id:s,reservation_date:L.date,start_time:L.startTime,end_time:L.endTime,total_price:calculateTotal(),payment_amount:getPaymentAmount(),payment_type:P,notes:L.notes})});if(!a.ok){let e=await a.json();h.Z.fire({icon:"error",title:"Reservasi Gagal",text:e.error||"Terjadi kesalahan saat membuat reservasi",confirmButtonColor:"#2563eb"});return}let r=await a.json(),t=r.reservation.id;if(A){console.log("Uploading payment proof for reservation:",t);let e=new FormData;e.append("file",A),e.append("reservationId",t.toString()),e.append("paymentNotes",F),e.append("dpSenderAccountName",E);try{let a=await fetch("/api/reservations/upload-payment",{method:"POST",body:e});if(a.ok){let e=await a.json();console.log("Payment proof uploaded successfully:",e)}else{let e=await a.json();console.error("Payment proof upload failed:",e),h.Z.fire({icon:"warning",title:"Upload Bukti Gagal",text:e.error||"Upload bukti pembayaran gagal, tapi reservasi sudah tersimpan",confirmButtonColor:"#2563eb"})}}catch(e){console.error("Upload error:",e),h.Z.fire({icon:"warning",title:"Upload Gagal",text:"Error saat upload bukti pembayaran: "+e.message,confirmButtonColor:"#2563eb"})}}else console.log("No payment proof provided");h.Z.fire({icon:"success",title:"Reservasi Berhasil!",text:"Bukti pembayaran telah dikirim untuk verifikasi. Kami akan menghubungi Anda segera.",showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#16a34a",confirmButtonText:"Cek Status Reservasi",cancelButtonText:"OK"}).then(a=>{a.isConfirmed?e.push("/dashboard"):e.push("/fields")})}catch(e){console.error("Error submitting reservation:",e),h.Z.fire({icon:"error",title:"Terjadi Kesalahan",text:"Silakan coba lagi atau hubungi admin jika masalah berlanjut",confirmButtonColor:"#2563eb"})}finally{k(!1)}},formatPrice=e=>isNaN(e)||null==e?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),calculateTotal=()=>{if(q>0)return q;if(!b||!L.startTime||!L.endTime)return 0;let e=parseInt(L.startTime.split(":")[0]),a=parseInt(L.endTime.split(":")[0]);return(a-e)*b.price_per_hour};return N?r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto mb-8"}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[r.jsx("div",{className:"h-64 bg-gray-200 rounded mb-6"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})]})]})})}):b?r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Reservasi Lapangan"}),r.jsx("p",{className:"text-gray-600",children:"Lengkapi data di bawah ini untuk menyelesaikan reservasi Anda"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-4",children:[b.image_url?r.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-48 object-cover"}):r.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-lg font-medium",children:b.name})}),(0,r.jsxs)("div",{className:"p-5",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:b.name}),r.jsx("div",{className:"bg-primary-50 rounded-lg p-3 mb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Harga per jam"}),r.jsx("span",{className:"text-xl font-bold text-primary-600",children:formatPrice(b.price_per_hour)})]})}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Fasilitas:"}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.facilities.map((e,a)=>r.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded-md",children:e},a))})]}),t&&u&&p&&(0,r.jsxs)("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Jadwal Dipilih"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx(o.Z,{className:"w-4 h-4 text-blue-600 mr-2 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Tanggal"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(t+"T00:00:00").toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short",year:"numeric"})})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx(d.Z,{className:"w-4 h-4 text-blue-600 mr-2 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Waktu"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[u," - ",p,(0,r.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",(()=>{let e=parseInt(u.split(":")[0]),a=parseInt(p.split(":")[0]);return a-e})()," jam)"]})]})]})]}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-3 mt-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Bayar"}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:formatPrice(calculateTotal())})]})})]})]})]})]})}),r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Form Reservasi"}),r.jsx("p",{className:"text-primary-100 text-sm mt-1",children:"Lengkapi data berikut untuk melanjutkan"})]}),(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"p-6",children:[y&&r.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsx("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"bg-green-100 rounded-full p-2",children:r.jsx(m.Z,{className:"w-5 h-5 text-green-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-900",children:"Data Auto-filled"}),(0,r.jsxs)("p",{className:"text-xs text-green-700 mt-0.5",children:["Nama, email, dan nomor telepon diisi otomatis dari akun: ",r.jsx("strong",{children:y.nama_user})]})]})]})})}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b",children:"Data Pemesan"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap"}),r.jsx("input",{type:"text",name:"name",value:L.name,onChange:handleInputChange,required:!0,readOnly:!!y,disabled:!!y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${y&&L.name===y.nama_user?"border-green-300 bg-green-50":"border-gray-300"} ${y?"cursor-not-allowed":""}`,placeholder:"Masukkan nama lengkap"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:L.email,onChange:handleInputChange,required:!0,readOnly:!!y,disabled:!!y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${y&&L.email===y.email_user?"border-green-300 bg-green-50":"border-gray-300"} ${y?"cursor-not-allowed":""}`,placeholder:"contoh@email.com"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Telepon"}),r.jsx("input",{type:"tel",name:"phone",value:L.phone,onChange:handleInputChange,required:!0,readOnly:!!y,disabled:!!y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent cursor-not-allowed ${y&&L.phone===y.phone_user?"border-green-300 bg-green-50":"border-gray-300"}`,placeholder:"08xxxxxxxxxx"})]})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b",children:"Bukti Pembayaran"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Pilih Tipe Pembayaran:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx("div",{onClick:()=>handlePaymentTypeChange("FULL"),className:`cursor-pointer rounded-lg border-2 p-4 transition-all ${"FULL"===P?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-primary-200"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${"FULL"===P?"border-primary-600":"border-gray-400"}`,children:"FULL"===P&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Bayar Lunas"}),r.jsx("p",{className:"text-sm text-gray-500",children:formatPrice(calculateTotal())})]})]})}),r.jsx("div",{onClick:()=>handlePaymentTypeChange("DP"),className:`cursor-pointer rounded-lg border-2 p-4 transition-all ${"DP"===P?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-primary-200"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${"DP"===P?"border-primary-600":"border-gray-400"}`,children:"DP"===P&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"DP"}),r.jsx("p",{className:"text-sm text-gray-500",children:formatPrice(.5*calculateTotal())})]})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Rekening Pengirim ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:E,onChange:e=>D(e.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Masukkan nama sesuai rekening pengirim"}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-300 rounded-xl p-4 flex items-start space-x-3 shadow-sm mt-2",children:[r.jsx("div",{className:"flex-shrink-0 text-yellow-500 mt-0.5",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-exclamation-triangle",viewBox:"0 0 16 16",children:[r.jsx("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"}),r.jsx("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})]})}),r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-sm text-yellow-900 leading-relaxed",children:[r.jsx("span",{className:"font-semibold",children:"Peringatan:"})," Nama harus",r.jsx("span",{className:"font-semibold",children:" sesuai "}),"dengan rekening yang digunakan untuk transfer ","FULL"===P?"pembayaran":"DP","."]})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Metode Pembayaran"}),(0,r.jsxs)("div",{className:"relative",ref:B,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>S(!M),className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white text-gray-900 font-medium cursor-pointer hover:border-gray-400 transition-colors shadow-sm text-left flex items-center",children:["BANK_TRANSFER"===T?(0,r.jsxs)(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),r.jsx("span",{children:"Tunai"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5 mr-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),r.jsx("span",{children:"QRIS"})]}),r.jsx(c.Z,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500 transition-transform ${M?"rotate-180":""}`})]}),M&&(0,r.jsxs)("div",{style:{animation:"fadeIn 0.2s ease-out"},className:"jsx-e3edab3fee8a8dc5 absolute z-10 w-full mt-2 bg-white border-2 border-gray-200 rounded-lg shadow-lg overflow-hidden transition-all duration-200 ease-out animate-in fade-in slide-in-from-top-2",children:[r.jsx(n(),{id:"e3edab3fee8a8dc5",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{handlePaymentMethodChange("BANK_TRANSFER"),S(!1)},className:`jsx-e3edab3fee8a8dc5 w-full px-4 py-3 text-left flex items-center hover:bg-blue-50 transition-colors ${"BANK_TRANSFER"===T?"bg-blue-50":""}`,children:[r.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-e3edab3fee8a8dc5 w-5 h-5 mr-3 text-blue-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z",className:"jsx-e3edab3fee8a8dc5"})}),r.jsx("span",{className:"jsx-e3edab3fee8a8dc5 font-medium text-gray-900",children:"Tunai"}),"BANK_TRANSFER"===T&&r.jsx(x.Z,{className:"ml-auto h-5 w-5 text-blue-600"})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{handlePaymentMethodChange("QRIS"),S(!1)},className:`jsx-e3edab3fee8a8dc5 w-full px-4 py-3 text-left flex items-center hover:bg-green-50 transition-colors ${"QRIS"===T?"bg-green-50":""}`,children:[r.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-e3edab3fee8a8dc5 w-5 h-5 mr-3 text-green-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z",className:"jsx-e3edab3fee8a8dc5"})}),r.jsx("span",{className:"jsx-e3edab3fee8a8dc5 font-medium text-gray-900",children:"QRIS"}),"QRIS"===T&&r.jsx(x.Z,{className:"ml-auto h-5 w-5 text-green-600"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 border-2 rounded-xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 mb-3",children:[r.jsx("div",{className:"bg-blue-600 rounded-lg p-2",children:"BANK_TRANSFER"===T?r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}):r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-bold mb-1 text-blue-900",children:"BANK_TRANSFER"===T?"Informasi Rekening Transfer":"Informasi QRIS"}),r.jsx("p",{className:"text-xs text-blue-700",children:"BANK_TRANSFER"===T?"Silakan transfer ke rekening berikut:":"Scan QR Code di bawah ini untuk pembayaran:"})]})]}),"BANK_TRANSFER"===T?(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Bank"}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"BCA"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"No. Rekening"}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"3450763755"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Atas Nama"}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Rafael Nugroho"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Jumlah Transfer"}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:formatPrice(getPaymentAmount())})]})]}):r.jsx("div",{className:"bg-white rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-blue-200 mb-3",children:r.jsx("img",{src:"/images/qris.jpeg",alt:"QRIS Code",className:"w-64 h-64 sm:w-72 sm:h-72 md:w-80 md:h-80 object-contain",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.parentElement.innerHTML=`
                                  <div class="w-64 h-64 sm:w-72 sm:h-72 md:w-80 md:h-80 flex items-center justify-center bg-gradient-to-br from-blue-100 to-indigo-100 rounded-lg">
                                    <div class="text-center">
                                      <svg class="w-16 h-16 mx-auto text-blue-600 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
                                      </svg>
                                      <p class="text-sm font-medium text-blue-900">QR Code QRIS</p>
                                      <p class="text-xs text-blue-600 mt-1">Scan untuk bayar</p>
                                    </div>
                                  </div>
                                `}})}),r.jsx("p",{className:"text-sm text-gray-600 text-center mb-3 font-medium",children:"Scan QR Code dengan aplikasi mobile banking"}),r.jsx("div",{className:"w-full border-t pt-3",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Jumlah Bayar"}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:formatPrice(getPaymentAmount())})]})})]})}),"DP"===P&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Informasi DP"}),(0,r.jsxs)("p",{className:"text-xs text-yellow-700 mt-1",children:["Sisa pembayaran sebesar ",formatPrice(.5*calculateTotal())," harus dilunasi sebelum menggunakan lapangan."]})]})]})})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-300 rounded-xl p-4 flex items-start space-x-3 shadow-sm",children:[r.jsx("div",{className:"flex-shrink-0 text-yellow-500 mt-0.5",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-exclamation-triangle",viewBox:"0 0 16 16",children:[r.jsx("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"}),r.jsx("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})]})}),r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-sm text-yellow-900 leading-relaxed",children:[r.jsx("span",{className:"font-semibold",children:"Peringatan:"})," Bukti transfer yang",r.jsx("span",{className:"font-semibold",children:" tidak valid "}),"akan ",r.jsx("span",{className:"font-semibold",children:"ditolak"})," dan",r.jsx("span",{className:"font-semibold",children:" tidak akan di refund"}),"."]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Bukti Transfer ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){if(!a.type.startsWith("image/")){h.Z.fire({icon:"error",title:"File Tidak Valid",text:"File harus berupa gambar (JPG, PNG, GIF)",confirmButtonColor:"#2563eb"});return}if(a.size>5242880){h.Z.fire({icon:"error",title:"File Terlalu Besar",text:"Ukuran file maksimal 5MB",confirmButtonColor:"#2563eb"});return}I(a)}},required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1.5",children:["Format: JPG, PNG, GIF (Maksimal 5MB). ",r.jsx("span",{className:"font-semibold text-red-600",children:"Wajib diupload sebelum submit!"})]}),A&&r.jsx("div",{className:"mt-3 bg-green-50 border border-green-200 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"bg-green-100 rounded-full p-1",children:r.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsxs)("p",{className:"text-sm font-medium text-green-900",children:["File terpilih: ",A.name]})]})})]}),r.jsx("div",{className:"mt-4",children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{id:"agreeToTerms",type:"checkbox",checked:$,onChange:e=>K(e.target.checked),className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 focus:ring-2 cursor-pointer"})}),(0,r.jsxs)("div",{className:"ml-3 text-sm",children:[(0,r.jsxs)("label",{htmlFor:"agreeToTerms",className:"font-medium text-gray-700 cursor-pointer",children:["Saya telah membaca dan menyetujui ketentuan yang berlaku ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dengan mencentang ini, Anda menyetujui bahwa bukti transfer yang tidak valid akan ditolak dan tidak akan di-refund."})]})]})})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t",children:[r.jsx("button",{type:"button",onClick:()=>e.push("/schedule?fieldId="+s),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Kembali"}),r.jsx("button",{type:"submit",disabled:!A||!E||""===E.trim()||!$||w,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all shadow-md 
                    ${A&&E&&""!==E.trim()&&$&&!w?"bg-gradient-to-r from-primary-600 to-primary-700 text-white hover:from-primary-700 hover:to-primary-800 hover:shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed shadow-none"}`,children:w?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):"Konfirmasi Reservasi"})]})]})]})})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Lapangan Tidak Ditemukan"}),r.jsx("button",{onClick:()=>e.push("/fields"),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Kembali ke Daftar Lapangan"})]})})}},35712:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var r=s(95153);let t=(0,r.createProxy)(String.raw`C:\Projects\backup 07-11-2025 4.11\gorpuribeta-main\app\booking\page.tsx`),{__esModule:n,$$typeof:l}=t,i=t.default,o=i}};var a=require("../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[2006,2246,6741,6897],()=>__webpack_exec__(3777));module.exports=s})();