(()=>{var e={};e.id=4011,e.ids=[4011],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},83527:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(67096),s=t(16132),n=t(37284),l=t.n(n),o=t(32564),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(a,i);let c=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19640)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\register\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,29925)),"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\register\\page.tsx"],u="/register/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},11592:(e,a,t)=>{Promise.resolve().then(t.bind(t,31487))},31487:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>RegisterPage});var r=t(30784),s=t(9885),n=t(11440),l=t.n(n),o=t(57114),i=t(93680),c=t(59490),d=t(14571),u=t(23294),m=t(43250),p=t(28626),g=t(19300);function RegisterPage(){let[e,a]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:"",phone:""}),[t,n]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!0),[w,k]=(0,s.useState)(0),v=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("user");if(e&&a)try{let e=JSON.parse(a);"ADMIN"===e.role?v.replace("/admin"):v.replace("/");return}catch(e){localStorage.removeItem("token"),localStorage.removeItem("user"),j(!1)}else j(!1)},[v]);let N=["/images/badminton.jpg","/images/futsal.jpg","/images/basket.jpg"];(0,s.useEffect)(()=>{let e=setInterval(()=>{k(e=>(e+1)%N.length)},5e3);return()=>clearInterval(e)},[N.length]);let handleSubmit=async a=>{if(a.preventDefault(),e.password!==e.confirmPassword){g.Z.fire({icon:"error",title:"Password Tidak Cocok",text:"Password dan konfirmasi password tidak cocok",confirmButtonColor:"#2563eb"});return}let t=await g.Z.fire({title:"Apakah data Anda sudah benar?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, lanjutkan!",cancelButtonText:"Periksa lagi",confirmButtonColor:"#2563eb"});if(t.isConfirmed){f(!0);try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password,phone:e.phone})}),t=await a.json();if(!a.ok){g.Z.fire({icon:"error",title:"Pendaftaran Gagal",text:t.error||"Terjadi kesalahan saat mendaftar",confirmButtonColor:"#2563eb"});return}t.token?(localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),window.dispatchEvent(new Event("userLogin")),g.Z.fire({icon:"success",title:"Berhasil!",text:"Akun Anda telah dibuat dan login otomatis.",showConfirmButton:!1,timer:1500}),setTimeout(()=>{v.push("/dashboard"),v.refresh()},1500)):(g.Z.fire({icon:"error",title:"Pendaftaran Gagal",text:"Akun berhasil dibuat, tapi terjadi kesalahan. Silakan login manual.",confirmButtonColor:"#2563eb"}),setTimeout(()=>{v.push("/login")},2e3))}catch(e){g.Z.fire({icon:"error",title:"Error Jaringan",text:"Terjadi kesalahan jaringan. Silakan coba lagi.",confirmButtonColor:"#2563eb"})}finally{f(!1)}}},handleChange=t=>{a({...e,[t.target.name]:t.target.value})};return y?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Memuat..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row bg-gray-50 relative overflow-hidden",children:[r.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-10 z-10 relative",children:(0,r.jsxs)("div",{className:"bg-white shadow-2xl rounded-2xl p-8 w-full max-w-md",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Lapangan Olahraga Puri Beta"}),r.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Daftar Sekarang!"}),(0,r.jsxs)("form",{className:"space-y-5",onSubmit:handleSubmit,children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(i.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:handleChange,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan nama lengkap Anda"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(c.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:handleChange,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan email Anda"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nomor Telepon"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(d.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:handleChange,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan nomor telepon Anda"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(u.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:e.password,onChange:handleChange,className:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Masukkan password Anda"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!t),children:t?r.jsx(m.Z,{className:"h-5 w-5 text-gray-400"}):r.jsx(p.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Konfirmasi Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(u.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",required:!0,value:e.confirmPassword,onChange:handleChange,className:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Konfirmasi password Anda"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!x),children:x?r.jsx(m.Z,{className:"h-5 w-5 text-gray-400"}):r.jsx(p.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsx("button",{type:"submit",disabled:b,className:"w-full py-2.5 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-all",children:b?"Memproses...":"Daftar"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 text-center mt-4",children:["Sudah punya akun?"," ",r.jsx(l(),{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 underline",children:"Masuk disini"})]})]})]})}),(0,r.jsxs)("div",{className:"hidden lg:block lg:flex-1 relative overflow-hidden",children:[N.map((e,a)=>r.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-1000 ease-in-out ${a===w?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${e})`}},a)),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})]})]})}},19640:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var r=t(95153);let s=(0,r.createProxy)(String.raw`C:\Projects\backup 07-11-2025 4.11\gorpuribeta-main\app\register\page.tsx`),{__esModule:n,$$typeof:l}=s,o=s.default,i=o}};var a=require("../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[2006,2246,2500,7799,7636,6897],()=>__webpack_exec__(83527));module.exports=t})();