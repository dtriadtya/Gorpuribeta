"use strict";(()=>{var e={};e.id=2603,e.ids=[2603],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},26807:(e,s,r)=>{r.r(s),r.d(s,{headerHooks:()=>h,originalPathname:()=>_,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>m});var a={};r.r(a),r.d(a,{POST:()=>POST});var t=r(10884),o=r(16132),u=r(95798),i=r(15204),n=r(62421),d=r.n(n),p=r(8192);async function POST(e){try{let s=(0,p.Ym)(e);if(!s)return u.Z.json({message:"Unauthorized"},{status:401});let{userId:r,currentPassword:a,newPassword:t}=await e.json(),o=await i._.user.findUnique({where:{id_user:r},select:{id_user:!0,password:!0}});if(!o)return u.Z.json({message:"User tidak ditemukan"},{status:404});let n=await d().compare(a,o.password);if(!n)return u.Z.json({message:"Password saat ini tidak valid"},{status:400});let c=await d().hash(t,12);return await i._.user.update({where:{id_user:r},data:{password:c}}),console.log(`âœ… Password updated successfully for user ID: ${r}`),u.Z.json({message:"Password berhasil diubah"})}catch(e){return console.error("Error changing password:",e),u.Z.json({message:"Terjadi kesalahan saat mengubah password"},{status:500})}}let c=new t.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/users/change-password/route",pathname:"/api/users/change-password",filename:"route",bundlePath:"app/api/users/change-password/route"},resolvedPagePath:"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\api\\users\\change-password\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:w,serverHooks:g,headerHooks:h,staticGenerationBailout:m}=c,_="/api/users/change-password/route"}};var s=require("../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[2006,8107,6721,2421,390],()=>__webpack_exec__(26807));module.exports=r})();