"use strict";(()=>{var e={};e.id=4088,e.ids=[4088],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},73292:e=>{e.exports=require("fs/promises")},71017:e=>{e.exports=require("path")},68842:(e,r,a)=>{a.r(r),a.d(r,{headerHooks:()=>g,originalPathname:()=>x,requestAsyncStorage:()=>f,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>v});var t={};a.r(t),a.d(t,{POST:()=>POST});var i=a(10884),o=a(16132),s=a(95798),u=a(71017),p=a(73292),l=a(57147);let n=(0,u.join)(process.cwd(),"public/uploads/fields");async function POST(e){try{let r=await e.formData(),a=r.get("file");if(!a)return s.Z.json({error:"No file uploaded"},{status:400});let t=await a.arrayBuffer(),i=Buffer.from(t),o=Date.now(),l=a.name,d=l.split(".").pop(),f=`field-${o}.${d}`,c=(0,u.join)(n,f);await (0,p.writeFile)(c,i);let m=`/uploads/fields/${f}`;return s.Z.json({url:m})}catch(e){return console.error("Error uploading file:",e),s.Z.json({error:"Error uploading file"},{status:500})}}(0,l.existsSync)(n)||(0,l.mkdirSync)(n,{recursive:!0});let d=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/v1/fields/upload-image/route",pathname:"/api/v1/fields/upload-image",filename:"route",bundlePath:"app/api/v1/fields/upload-image/route"},resolvedPagePath:"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\api\\v1\\fields\\upload-image\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:f,staticGenerationAsyncStorage:c,serverHooks:m,headerHooks:g,staticGenerationBailout:v}=d,x="/api/v1/fields/upload-image/route"}};var r=require("../../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),a=r.X(0,[2006,8107],()=>__webpack_exec__(68842));module.exports=a})();