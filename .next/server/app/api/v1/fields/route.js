"use strict";(()=>{var e={};e.id=5961,e.ids=[5961],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},43045:(e,a,r)=>{r.r(a),r.d(a,{headerHooks:()=>c,originalPathname:()=>g,requestAsyncStorage:()=>d,routeModule:()=>o,serverHooks:()=>u,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>_});var i={};r.r(i),r.d(i,{GET:()=>GET,POST:()=>POST});var t=r(10884),n=r(16132),s=r(95798),l=r(15204);async function GET(e){try{let{searchParams:a}=new URL(e.url),r=a.get("id");if(r){let e=await l._.field.findFirst({where:{id_lapangan:parseInt(r),isActive:!0}});if(!e)return s.Z.json({error:"Field not found"},{status:404});let a={id:e.id_lapangan,name:e.nama_lapangan,description:e.deskripsi,price_per_hour:Number(e.harga_per_jam),image_url:e.imageUrl,facilities:e.fasilitas,isActive:e.isActive,createdAt:e.lapangan_dibuat_pada.toISOString(),updatedAt:e.lapangan_diupdate_pada.toISOString()};return s.Z.json({field:a})}{let e=await l._.field.findMany({where:{isActive:!0},select:{id_lapangan:!0,nama_lapangan:!0,deskripsi:!0,harga_per_jam:!0,imageUrl:!0,fasilitas:!0,isActive:!0},orderBy:{lapangan_dibuat_pada:"desc"}}),a=e.map(e=>({id:e.id_lapangan,name:e.nama_lapangan,description:e.deskripsi,price_per_hour:Number(e.harga_per_jam),image_url:e.imageUrl,facilities:e.fasilitas,isActive:e.isActive}));return s.Z.json({fields:a})}}catch(e){return console.error("Error fetching fields:",e),s.Z.json({error:"Internal server error"},{status:500})}}async function POST(e){try{let a=await e.json(),{name:r,description:i,price_per_hour:t,image_url:n,facilities:o}=a;if(!r||!t)return s.Z.json({error:"Missing required fields"},{status:400});let d=await l._.field.create({data:{nama_lapangan:r,deskripsi:i,harga_per_jam:t,imageUrl:n,fasilitas:o||[]}});return s.Z.json({message:"Field created successfully",fieldId:d.id_lapangan},{status:201})}catch(e){return console.error("Error creating field:",e),s.Z.json({error:"Internal server error"},{status:500})}}let o=new t.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/v1/fields/route",pathname:"/api/v1/fields",filename:"route",bundlePath:"app/api/v1/fields/route"},resolvedPagePath:"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\api\\v1\\fields\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:d,staticGenerationAsyncStorage:p,serverHooks:u,headerHooks:c,staticGenerationBailout:_}=o,g="/api/v1/fields/route"},15204:(e,a,r)=>{r.d(a,{_:()=>t});var i=r(53524);let t=global.prisma||new i.PrismaClient({log:["error"]})}};var a=require("../../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[2006,8107],()=>__webpack_exec__(43045));module.exports=r})();