"use strict";(()=>{var e={};e.id=2386,e.ids=[2386],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},90135:(e,r,a)=>{a.r(r),a.d(r,{headerHooks:()=>c,originalPathname:()=>g,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>p,staticGenerationAsyncStorage:()=>u,staticGenerationBailout:()=>_});var i={};a.r(i),a.d(i,{DELETE:()=>DELETE,GET:()=>GET,PUT:()=>PUT});var t=a(10884),n=a(16132),s=a(95798),o=a(15204);async function GET(e,{params:r}){try{let e=parseInt(r.id),a=await o._.field.findFirst({where:{id_lapangan:e,isActive:!0}});if(!a)return s.Z.json({error:"Field not found"},{status:404});let i={id:a.id_lapangan,name:a.nama_lapangan,description:a.deskripsi,price_per_hour:Number(a.harga_per_jam),image_url:a.imageUrl,facilities:a.fasilitas,isActive:a.isActive,createdAt:a.lapangan_dibuat_pada.toISOString(),updatedAt:a.lapangan_diupdate_pada.toISOString()};return s.Z.json({field:i})}catch(e){return console.error("Error fetching field:",e),s.Z.json({error:"Internal server error"},{status:500})}}async function PUT(e,{params:r}){try{let a=parseInt(r.id),i=await e.json(),{name:t,description:n,price_per_hour:d,image_url:l,facilities:u}=i;if(!t||!d)return s.Z.json({error:"Missing required fields"},{status:400});let p=await o._.field.update({where:{id_lapangan:a},data:{nama_lapangan:t,deskripsi:n,harga_per_jam:d,imageUrl:l,fasilitas:u||[]}});return s.Z.json({message:"Field updated successfully",field:{id:p.id_lapangan,name:p.nama_lapangan,description:p.deskripsi,price_per_hour:Number(p.harga_per_jam),image_url:p.imageUrl,facilities:p.fasilitas,isActive:p.isActive}})}catch(e){return console.error("Error updating field:",e),s.Z.json({error:"Internal server error"},{status:500})}}async function DELETE(e,{params:r}){try{let e=parseInt(r.id);return await o._.field.delete({where:{id_lapangan:e}}),s.Z.json({message:"Field deleted successfully"})}catch(e){return console.error("Error deleting field:",e),s.Z.json({error:"Internal server error"},{status:500})}}let d=new t.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/v1/fields/[id]/route",pathname:"/api/v1/fields/[id]",filename:"route",bundlePath:"app/api/v1/fields/[id]/route"},resolvedPagePath:"C:\\Projects\\backup 07-11-2025 4.11\\gorpuribeta-main\\app\\api\\v1\\fields\\[id]\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:l,staticGenerationAsyncStorage:u,serverHooks:p,headerHooks:c,staticGenerationBailout:_}=d,g="/api/v1/fields/[id]/route"},15204:(e,r,a)=>{a.d(r,{_:()=>t});var i=a(53524);let t=global.prisma||new i.PrismaClient({log:["error"]})}};var r=require("../../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),a=r.X(0,[2006,8107],()=>__webpack_exec__(90135));module.exports=a})();